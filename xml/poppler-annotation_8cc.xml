<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.13">
  <compounddef id="poppler-annotation_8cc" kind="file" language="C++">
    <compoundname>poppler-annotation.cc</compoundname>
    <includes local="no">QtCore/QRegExp</includes>
    <includes local="no">QtCore/QtAlgorithms</includes>
    <includes local="no">QtXml/QDomElement</includes>
    <includes local="no">QtGui/QColor</includes>
    <includes local="no">QtGui/QTransform</includes>
    <includes refid="poppler-annotation_8h" local="yes">poppler-annotation.h</includes>
    <includes refid="poppler-link_8h" local="yes">poppler-link.h</includes>
    <includes refid="poppler-qt5_8h" local="yes">poppler-qt5.h</includes>
    <includes refid="poppler-annotation-helper_8h" local="yes">poppler-annotation-helper.h</includes>
    <includes refid="poppler-annotation-private_8h" local="yes">poppler-annotation-private.h</includes>
    <includes refid="poppler-page-private_8h" local="yes">poppler-page-private.h</includes>
    <includes refid="poppler-private_8h" local="yes">poppler-private.h</includes>
    <includes local="no">Page.h</includes>
    <includes refid="_annot_8h" local="no">Annot.h</includes>
    <includes refid="_gfx_8h" local="no">Gfx.h</includes>
    <includes refid="_error_8h" local="no">Error.h</includes>
    <includes refid="_file_spec_8h" local="no">FileSpec.h</includes>
    <includes refid="_link_8h" local="no">Link.h</includes>
    <incdepgraph>
      <node id="90829">
        <label>QtCore/QAbstractListModel</label>
      </node>
      <node id="90845">
        <label>stdarg.h</label>
      </node>
      <node id="90862">
        <label>Function.h</label>
        <link refid="_function_8h_source"/>
        <childnode refid="90840" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90837" relation="include">
        </childnode>
      </node>
      <node id="90863">
        <label>assert.h</label>
      </node>
      <node id="90878">
        <label>poppler-embeddedfile-private.h</label>
        <link refid="poppler-embeddedfile-private_8h_source"/>
      </node>
      <node id="90867">
        <label>XRef.h</label>
        <link refid="_x_ref_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90840" relation="include">
        </childnode>
        <childnode refid="90850" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90853" relation="include">
        </childnode>
        <childnode refid="90868" relation="include">
        </childnode>
      </node>
      <node id="90807">
        <label>thirdparty/poppler/qt5/poppler-annotation.cc</label>
        <link refid="poppler-annotation_8cc"/>
        <childnode refid="90808" relation="include">
        </childnode>
        <childnode refid="90809" relation="include">
        </childnode>
        <childnode refid="90810" relation="include">
        </childnode>
        <childnode refid="90811" relation="include">
        </childnode>
        <childnode refid="90812" relation="include">
        </childnode>
        <childnode refid="90813" relation="include">
        </childnode>
        <childnode refid="90825" relation="include">
        </childnode>
        <childnode refid="90827" relation="include">
        </childnode>
        <childnode refid="90834" relation="include">
        </childnode>
        <childnode refid="90854" relation="include">
        </childnode>
        <childnode refid="90855" relation="include">
        </childnode>
        <childnode refid="90857" relation="include">
        </childnode>
        <childnode refid="90879" relation="include">
        </childnode>
        <childnode refid="90871" relation="include">
        </childnode>
        <childnode refid="90880" relation="include">
        </childnode>
        <childnode refid="90848" relation="include">
        </childnode>
        <childnode refid="90881" relation="include">
        </childnode>
        <childnode refid="90882" relation="include">
        </childnode>
      </node>
      <node id="90861">
        <label>GfxState.h</label>
        <link refid="_gfx_state_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90840" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90862" relation="include">
        </childnode>
        <childnode refid="90863" relation="include">
        </childnode>
        <childnode refid="90864" relation="include">
        </childnode>
      </node>
      <node id="90823">
        <label>QtXml/QDomDocument</label>
      </node>
      <node id="90834">
        <label>poppler-annotation-helper.h</label>
        <link refid="poppler-annotation-helper_8h_source"/>
        <childnode refid="90835" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
      </node>
      <node id="90814">
        <label>QtCore/QDateTime</label>
      </node>
      <node id="90857">
        <label>poppler-private.h</label>
        <link refid="poppler-private_8h_source"/>
        <childnode refid="90858" relation="include">
        </childnode>
        <childnode refid="90859" relation="include">
        </childnode>
        <childnode refid="90821" relation="include">
        </childnode>
        <childnode refid="90860" relation="include">
        </childnode>
        <childnode refid="90861" relation="include">
        </childnode>
        <childnode refid="90865" relation="include">
        </childnode>
        <childnode refid="90866" relation="include">
        </childnode>
        <childnode refid="90874" relation="include">
        </childnode>
        <childnode refid="90876" relation="include">
        </childnode>
        <childnode refid="90848" relation="include">
        </childnode>
        <childnode refid="90827" relation="include">
        </childnode>
        <childnode refid="90878" relation="include">
        </childnode>
      </node>
      <node id="90846">
        <label>stdlib.h</label>
      </node>
      <node id="90842">
        <label>goo/gmem.h</label>
        <link refid="gmem_8h_source"/>
        <childnode refid="90838" relation="include">
        </childnode>
        <childnode refid="90841" relation="include">
        </childnode>
      </node>
      <node id="90866">
        <label>PDFDoc.h</label>
        <link refid="_p_d_f_doc_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90838" relation="include">
        </childnode>
        <childnode refid="90850" relation="include">
        </childnode>
        <childnode refid="90867" relation="include">
        </childnode>
        <childnode refid="90869" relation="include">
        </childnode>
        <childnode refid="90870" relation="include">
        </childnode>
        <childnode refid="90871" relation="include">
        </childnode>
        <childnode refid="90872" relation="include">
        </childnode>
        <childnode refid="90873" relation="include">
        </childnode>
        <childnode refid="90853" relation="include">
        </childnode>
      </node>
      <node id="90820">
        <label>QtCore/QScopedPointer</label>
      </node>
      <node id="90849">
        <label>Array.h</label>
        <link refid="_array_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90850" relation="include">
        </childnode>
      </node>
      <node id="90869">
        <label>Catalog.h</label>
        <link refid="_catalog_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90850" relation="include">
        </childnode>
        <childnode refid="90868" relation="include">
        </childnode>
      </node>
      <node id="90865">
        <label>GlobalParams.h</label>
        <link refid="_global_params_8h_source"/>
        <childnode refid="90863" relation="include">
        </childnode>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90838" relation="include">
        </childnode>
        <childnode refid="90840" relation="include">
        </childnode>
        <childnode refid="90856" relation="include">
        </childnode>
        <childnode refid="90850" relation="include">
        </childnode>
      </node>
      <node id="90874">
        <label>FontInfo.h</label>
        <link refid="_font_info_8h_source"/>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90840" relation="include">
        </childnode>
        <childnode refid="90875" relation="include">
        </childnode>
      </node>
      <node id="90819">
        <label>QtCore/QRectF</label>
      </node>
      <node id="90864">
        <label>map</label>
      </node>
      <node id="90848">
        <label>Error.h</label>
        <link refid="_error_8h_source"/>
        <childnode refid="90845" relation="include">
        </childnode>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90840" relation="include">
        </childnode>
        <childnode refid="90843" relation="include">
        </childnode>
      </node>
      <node id="90880">
        <label>Gfx.h</label>
        <link refid="_gfx_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90840" relation="include">
        </childnode>
        <childnode refid="90875" relation="include">
        </childnode>
        <childnode refid="90861" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90877" relation="include">
        </childnode>
        <childnode refid="90868" relation="include">
        </childnode>
      </node>
      <node id="90854">
        <label>poppler-annotation-private.h</label>
        <link refid="poppler-annotation-private_8h_source"/>
        <childnode refid="90816" relation="include">
        </childnode>
        <childnode refid="90818" relation="include">
        </childnode>
        <childnode refid="90815" relation="include">
        </childnode>
        <childnode refid="90813" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
      </node>
      <node id="90824">
        <label>poppler-export.h</label>
        <link refid="poppler-export_8h_source"/>
      </node>
      <node id="90875">
        <label>goo/GooList.h</label>
        <link refid="_goo_list_8h_source"/>
        <childnode refid="90840" relation="include">
        </childnode>
      </node>
      <node id="90852">
        <label>Dict.h</label>
        <link refid="_dict_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90850" relation="include">
        </childnode>
      </node>
      <node id="90871">
        <label>Annot.h</label>
        <link refid="_annot_8h_source"/>
        <childnode refid="90836" relation="include">
        </childnode>
      </node>
      <node id="90870">
        <label>Page.h</label>
        <link refid="thirdparty_2poppler_2poppler_2page_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90850" relation="include">
        </childnode>
      </node>
      <node id="90881">
        <label>FileSpec.h</label>
        <link refid="_file_spec_8h_source"/>
        <childnode refid="90836" relation="include">
        </childnode>
      </node>
      <node id="90833">
        <label>QtCore/QSet</label>
      </node>
      <node id="90813">
        <label>poppler-annotation.h</label>
        <link refid="poppler-annotation_8h_source"/>
        <childnode refid="90814" relation="include">
        </childnode>
        <childnode refid="90815" relation="include">
        </childnode>
        <childnode refid="90816" relation="include">
        </childnode>
        <childnode refid="90817" relation="include">
        </childnode>
        <childnode refid="90818" relation="include">
        </childnode>
        <childnode refid="90819" relation="include">
        </childnode>
        <childnode refid="90820" relation="include">
        </childnode>
        <childnode refid="90821" relation="include">
        </childnode>
        <childnode refid="90811" relation="include">
        </childnode>
        <childnode refid="90822" relation="include">
        </childnode>
        <childnode refid="90823" relation="include">
        </childnode>
        <childnode refid="90824" relation="include">
        </childnode>
      </node>
      <node id="90855">
        <label>poppler-page-private.h</label>
        <link refid="poppler-page-private_8h_source"/>
        <childnode refid="90856" relation="include">
        </childnode>
      </node>
      <node id="90844">
        <label>limits.h</label>
      </node>
      <node id="90831">
        <label>QtCore/qglobal.h</label>
      </node>
      <node id="90841">
        <label>poppler-config.h</label>
        <link refid="poppler-config_8h_source"/>
        <childnode refid="90838" relation="include">
        </childnode>
      </node>
      <node id="90847">
        <label>goo/GooLikely.h</label>
        <link refid="_goo_likely_8h_source"/>
      </node>
      <node id="90830">
        <label>poppler-page-transition.h</label>
        <link refid="poppler-page-transition_8h_source"/>
        <childnode refid="90824" relation="include">
        </childnode>
        <childnode refid="90831" relation="include">
        </childnode>
      </node>
      <node id="90821">
        <label>QtCore/QVector</label>
      </node>
      <node id="90853">
        <label>Stream.h</label>
        <link refid="_stream_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90838" relation="include">
        </childnode>
        <childnode refid="90840" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90850" relation="include">
        </childnode>
      </node>
      <node id="90851">
        <label>pthread.h</label>
      </node>
      <node id="90809">
        <label>QtCore/QtAlgorithms</label>
      </node>
      <node id="90877">
        <label>PopplerCache.h</label>
        <link refid="_poppler_cache_8h_source"/>
        <childnode refid="90836" relation="include">
        </childnode>
      </node>
      <node id="90825">
        <label>poppler-link.h</label>
        <link refid="poppler-link_8h_source"/>
        <childnode refid="90826" relation="include">
        </childnode>
        <childnode refid="90819" relation="include">
        </childnode>
        <childnode refid="90815" relation="include">
        </childnode>
        <childnode refid="90824" relation="include">
        </childnode>
      </node>
      <node id="90839">
        <label>string.h</label>
      </node>
      <node id="90843">
        <label>goo/GooString.h</label>
        <link refid="_goo_string_8h_source"/>
        <childnode refid="90844" relation="include">
        </childnode>
        <childnode refid="90845" relation="include">
        </childnode>
        <childnode refid="90846" relation="include">
        </childnode>
        <childnode refid="90840" relation="include">
        </childnode>
      </node>
      <node id="90872">
        <label>Form.h</label>
        <link refid="_form_8h_source"/>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90871" relation="include">
        </childnode>
        <childnode refid="90837" relation="include">
        </childnode>
      </node>
      <node id="90859">
        <label>QtCore/QPointer</label>
      </node>
      <node id="90882">
        <label>Link.h</label>
        <link refid="_link_8h_source"/>
        <childnode refid="90836" relation="include">
        </childnode>
      </node>
      <node id="90836">
        <label>Object.h</label>
        <link refid="_object_8h_source"/>
        <childnode refid="90837" relation="include">
        </childnode>
        <childnode refid="90838" relation="include">
        </childnode>
        <childnode refid="90839" relation="include">
        </childnode>
        <childnode refid="90840" relation="include">
        </childnode>
        <childnode refid="90842" relation="include">
        </childnode>
        <childnode refid="90843" relation="include">
        </childnode>
        <childnode refid="90847" relation="include">
        </childnode>
        <childnode refid="90848" relation="include">
        </childnode>
        <childnode refid="90849" relation="include">
        </childnode>
        <childnode refid="90852" relation="include">
        </childnode>
        <childnode refid="90853" relation="include">
        </childnode>
      </node>
      <node id="90868">
        <label>vector</label>
      </node>
      <node id="90816">
        <label>QtCore/QLinkedList</label>
      </node>
      <node id="90812">
        <label>QtGui/QTransform</label>
      </node>
      <node id="90832">
        <label>QtCore/QByteArray</label>
      </node>
      <node id="90876">
        <label>OutputDev.h</label>
        <link refid="_output_dev_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
        <childnode refid="90840" relation="include">
        </childnode>
        <childnode refid="90856" relation="include">
        </childnode>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90877" relation="include">
        </childnode>
      </node>
      <node id="90828">
        <label>poppler-optcontent.h</label>
        <link refid="poppler-optcontent_8h_source"/>
        <childnode refid="90829" relation="include">
        </childnode>
        <childnode refid="90824" relation="include">
        </childnode>
      </node>
      <node id="90879">
        <label>Page.h</label>
      </node>
      <node id="90850">
        <label>goo/GooMutex.h</label>
        <link refid="_goo_mutex_8h_source"/>
        <childnode refid="90851" relation="include">
        </childnode>
      </node>
      <node id="90826">
        <label>QtCore/QString</label>
      </node>
      <node id="90856">
        <label>CharTypes.h</label>
        <link refid="_char_types_8h_source"/>
      </node>
      <node id="90827">
        <label>poppler-qt5.h</label>
        <link refid="poppler-qt5_8h_source"/>
        <childnode refid="90813" relation="include">
        </childnode>
        <childnode refid="90825" relation="include">
        </childnode>
        <childnode refid="90828" relation="include">
        </childnode>
        <childnode refid="90830" relation="include">
        </childnode>
        <childnode refid="90832" relation="include">
        </childnode>
        <childnode refid="90814" relation="include">
        </childnode>
        <childnode refid="90833" relation="include">
        </childnode>
        <childnode refid="90823" relation="include">
        </childnode>
        <childnode refid="90824" relation="include">
        </childnode>
      </node>
      <node id="90818">
        <label>QtCore/QPointF</label>
      </node>
      <node id="90815">
        <label>QtCore/QSharedDataPointer</label>
      </node>
      <node id="90811">
        <label>QtGui/QColor</label>
      </node>
      <node id="90840">
        <label>goo/gtypes.h</label>
        <link refid="gtypes_8h_source"/>
        <childnode refid="90841" relation="include">
        </childnode>
      </node>
      <node id="90817">
        <label>QtCore/QList</label>
      </node>
      <node id="90808">
        <label>QtCore/QRegExp</label>
      </node>
      <node id="90858">
        <label>QtCore/QFile</label>
      </node>
      <node id="90835">
        <label>QtCore/QDebug</label>
      </node>
      <node id="90837">
        <label>set</label>
      </node>
      <node id="90860">
        <label>config.h</label>
      </node>
      <node id="90873">
        <label>OptionalContent.h</label>
        <link refid="_optional_content_8h_source"/>
        <childnode refid="90836" relation="include">
        </childnode>
        <childnode refid="90856" relation="include">
        </childnode>
      </node>
      <node id="90838">
        <label>stdio.h</label>
      </node>
      <node id="90810">
        <label>QtXml/QDomElement</label>
      </node>
      <node id="90822">
        <label>QtGui/QFont</label>
      </node>
    </incdepgraph>
    <innerclass refid="class_poppler_1_1_annotation_1_1_style_1_1_private" prot="public">Poppler::Annotation::Style::Private</innerclass>
    <innerclass refid="class_poppler_1_1_annotation_1_1_popup_1_1_private" prot="public">Poppler::Annotation::Popup::Private</innerclass>
    <innerclass refid="class_poppler_1_1_text_annotation_private" prot="public">Poppler::TextAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_line_annotation_private" prot="public">Poppler::LineAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_geom_annotation_private" prot="public">Poppler::GeomAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_highlight_annotation_private" prot="public">Poppler::HighlightAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_stamp_annotation_private" prot="public">Poppler::StampAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_ink_annotation_private" prot="public">Poppler::InkAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_link_annotation_private" prot="public">Poppler::LinkAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_caret_annotation_private" prot="public">Poppler::CaretAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_file_attachment_annotation_private" prot="public">Poppler::FileAttachmentAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_sound_annotation_private" prot="public">Poppler::SoundAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_movie_annotation_private" prot="public">Poppler::MovieAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_screen_annotation_private" prot="public">Poppler::ScreenAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_widget_annotation_private" prot="public">Poppler::WidgetAnnotationPrivate</innerclass>
    <innerclass refid="class_poppler_1_1_rich_media_annotation_1_1_params_1_1_private" prot="public">Poppler::RichMediaAnnotation::Params::Private</innerclass>
    <innerclass refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1_1_private" prot="public">Poppler::RichMediaAnnotation::Instance::Private</innerclass>
    <innerclass refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1_1_private" prot="public">Poppler::RichMediaAnnotation::Configuration::Private</innerclass>
    <innerclass refid="class_poppler_1_1_rich_media_annotation_1_1_asset_1_1_private" prot="public">Poppler::RichMediaAnnotation::Asset::Private</innerclass>
    <innerclass refid="class_poppler_1_1_rich_media_annotation_1_1_content_1_1_private" prot="public">Poppler::RichMediaAnnotation::Content::Private</innerclass>
    <innerclass refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1_1_private" prot="public">Poppler::RichMediaAnnotation::Activation::Private</innerclass>
    <innerclass refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1_1_private" prot="public">Poppler::RichMediaAnnotation::Deactivation::Private</innerclass>
    <innerclass refid="class_poppler_1_1_rich_media_annotation_1_1_settings_1_1_private" prot="public">Poppler::RichMediaAnnotation::Settings::Private</innerclass>
    <innerclass refid="class_poppler_1_1_rich_media_annotation_private" prot="public">Poppler::RichMediaAnnotationPrivate</innerclass>
    <innernamespace refid="namespace_poppler">Poppler</innernamespace>
      <sectiondef kind="define">
      <memberdef kind="define" id="poppler-annotation_8cc_1a7ec4c46c931573b9c954fea0188541e6" prot="public" static="no">
        <name>CASE_FOR_TYPE</name>
        <param><defname>thetype</defname></param>
        <initializer>case Annot::type ## thetype: \
                        error(errUnimplemented, -1, &quot;Annotation &quot; #thetype &quot; not supported&quot;); \
                        break;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="thirdparty/poppler/qt5/poppler-annotation.cc" line="737" column="9"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*<sp/>poppler-annotation.cc:<sp/>qt<sp/>interface<sp/>to<sp/>poppler</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(C)<sp/>2006,<sp/>2009,<sp/>2012-2015<sp/>Albert<sp/>Astals<sp/>Cid<sp/>&lt;aacid@kde.org&gt;</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(C)<sp/>2006,<sp/>2008,<sp/>2010<sp/>Pino<sp/>Toscano<sp/>&lt;pino@kde.org&gt;</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(C)<sp/>2012,<sp/>Guillermo<sp/>A.<sp/>Amaral<sp/>B.<sp/>&lt;gamaral@kde.org&gt;</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(C)<sp/>2012-2014<sp/>Fabio<sp/>D&apos;Urso<sp/>&lt;fabiodurso@hotmail.it&gt;</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(C)<sp/>2012,<sp/>2015,<sp/>Tobias<sp/>Koenig<sp/>&lt;tobias.koenig@kdab.com&gt;</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>Adapting<sp/>code<sp/>from</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*<sp/><sp/><sp/>Copyright<sp/>(C)<sp/>2004<sp/>by<sp/>Enrico<sp/>Ros<sp/>&lt;eros.kde@email.it&gt;</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*<sp/>This<sp/>program<sp/>is<sp/>free<sp/>software;<sp/>you<sp/>can<sp/>redistribute<sp/>it<sp/>and/or<sp/>modify</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*<sp/>it<sp/>under<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>GNU<sp/>General<sp/>Public<sp/>License<sp/>as<sp/>published<sp/>by</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>*<sp/>the<sp/>Free<sp/>Software<sp/>Foundation;<sp/>either<sp/>version<sp/>2,<sp/>or<sp/>(at<sp/>your<sp/>option)</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>*<sp/>any<sp/>later<sp/>version.</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*<sp/>This<sp/>program<sp/>is<sp/>distributed<sp/>in<sp/>the<sp/>hope<sp/>that<sp/>it<sp/>will<sp/>be<sp/>useful,</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*<sp/>but<sp/>WITHOUT<sp/>ANY<sp/>WARRANTY;<sp/>without<sp/>even<sp/>the<sp/>implied<sp/>warranty<sp/>of</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*<sp/>MERCHANTABILITY<sp/>or<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE.<sp/><sp/>See<sp/>the</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/>GNU<sp/>General<sp/>Public<sp/>License<sp/>for<sp/>more<sp/>details.</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*<sp/>You<sp/>should<sp/>have<sp/>received<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>GNU<sp/>General<sp/>Public<sp/>License</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*<sp/>along<sp/>with<sp/>this<sp/>program;<sp/>if<sp/>not,<sp/>write<sp/>to<sp/>the<sp/>Free<sp/>Software</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*<sp/>Foundation,<sp/>Inc.,<sp/>51<sp/>Franklin<sp/>Street<sp/>-<sp/>Fifth<sp/>Floor,<sp/>Boston,<sp/>MA<sp/>02110-1301,<sp/>USA.</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="comment">//<sp/>qt/kde<sp/>includes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QtCore/QRegExp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QtCore/QtAlgorithms&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QtXml/QDomElement&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QtGui/QColor&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QtGui/QTransform&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="comment">//<sp/>local<sp/>includes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;poppler-annotation.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;poppler-link.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;poppler-qt5.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;poppler-annotation-helper.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;poppler-annotation-private.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;poppler-page-private.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;poppler-private.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="comment">//<sp/>poppler<sp/>includes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;Page.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;Annot.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;Gfx.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;Error.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;FileSpec.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;Link.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Almost<sp/>all<sp/>getters<sp/>directly<sp/>query<sp/>the<sp/>underlying<sp/>poppler<sp/>annotation,<sp/>with</highlight></codeline>
<codeline lineno="50"><highlight class="comment"><sp/>*<sp/>the<sp/>exceptions<sp/>of<sp/>link,<sp/>file<sp/>attachment,<sp/>sound,<sp/>movie<sp/>and<sp/>screen<sp/>annotations,</highlight></codeline>
<codeline lineno="51"><highlight class="comment"><sp/>*<sp/>Whose<sp/>data<sp/>retrieval<sp/>logic<sp/>has<sp/>not<sp/>been<sp/>moved<sp/>yet.<sp/>Their<sp/>getters<sp/>return</highlight></codeline>
<codeline lineno="52"><highlight class="comment"><sp/>*<sp/>static<sp/>data<sp/>set<sp/>at<sp/>creation<sp/>time<sp/>by<sp/>findAnnotations</highlight></codeline>
<codeline lineno="53"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespace_poppler" kindref="compound">Poppler</ref><sp/>{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="comment">//BEGIN<sp/>AnnotationUtils<sp/>implementation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58" refid="class_poppler_1_1_annotation_utils_1a877dcd5f1e9f136ff86ae96de85712e0" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/><ref refid="class_poppler_1_1_annotation_utils_1a877dcd5f1e9f136ff86ae96de85712e0" kindref="member">AnnotationUtils::createAnnotation</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomElement<sp/>&amp;<sp/>annElement<sp/>)</highlight></codeline>
<codeline lineno="59"><highlight class="normal">{</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>safety<sp/>check<sp/>on<sp/>annotation<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!annElement.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>build<sp/>annotation<sp/>of<sp/>given<sp/>type</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>annotation<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>typeNumber<sp/>=<sp/>annElement.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">)<sp/>).toInt();</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>typeNumber<sp/>)</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa6bd741de6409191ae955f87afdf30c31" kindref="member">Annotation::AText</ref>:</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref>(<sp/>annElement<sp/>);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fae1aecf8329750ced9f833f0019b43720" kindref="member">Annotation::ALine</ref>:</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref>(<sp/>annElement<sp/>);</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fadd10e52b73cf0d41989bc12a82ca0aad" kindref="member">Annotation::AGeom</ref>:</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_geom_annotation" kindref="compound">GeomAnnotation</ref>(<sp/>annElement<sp/>);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa2384dbe2c0ca6dc6bb51b08b79426aea" kindref="member">Annotation::AHighlight</ref>:</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation" kindref="compound">HighlightAnnotation</ref>(<sp/>annElement<sp/>);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa408e3d4395a1553c2bb7ea944180f7fe" kindref="member">Annotation::AStamp</ref>:</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_stamp_annotation" kindref="compound">StampAnnotation</ref>(<sp/>annElement<sp/>);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa8d9a4dbed303724abdff7a96a88d5abb" kindref="member">Annotation::AInk</ref>:</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_ink_annotation" kindref="compound">InkAnnotation</ref>(<sp/>annElement<sp/>);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa32db0efab9343be54a9d18e52cd64f75" kindref="member">Annotation::ACaret</ref>:</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_caret_annotation" kindref="compound">CaretAnnotation</ref>(<sp/>annElement<sp/>);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>return<sp/>created<sp/>annotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>annotation;</highlight></codeline>
<codeline lineno="94"><highlight class="normal">}</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96" refid="class_poppler_1_1_annotation_utils_1a1ef4c62890bcf810bba8d8a08763d784" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_utils_1a1ef4c62890bcf810bba8d8a08763d784" kindref="member">AnnotationUtils::storeAnnotation</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>ann,<sp/>QDomElement<sp/>&amp;<sp/>annElement,</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight></codeline>
<codeline lineno="98"><highlight class="normal">{</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>save<sp/>annotation&apos;s<sp/>type<sp/>as<sp/>element&apos;s<sp/>attribute</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>annElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">),<sp/>(uint)ann-&gt;<ref refid="class_poppler_1_1_annotation_1aef7fa1532193b41fbeba6e577579d984" kindref="member">subType</ref>()<sp/>);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>append<sp/>all<sp/>annotation<sp/>data<sp/>as<sp/>children<sp/>of<sp/>this<sp/>node</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>ann-&gt;store(<sp/>annElement,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="104"><highlight class="normal">}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106" refid="class_poppler_1_1_annotation_utils_1add8a7dc39bd8225aa8d7ff7d53be70b8" refkind="member"><highlight class="normal">QDomElement<sp/><ref refid="class_poppler_1_1_annotation_utils_1add8a7dc39bd8225aa8d7ff7d53be70b8" kindref="member">AnnotationUtils::findChildElement</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>parentNode,</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;<sp/>name<sp/>)</highlight></codeline>
<codeline lineno="108"><highlight class="normal">{</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>and<sp/>return<sp/>a<sp/>&apos;name&apos;<sp/>named<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>parentNode.firstChild();</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>element<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>element.tagName()<sp/>==<sp/>name<sp/>)</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>element;</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>the<sp/>name<sp/>can&apos;t<sp/>be<sp/>found,<sp/>return<sp/>a<sp/>dummy<sp/>null<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QDomElement();</highlight></codeline>
<codeline lineno="120"><highlight class="normal">}</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="comment">//END<sp/>AnnotationUtils<sp/>implementation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="comment">//BEGIN<sp/>Annotation<sp/>implementation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal">AnnotationPrivate::AnnotationPrivate()</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>flags(<sp/>0<sp/>),<sp/>revisionScope<sp/>(<sp/>Annotation::Root<sp/>),</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>revisionType<sp/>(<sp/>Annotation::None<sp/>),<sp/>pdfAnnot<sp/>(<sp/>0<sp/>),<sp/>pdfPage<sp/>(<sp/>0<sp/>),</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>parentDoc<sp/>(<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="129"><highlight class="normal">{</highlight></codeline>
<codeline lineno="130"><highlight class="normal">}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AnnotationPrivate::addRevision(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*ann,<sp/>Annotation::RevScope<sp/>scope,<sp/>Annotation::RevType<sp/>type<sp/>)</highlight></codeline>
<codeline lineno="133"><highlight class="normal">{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Since<sp/>ownership<sp/>stays<sp/>with<sp/>the<sp/>caller,<sp/>create<sp/>an<sp/>alias<sp/>of<sp/>ann<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>revisions.append(<sp/>ann-&gt;d_ptr-&gt;makeAlias()<sp/>);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>revision<sp/>properties<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>revisionScope<sp/>=<sp/>scope;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>revisionType<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="140"><highlight class="normal">}</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal">AnnotationPrivate::~AnnotationPrivate()</highlight></codeline>
<codeline lineno="143"><highlight class="normal">{</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Delete<sp/>all<sp/>children<sp/>revisions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>qDeleteAll(<sp/>revisions<sp/>);</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Release<sp/>Annot<sp/>object</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pdfAnnot)</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pdfAnnot-&gt;decRefCnt();</highlight></codeline>
<codeline lineno="150"><highlight class="normal">}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AnnotationPrivate::tieToNativeAnnot(<ref refid="class_annot" kindref="compound">Annot</ref><sp/>*ann,<sp/>::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*page,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">Poppler::DocumentData</ref><sp/>*<sp/>doc)</highlight></codeline>
<codeline lineno="153"><highlight class="normal">{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pdfAnnot)</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error(errIO,<sp/>-1,<sp/></highlight><highlight class="stringliteral">&quot;Annotation<sp/>is<sp/>already<sp/>tied&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfAnnot<sp/>=<sp/>ann;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfPage<sp/>=<sp/>page;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>parentDoc<sp/>=<sp/>doc;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfAnnot-&gt;incRefCnt();</highlight></codeline>
<codeline lineno="165"><highlight class="normal">}</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>This<sp/>method<sp/>is<sp/>called<sp/>when<sp/>a<sp/>new<sp/>annotation<sp/>is<sp/>created,<sp/>after<sp/>pdfAnnot<sp/>and</highlight></codeline>
<codeline lineno="168"><highlight class="comment"><sp/>*<sp/>pdfPage<sp/>have<sp/>been<sp/>set<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AnnotationPrivate::flushBaseAnnotationProperties()</highlight></codeline>
<codeline lineno="170"><highlight class="normal">{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT<sp/>(<sp/>pdfPage<sp/>);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*q<sp/>=<sp/>makeAlias();<sp/></highlight><highlight class="comment">//<sp/>Setters<sp/>are<sp/>defined<sp/>in<sp/>the<sp/>public<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Since<sp/>pdfAnnot<sp/>has<sp/>been<sp/>set,<sp/>this<sp/>calls<sp/>will<sp/>write<sp/>in<sp/>the<sp/>Annot<sp/>object</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;<ref refid="class_poppler_1_1_annotation_1a519a5f64785bf1381921f6f62dded881" kindref="member">setAuthor</ref>(author);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setContents(contents);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;<ref refid="class_poppler_1_1_annotation_1aa2e24fbf5e2cd28af8e1b62876c39663" kindref="member">setUniqueName</ref>(uniqueName);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setModificationDate(modDate);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setCreationDate(creationDate);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;<ref refid="class_poppler_1_1_annotation_1abb788875ed4ed5e593e979afc70555db" kindref="member">setFlags</ref>(flags);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//q-&gt;setBoundary(boundary);<sp/>--<sp/>already<sp/>set<sp/>by<sp/>subclass-specific<sp/>code</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;<ref refid="class_poppler_1_1_annotation_1afa93b9a0da6de47a74b5e296924afc42" kindref="member">setStyle</ref>(style);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;<ref refid="class_poppler_1_1_annotation_1a583671f690f965995b9be23554722900" kindref="member">setPopup</ref>(popup);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Flush<sp/>revisions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*r,<sp/>revisions)</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/>Flush<sp/>revision</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>r;<sp/></highlight><highlight class="comment">//<sp/>Object<sp/>is<sp/>no<sp/>longer<sp/>needed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>q;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Clear<sp/>some<sp/>members<sp/>to<sp/>save<sp/>memory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>author.clear();</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>contents.clear();</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>uniqueName.clear();</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>revisions.clear();</highlight></codeline>
<codeline lineno="200"><highlight class="normal">}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Returns<sp/>matrix<sp/>to<sp/>convert<sp/>from<sp/>user<sp/>space<sp/>coords<sp/>(oriented<sp/>according<sp/>to<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight><highlight class="comment">//<sp/>specified<sp/>rotation)<sp/>to<sp/>normalized<sp/>coords</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AnnotationPrivate::fillNormalizationMTX(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6],<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pageRotation)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="205"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT<sp/>(<sp/>pdfPage<sp/>);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>build<sp/>a<sp/>normalized<sp/>transform<sp/>matrix<sp/>for<sp/>this<sp/>page<sp/>at<sp/>100%<sp/>scale</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_gfx_state" kindref="compound">GfxState</ref><sp/>*<sp/>gfxState<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_gfx_state" kindref="compound">GfxState</ref>(<sp/>72.0,<sp/>72.0,<sp/>pdfPage-&gt;getCropBox(),<sp/>pageRotation,<sp/>gTrue<sp/>);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*<sp/>gfxCTM<sp/>=<sp/>gfxState-&gt;getCTM();</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>w<sp/>=<sp/>pdfPage-&gt;getCropWidth();</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>h<sp/>=<sp/>pdfPage-&gt;getCropHeight();</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Swap<sp/>width<sp/>and<sp/>height<sp/>if<sp/>the<sp/>page<sp/>is<sp/>rotated<sp/>landscape<sp/>or<sp/>seascape</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>pageRotation<sp/>==<sp/>90<sp/>||<sp/>pageRotation<sp/>==<sp/>270<sp/>)</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>t<sp/>=<sp/>w;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w<sp/>=<sp/>h;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>h<sp/>=<sp/>t;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>6;<sp/>i+=2<sp/>)</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MTX[i]<sp/>=<sp/>gfxCTM[i]<sp/>/<sp/>w;</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MTX[i+1]<sp/>=<sp/>gfxCTM[i+1]<sp/>/<sp/>h;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>gfxState;</highlight></codeline>
<codeline lineno="229"><highlight class="normal">}</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Returns<sp/>matrix<sp/>to<sp/>convert<sp/>from<sp/>user<sp/>space<sp/>coords<sp/>(i.e.<sp/>those<sp/>that<sp/>are<sp/>stored</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight><highlight class="comment">//<sp/>in<sp/>the<sp/>PDF<sp/>file)<sp/>to<sp/>normalized<sp/>coords<sp/>(i.e.<sp/>those<sp/>that<sp/>we<sp/>expose<sp/>to<sp/>clients).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>method<sp/>also<sp/>applies<sp/>a<sp/>rotation<sp/>around<sp/>the<sp/>top-left<sp/>corner<sp/>if<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight><highlight class="comment">//<sp/>FixedRotation<sp/>flag<sp/>is<sp/>set.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AnnotationPrivate::fillTransformationMTX(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6])</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="236"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT<sp/>(<sp/>pdfPage<sp/>);</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT<sp/>(<sp/>pdfAnnot<sp/>);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pageRotate<sp/>=<sp/>pdfPage-&gt;getRotate();</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>pageRotate<sp/>==<sp/>0<sp/>||<sp/>(<sp/>pdfAnnot-&gt;getFlags()<sp/>&amp;<sp/>Annot::flagNoRotate<sp/>)<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Use<sp/>the<sp/>normalization<sp/>matrix<sp/>for<sp/>this<sp/>page&apos;s<sp/>rotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fillNormalizationMTX(<sp/>MTX,<sp/>pageRotate<sp/>);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Clients<sp/>expect<sp/>coordinates<sp/>relative<sp/>to<sp/>this<sp/>page&apos;s<sp/>rotation,<sp/>but</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>FixedRotation<sp/>annotations<sp/>internally<sp/>use<sp/>unrotated<sp/>coordinates:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>construct<sp/>matrix<sp/>to<sp/>both<sp/>normalize<sp/>and<sp/>rotate<sp/>coordinates<sp/>using<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>top-left<sp/>corner<sp/>as<sp/>rotation<sp/>pivot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTXnorm[6];</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fillNormalizationMTX(<sp/>MTXnorm,<sp/>pageRotate<sp/>);</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QTransform<sp/>transform(<sp/>MTXnorm[0],<sp/>MTXnorm[1],<sp/>MTXnorm[2],</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MTXnorm[3],<sp/>MTXnorm[4],<sp/>MTXnorm[5]<sp/>);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.translate(<sp/>+pdfAnnot-&gt;getXMin(),<sp/>+pdfAnnot-&gt;getYMax()<sp/>);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.rotate(<sp/>pageRotate<sp/>);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform.translate(<sp/>-pdfAnnot-&gt;getXMin(),<sp/>-pdfAnnot-&gt;getYMax()<sp/>);</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MTX[0]<sp/>=<sp/>transform.m11();</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MTX[1]<sp/>=<sp/>transform.m12();</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MTX[2]<sp/>=<sp/>transform.m21();</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MTX[3]<sp/>=<sp/>transform.m22();</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MTX[4]<sp/>=<sp/>transform.dx();</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MTX[5]<sp/>=<sp/>transform.dy();</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="270"><highlight class="normal">}</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal">QRectF<sp/>AnnotationPrivate::fromPdfRectangle(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>&amp;r)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="273"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>swp,<sp/>MTX[6];</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>fillTransformationMTX(MTX);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/>QPointF<sp/>p1,<sp/>p2;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>XPDFReader::transform(<sp/>MTX,<sp/>r.x1,<sp/>r.y1,<sp/>p1<sp/>);</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>XPDFReader::transform(<sp/>MTX,<sp/>r.x2,<sp/>r.y2,<sp/>p2<sp/>);</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tl_x<sp/>=<sp/>p1.x();</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tl_y<sp/>=<sp/>p1.y();</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>br_x<sp/>=<sp/>p2.x();</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>br_y<sp/>=<sp/>p2.y();</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tl_x<sp/>&gt;<sp/>br_x)</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swp<sp/>=<sp/>tl_x;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tl_x<sp/>=<sp/>br_x;</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>br_x<sp/>=<sp/>swp;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tl_y<sp/>&gt;<sp/>br_y)</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swp<sp/>=<sp/>tl_y;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tl_y<sp/>=<sp/>br_y;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>br_y<sp/>=<sp/>swp;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QRectF(<sp/>QPointF(tl_x,tl_y)<sp/>,<sp/>QPointF(br_x,br_y)<sp/>);</highlight></codeline>
<codeline lineno="301"><highlight class="normal">}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>converts<sp/>a<sp/>boundary<sp/>QRectF<sp/>in<sp/>normalized<sp/>coords<sp/>to<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight><highlight class="comment">//<sp/>PDFRectangle<sp/>in<sp/>user<sp/>coords.<sp/>If<sp/>the<sp/>FixedRotation<sp/>flag<sp/>is<sp/>set,<sp/>this<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight><highlight class="comment">//<sp/>also<sp/>applies<sp/>a<sp/>rotation<sp/>around<sp/>the<sp/>top-left<sp/>corner:<sp/>it&apos;s<sp/>the<sp/>inverse<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>transformation<sp/>produced<sp/>by<sp/>fillTransformationMTX,<sp/>but<sp/>we<sp/>can&apos;t<sp/>use</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight><highlight class="comment">//<sp/>fillTransformationMTX<sp/>here<sp/>because<sp/>it<sp/>relies<sp/>on<sp/>the<sp/>native<sp/>annotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight><highlight class="comment">//<sp/>object&apos;s<sp/>boundary<sp/>rect<sp/>to<sp/>be<sp/>already<sp/>set<sp/>up.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>AnnotationPrivate::boundaryToPdfRectangle(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;r,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="310"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT<sp/>(<sp/>pdfPage<sp/>);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pageRotate<sp/>=<sp/>pdfPage-&gt;getRotate();</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6];</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>fillNormalizationMTX(<sp/>MTX,<sp/>pageRotate<sp/>);</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tl_x,<sp/>tl_y,<sp/>br_x,<sp/>br_y,<sp/>swp;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>r.topLeft(),<sp/>tl_x,<sp/>tl_y<sp/>);</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>r.bottomRight(),<sp/>br_x,<sp/>br_y<sp/>);</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tl_x<sp/>&gt;<sp/>br_x)</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swp<sp/>=<sp/>tl_x;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tl_x<sp/>=<sp/>br_x;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>br_x<sp/>=<sp/>swp;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tl_y<sp/>&gt;<sp/>br_y)</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>swp<sp/>=<sp/>tl_y;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tl_y<sp/>=<sp/>br_y;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>br_y<sp/>=<sp/>swp;</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rotationFixUp<sp/>=<sp/>(<sp/>flags<sp/>&amp;<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270a61bee11edae896858409dd65d14d3a70" kindref="member">Annotation::FixedRotation</ref><sp/>)<sp/>?<sp/>pageRotate<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>width<sp/>=<sp/>br_x<sp/>-<sp/>tl_x;</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>height<sp/>=<sp/>br_y<sp/>-<sp/>tl_y;</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>rotationFixUp<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref>(tl_x,<sp/>tl_y,<sp/>br_x,<sp/>br_y);</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>rotationFixUp<sp/>==<sp/>90<sp/>)</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref>(tl_x,<sp/>tl_y<sp/>-<sp/>width,<sp/>tl_x<sp/>+<sp/>height,<sp/>tl_y);</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>rotationFixUp<sp/>==<sp/>180<sp/>)</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref>(br_x,<sp/>tl_y<sp/>-<sp/>height,<sp/>br_x<sp/>+<sp/>width,<sp/>tl_y);</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>rotationFixUp<sp/>==<sp/>270</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref>(br_x,<sp/>br_y<sp/>-<sp/>width,<sp/>br_x<sp/>+<sp/>height,<sp/>br_y);</highlight></codeline>
<codeline lineno="348"><highlight class="normal">}</highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><ref refid="class_annot_path" kindref="compound">AnnotPath</ref><sp/>*<sp/>AnnotationPrivate::toAnnotPath(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QLinkedList&lt;QPointF&gt;<sp/>&amp;list)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="351"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>count<sp/>=<sp/>list.size();</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_coord" kindref="compound">AnnotCoord</ref><sp/>**ac<sp/>=<sp/>(<ref refid="class_annot_coord" kindref="compound">AnnotCoord</ref><sp/>**)<sp/>gmallocn(count,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="class_annot_coord" kindref="compound">AnnotCoord</ref>*));</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6];</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>fillTransformationMTX(MTX);</highlight></codeline>
<codeline lineno="357"><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;p,<sp/>list)</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x,<sp/>y;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>p,<sp/>x,<sp/>y<sp/>);</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ac[pos++]<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_coord" kindref="compound">AnnotCoord</ref>(x,<sp/>y);</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_path" kindref="compound">AnnotPath</ref>(ac,<sp/>count);</highlight></codeline>
<codeline lineno="367"><highlight class="normal">}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal">QList&lt;Annotation*&gt;<sp/>AnnotationPrivate::findAnnotations(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*pdfPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSet&lt;Annotation::SubType&gt;<sp/>&amp;subtypes,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>parentID)</highlight></codeline>
<codeline lineno="370"><highlight class="normal">{</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annots" kindref="compound">Annots</ref>*<sp/>annots<sp/>=<sp/>pdfPage-&gt;getAnnots();</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint<sp/>numAnnotations<sp/>=<sp/>annots-&gt;getNumAnnots();</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>numAnnotations<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QList&lt;Annotation*&gt;();</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantTextAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa6bd741de6409191ae955f87afdf30c31" kindref="member">Annotation::AText</ref>);</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantLineAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fae1aecf8329750ced9f833f0019b43720" kindref="member">Annotation::ALine</ref>);</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantGeomAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fadd10e52b73cf0d41989bc12a82ca0aad" kindref="member">Annotation::AGeom</ref>);</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantHighlightAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa2384dbe2c0ca6dc6bb51b08b79426aea" kindref="member">Annotation::AHighlight</ref>);</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantStampAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa408e3d4395a1553c2bb7ea944180f7fe" kindref="member">Annotation::AStamp</ref>);</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantInkAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa8d9a4dbed303724abdff7a96a88d5abb" kindref="member">Annotation::AInk</ref>);</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantLinkAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa9cf6f3b575b16e7f2bdc0133b87d7cd9" kindref="member">Annotation::ALink</ref>);</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantCaretAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa32db0efab9343be54a9d18e52cd64f75" kindref="member">Annotation::ACaret</ref>);</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantFileAttachmentAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa4ae26d75bb61ae5561233b3317057489" kindref="member">Annotation::AFileAttachment</ref>);</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantSoundAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa4f378fc5e31f79f9b75009b492f505d2" kindref="member">Annotation::ASound</ref>);</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantMovieAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa4bfc2a21c8bad606d508152c9d89ba78" kindref="member">Annotation::AMovie</ref>);</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantScreenAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fab7e5d7275ead1db82ecf0c2ac190accc" kindref="member">Annotation::AScreen</ref>);</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wantWidgetAnnotations<sp/>=<sp/>subtypes.isEmpty()<sp/>||<sp/>subtypes.contains(<ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa2ebaab2ce6030d1f99dc0596b71bdd8e" kindref="member">Annotation::AWidget</ref>);</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>Annotation<sp/>objects<sp/>and<sp/>tie<sp/>to<sp/>their<sp/>native<sp/>Annot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/>QList&lt;Annotation*&gt;<sp/>res;</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>uint<sp/>j<sp/>=<sp/>0;<sp/>j<sp/>&lt;<sp/>numAnnotations;<sp/>j++<sp/>)</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>get<sp/>the<sp/>j-th<sp/>annotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref><sp/>*<sp/>ann<sp/>=<sp/>annots-&gt;getAnnot(<sp/>j<sp/>);</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!ann<sp/>)</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error(errInternal,<sp/>-1,<sp/></highlight><highlight class="stringliteral">&quot;Annot<sp/>{0:ud}<sp/>is<sp/>null&quot;</highlight><highlight class="normal">,<sp/>j);</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>parent<sp/>annotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*<sp/>markupann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>ann<sp/>);</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!markupann)</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Assume<sp/>it&apos;s<sp/>a<sp/>root<sp/>annotation,<sp/>and<sp/>skip<sp/>if<sp/>user<sp/>didn&apos;t<sp/>request<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parentID<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(markupann-&gt;getInReplyToID()<sp/>!=<sp/>parentID)</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>Annotation<sp/>of<sp/>the<sp/>right<sp/>subclass<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>annotation<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Annot::AnnotSubtype<sp/>subType<sp/>=<sp/>ann-&gt;getType();</highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>subType<sp/>)</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeText:</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantTextAnnotations)</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref>(TextAnnotation::Linked);</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeFreeText:</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantTextAnnotations)</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref>(TextAnnotation::InPlace);</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeLine:</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantLineAnnotations)</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref>(LineAnnotation::StraightLine);</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typePolygon:</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typePolyLine:</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantLineAnnotations)</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref>(LineAnnotation::Polyline);</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeSquare:</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeCircle:</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantGeomAnnotations)</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_geom_annotation" kindref="compound">GeomAnnotation</ref>();</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeHighlight:</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeUnderline:</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeSquiggly:</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeStrikeOut:</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantHighlightAnnotations)</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation" kindref="compound">HighlightAnnotation</ref>();</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeStamp:</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantStampAnnotations)</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_stamp_annotation" kindref="compound">StampAnnotation</ref>();</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeInk:</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantInkAnnotations)</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_ink_annotation" kindref="compound">InkAnnotation</ref>();</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeLink:<sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>Move<sp/>logic<sp/>to<sp/>getters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantLinkAnnotations)</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>Link<sp/>params</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_link" kindref="compound">AnnotLink</ref><sp/>*<sp/>linkann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_annot_link" kindref="compound">AnnotLink</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>ann<sp/>);</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_annotation" kindref="compound">LinkAnnotation</ref><sp/>*<sp/>l<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_annotation" kindref="compound">LinkAnnotation</ref>();</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/>l;</highlight></codeline>
<codeline lineno="474"><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-&gt;<sp/>hlMode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l-&gt;setLinkHighlightMode(<sp/>(LinkAnnotation::HighlightMode)linkann-&gt;getLinkEffect()<sp/>);</highlight></codeline>
<codeline lineno="477"><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-&gt;<sp/>link<sp/>region</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>reading<sp/>link<sp/>action</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>linkann-&gt;getAction()<sp/>)</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link" kindref="compound">Link</ref><sp/>*<sp/>popplerLink<sp/>=<sp/>PageData::convertLinkActionToLink(<sp/>linkann-&gt;getAction(),<sp/>doc,<sp/>QRectF()<sp/>);</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>popplerLink<sp/>)</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l-&gt;setLinkDestination(<sp/>popplerLink<sp/>);</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeCaret:</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantCaretAnnotations)</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_caret_annotation" kindref="compound">CaretAnnotation</ref>();</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeFileAttachment:<sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>Move<sp/>logic<sp/>to<sp/>getters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantFileAttachmentAnnotations)</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_file_attachment" kindref="compound">AnnotFileAttachment</ref><sp/>*<sp/>attachann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_annot_file_attachment" kindref="compound">AnnotFileAttachment</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>ann<sp/>);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_file_attachment_annotation" kindref="compound">FileAttachmentAnnotation</ref><sp/>*<sp/>f<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_file_attachment_annotation" kindref="compound">FileAttachmentAnnotation</ref>();</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/>f;</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-&gt;<sp/>fileIcon</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;<ref refid="class_poppler_1_1_file_attachment_annotation_1a09f0977d356503ab7e92bdf7fbf5d53e" kindref="member">setFileIconName</ref>(<sp/>QString::fromLatin1(<sp/>attachann-&gt;getName()-&gt;getCString()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-&gt;<sp/>embeddedFile</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_file_spec" kindref="compound">FileSpec</ref><sp/>*filespec<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_file_spec" kindref="compound">FileSpec</ref>(<sp/>attachann-&gt;getFile()<sp/>);</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f-&gt;<ref refid="class_poppler_1_1_file_attachment_annotation_1a324a0da1bfb565820f63276bf5b01f25" kindref="member">setEmbeddedFile</ref>(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_embedded_file" kindref="compound">EmbeddedFile</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_embedded_file_data" kindref="compound">EmbeddedFileData</ref>(<sp/>filespec<sp/>)<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeSound:<sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>Move<sp/>logic<sp/>to<sp/>getters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantSoundAnnotations)</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_sound" kindref="compound">AnnotSound</ref><sp/>*<sp/>soundann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_annot_sound" kindref="compound">AnnotSound</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>ann<sp/>);</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_sound_annotation" kindref="compound">SoundAnnotation</ref><sp/>*<sp/>s<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_sound_annotation" kindref="compound">SoundAnnotation</ref>();</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/>s;</highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-&gt;<sp/>soundIcon</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s-&gt;<ref refid="class_poppler_1_1_sound_annotation_1a704b034328ff00f43f9f050ba1765f56" kindref="member">setSoundIconName</ref>(<sp/>QString::fromLatin1(<sp/>soundann-&gt;getName()-&gt;getCString()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-&gt;<sp/>sound</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s-&gt;<ref refid="class_poppler_1_1_sound_annotation_1a2e2bd7ca5cd1713b3623682d1e884844" kindref="member">setSound</ref>(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_sound_object" kindref="compound">SoundObject</ref>(<sp/>soundann-&gt;getSound()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeMovie:<sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>Move<sp/>logic<sp/>to<sp/>getters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantMovieAnnotations)</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_movie" kindref="compound">AnnotMovie</ref><sp/>*<sp/>movieann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_annot_movie" kindref="compound">AnnotMovie</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>ann<sp/>);</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_movie_annotation" kindref="compound">MovieAnnotation</ref><sp/>*<sp/>m<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_movie_annotation" kindref="compound">MovieAnnotation</ref>();</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/>m;</highlight></codeline>
<codeline lineno="532"><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-&gt;<sp/>movie</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_movie_object" kindref="compound">MovieObject</ref><sp/>*movie<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_movie_object" kindref="compound">MovieObject</ref>(<sp/>movieann<sp/>);</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m-&gt;<ref refid="class_poppler_1_1_movie_annotation_1a6f7d27ddbeaa1e55dd0b41c7ed4a0eed" kindref="member">setMovie</ref>(<sp/>movie<sp/>);</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-&gt;<sp/>movieTitle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*<sp/>movietitle<sp/>=<sp/>movieann-&gt;getTitle();</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>movietitle<sp/>)</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m-&gt;<ref refid="class_poppler_1_1_movie_annotation_1a446aa7855bfe9e4bf75b795dd0dd0019" kindref="member">setMovieTitle</ref>(<sp/>QString::fromLatin1(<sp/>movietitle-&gt;getCString()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeScreen:</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantScreenAnnotations)</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_screen" kindref="compound">AnnotScreen</ref><sp/>*<sp/>screenann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_annot_screen" kindref="compound">AnnotScreen</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>ann<sp/>);</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!screenann-&gt;getAction())</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_screen_annotation" kindref="compound">ScreenAnnotation</ref><sp/>*<sp/>s<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_screen_annotation" kindref="compound">ScreenAnnotation</ref>();</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/>s;</highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-&gt;<sp/>screen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link" kindref="compound">Link</ref><sp/>*<sp/>popplerLink<sp/>=<sp/>PageData::convertLinkActionToLink(<sp/>screenann-&gt;getAction(),<sp/>doc,<sp/>QRectF()<sp/>);</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s-&gt;<ref refid="class_poppler_1_1_screen_annotation_1a1df5efe49b6f8f5333324cbef856519f" kindref="member">setAction</ref>(<sp/>static_cast&lt;Poppler::LinkRendition<sp/>*&gt;(popplerLink)<sp/>);</highlight></codeline>
<codeline lineno="555"><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-&gt;<sp/>screenTitle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*<sp/>screentitle<sp/>=<sp/>screenann-&gt;getTitle();</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>screentitle<sp/>)</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s-&gt;<ref refid="class_poppler_1_1_screen_annotation_1aa9169592f12287f9c7242bef0d31ae87" kindref="member">setScreenTitle</ref>(<sp/>UnicodeParsedString(<sp/>screentitle<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typePopup:</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>popups<sp/>are<sp/>parsed<sp/>by<sp/>Annotation&apos;s<sp/>window()<sp/>getter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeUnknown:</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>special<sp/>case<sp/>for<sp/>ignoring<sp/>unknown<sp/>annotations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeWidget:</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wantWidgetAnnotations)</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_widget_annotation" kindref="compound">WidgetAnnotation</ref>();</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeRichMedia:</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_rich_media" kindref="compound">AnnotRichMedia</ref><sp/>*<sp/>annotRichMedia<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_annot_rich_media" kindref="compound">AnnotRichMedia</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>ann<sp/>);</highlight></codeline>
<codeline lineno="574"><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation" kindref="compound">RichMediaAnnotation</ref><sp/>*richMediaAnnotation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation" kindref="compound">RichMediaAnnotation</ref>;</highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_rich_media_1_1_settings" kindref="compound">AnnotRichMedia::Settings</ref><sp/>*annotSettings<sp/>=<sp/>annotRichMedia-&gt;getSettings();</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>annotSettings<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_settings" kindref="compound">RichMediaAnnotation::Settings</ref><sp/>*settings<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_settings" kindref="compound">RichMediaAnnotation::Settings</ref>;</highlight></codeline>
<codeline lineno="580"><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>annotSettings-&gt;getActivation()<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation" kindref="compound">RichMediaAnnotation::Activation</ref><sp/>*activation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation" kindref="compound">RichMediaAnnotation::Activation</ref>;</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>annotSettings-&gt;getActivation()-&gt;getCondition()<sp/>)</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Activation::conditionPageOpened:</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>activation-&gt;setCondition(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1a6bd1a04f2b4b84df639ba04ea08b5f85ab9dd686c8450235ee41c068509dc77a4" kindref="member">RichMediaAnnotation::Activation::PageOpened</ref><sp/>);</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Activation::conditionPageVisible:</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>activation-&gt;setCondition(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1a6bd1a04f2b4b84df639ba04ea08b5f85ab9a29a18bc6936678503d0582370e820" kindref="member">RichMediaAnnotation::Activation::PageVisible</ref><sp/>);</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Activation::conditionUserAction:</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>activation-&gt;setCondition(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1a6bd1a04f2b4b84df639ba04ea08b5f85aeb73eaacfd8116b861c7fd62f812bdac" kindref="member">RichMediaAnnotation::Activation::UserAction</ref><sp/>);</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="596"><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>settings-&gt;setActivation(<sp/>activation<sp/>);</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="599"><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>annotSettings-&gt;getDeactivation()<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation" kindref="compound">RichMediaAnnotation::Deactivation</ref><sp/>*deactivation<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation" kindref="compound">RichMediaAnnotation::Deactivation</ref>;</highlight></codeline>
<codeline lineno="602"><highlight class="normal"></highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>annotSettings-&gt;getDeactivation()-&gt;getCondition()<sp/>)</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Deactivation::conditionPageClosed:</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deactivation-&gt;setCondition(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1a54ffabfb7c1f3ad2ea052ba6689468d3a1eaa3a23752297dcc34df72ae5d0a54f" kindref="member">RichMediaAnnotation::Deactivation::PageClosed</ref><sp/>);</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Deactivation::conditionPageInvisible:</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deactivation-&gt;setCondition(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1a54ffabfb7c1f3ad2ea052ba6689468d3a8031a047369e73d706cf06b1d101703f" kindref="member">RichMediaAnnotation::Deactivation::PageInvisible</ref><sp/>);</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Deactivation::conditionUserAction:</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deactivation-&gt;setCondition(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1a54ffabfb7c1f3ad2ea052ba6689468d3a3cecd04e1b3de1873ae045959d549994" kindref="member">RichMediaAnnotation::Deactivation::UserAction</ref><sp/>);</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="615"><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>settings-&gt;setDeactivation(<sp/>deactivation<sp/>);</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="618"><highlight class="normal"></highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>richMediaAnnotation-&gt;setSettings(<sp/>settings<sp/>);</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="621"><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_rich_media_1_1_content" kindref="compound">AnnotRichMedia::Content</ref><sp/>*annotContent<sp/>=<sp/>annotRichMedia-&gt;getContent();</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>annotContent<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_content" kindref="compound">RichMediaAnnotation::Content</ref><sp/>*<ref refid="namespacecontent" kindref="compound">content</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_content" kindref="compound">RichMediaAnnotation::Content</ref>;</highlight></codeline>
<codeline lineno="625"><highlight class="normal"></highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>configurationsCount<sp/>=<sp/>annotContent-&gt;getConfigurationsCount();</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>configurationsCount<sp/>&gt;<sp/>0<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;<sp/>RichMediaAnnotation::Configuration*<sp/>&gt;<sp/>configurations;</highlight></codeline>
<codeline lineno="629"><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>configurationsCount;<sp/>++i<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_rich_media_1_1_configuration" kindref="compound">AnnotRichMedia::Configuration</ref><sp/>*annotConfiguration<sp/>=<sp/>annotContent-&gt;getConfiguration(<sp/>i<sp/>);</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!annotConfiguration<sp/>)</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="634"><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration" kindref="compound">RichMediaAnnotation::Configuration</ref><sp/>*configuration<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration" kindref="compound">RichMediaAnnotation::Configuration</ref>;</highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>annotConfiguration-&gt;getName()<sp/>)</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>configuration-&gt;setName(<sp/>UnicodeParsedString(<sp/>annotConfiguration-&gt;getName()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="639"><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>annotConfiguration-&gt;getType()<sp/>)</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Configuration::type3D:</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>configuration-&gt;setType(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1a1ea5d0aa668b750c50d3c9ae53f31e3ba0da745fe2aa4edfb2b3b70ed062e37b7" kindref="member">RichMediaAnnotation::Configuration::Type3D</ref><sp/>);</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Configuration::typeFlash:</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>configuration-&gt;setType(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1a1ea5d0aa668b750c50d3c9ae53f31e3baec85b1dead02471c230b2901e3772a08" kindref="member">RichMediaAnnotation::Configuration::TypeFlash</ref><sp/>);</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Configuration::typeSound:</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>configuration-&gt;setType(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1a1ea5d0aa668b750c50d3c9ae53f31e3bad62cc9ef3f6e0627dc115cc52591f2e9" kindref="member">RichMediaAnnotation::Configuration::TypeSound</ref><sp/>);</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Configuration::typeVideo:</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>configuration-&gt;setType(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1a1ea5d0aa668b750c50d3c9ae53f31e3bab8198c03c1d9400573b408c5e9bd4a0c" kindref="member">RichMediaAnnotation::Configuration::TypeVideo</ref><sp/>);</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="655"><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>instancesCount<sp/>=<sp/>annotConfiguration-&gt;getInstancesCount();</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>instancesCount<sp/>&gt;<sp/>0<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;<sp/>RichMediaAnnotation::Instance*<sp/>&gt;<sp/>instances;</highlight></codeline>
<codeline lineno="659"><highlight class="normal"></highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j<sp/>=<sp/>0;<sp/>j<sp/>&lt;<sp/>instancesCount;<sp/>++j<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_rich_media_1_1_instance" kindref="compound">AnnotRichMedia::Instance</ref><sp/>*annotInstance<sp/>=<sp/>annotConfiguration-&gt;getInstance(<sp/>j<sp/>);</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!annotInstance<sp/>)</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="664"><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance" kindref="compound">RichMediaAnnotation::Instance</ref><sp/>*instance<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance" kindref="compound">RichMediaAnnotation::Instance</ref>;</highlight></codeline>
<codeline lineno="666"><highlight class="normal"></highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>annotInstance-&gt;getType()<sp/>)</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Instance::type3D:</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instance-&gt;setType(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1ae1f530939f7bd947ac119b7315f5ec44ab93886cd31cf6911a5e917907784e237" kindref="member">RichMediaAnnotation::Instance::Type3D</ref><sp/>);</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Instance::typeFlash:</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instance-&gt;setType(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1ae1f530939f7bd947ac119b7315f5ec44a46a84ac6d1eef5d0ee6cb824ac5e696b" kindref="member">RichMediaAnnotation::Instance::TypeFlash</ref><sp/>);</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Instance::typeSound:</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instance-&gt;setType(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1ae1f530939f7bd947ac119b7315f5ec44aa249dfde799d4e14a98c5a4bcc5681a0" kindref="member">RichMediaAnnotation::Instance::TypeSound</ref><sp/>);</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotRichMedia::Instance::typeVideo:</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instance-&gt;setType(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1ae1f530939f7bd947ac119b7315f5ec44a36b691f64023c9f48103da1597631ca4" kindref="member">RichMediaAnnotation::Instance::TypeVideo</ref><sp/>);</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_rich_media_1_1_params" kindref="compound">AnnotRichMedia::Params</ref><sp/>*annotParams<sp/>=<sp/>annotInstance-&gt;getParams();</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>annotParams<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_params" kindref="compound">RichMediaAnnotation::Params</ref><sp/>*params<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_params" kindref="compound">RichMediaAnnotation::Params</ref>;</highlight></codeline>
<codeline lineno="686"><highlight class="normal"></highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>annotParams-&gt;getFlashVars()<sp/>)</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>params-&gt;setFlashVars(<sp/>UnicodeParsedString(<sp/>annotParams-&gt;getFlashVars()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="689"><highlight class="normal"></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instance-&gt;setParams(<sp/>params<sp/>);</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="692"><highlight class="normal"></highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instances.append(<sp/>instance<sp/>);</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="695"><highlight class="normal"></highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>configuration-&gt;setInstances(<sp/>instances<sp/>);</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="698"><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>configurations.append(<sp/>configuration<sp/>);</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="701"><highlight class="normal"></highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>content-&gt;setConfigurations(<sp/>configurations<sp/>);</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="704"><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>assetsCount<sp/>=<sp/>annotContent-&gt;getAssetsCount();</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>assetsCount<sp/>&gt;<sp/>0<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;<sp/>RichMediaAnnotation::Asset*<sp/>&gt;<sp/>assets;</highlight></codeline>
<codeline lineno="708"><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>assetsCount;<sp/>++i<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_rich_media_1_1_asset" kindref="compound">AnnotRichMedia::Asset</ref><sp/>*annotAsset<sp/>=<sp/>annotContent-&gt;getAsset(<sp/>i<sp/>);</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!annotAsset<sp/>)</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_asset" kindref="compound">RichMediaAnnotation::Asset</ref><sp/>*asset<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_asset" kindref="compound">RichMediaAnnotation::Asset</ref>;</highlight></codeline>
<codeline lineno="715"><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>annotAsset-&gt;getName()<sp/>)</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asset-&gt;setName(<sp/>UnicodeParsedString(<sp/>annotAsset-&gt;getName()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="718"><highlight class="normal"></highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_file_spec" kindref="compound">FileSpec</ref><sp/>*fileSpec<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_file_spec" kindref="compound">FileSpec</ref>(<sp/>annotAsset-&gt;getFileSpec()<sp/>);</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>asset-&gt;setEmbeddedFile(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_embedded_file" kindref="compound">EmbeddedFile</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_embedded_file_data" kindref="compound">EmbeddedFileData</ref>(<sp/>fileSpec<sp/>)<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="721"><highlight class="normal"></highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assets.append(<sp/>asset<sp/>);</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="724"><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>content-&gt;setAssets(<sp/>assets<sp/>);</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="727"><highlight class="normal"></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>richMediaAnnotation-&gt;setContent(<sp/>content<sp/>);</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="730"><highlight class="normal"></highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation<sp/>=<sp/>richMediaAnnotation;</highlight></codeline>
<codeline lineno="732"><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="737"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CASE_FOR_TYPE(<sp/>thetype<sp/>)<sp/>\</highlight></codeline>
<codeline lineno="738"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case<sp/>Annot::type<sp/>##<sp/>thetype:<sp/>\</highlight></codeline>
<codeline lineno="739"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error(errUnimplemented,<sp/>-1,<sp/>&quot;Annotation<sp/>&quot;<sp/>#thetype<sp/>&quot;<sp/>not<sp/>supported&quot;);<sp/>\</highlight></codeline>
<codeline lineno="740"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>subType<sp/>)</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CASE_FOR_TYPE(<sp/>PrinterMark<sp/>)</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CASE_FOR_TYPE(<sp/>TrapNet<sp/>)</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CASE_FOR_TYPE(<sp/>Watermark<sp/>)</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CASE_FOR_TYPE(<sp/>3D<sp/>)</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/>error(errUnimplemented,<sp/>-1,<sp/></highlight><highlight class="stringliteral">&quot;Annotation<sp/>{0:d}<sp/>not<sp/>supported&quot;</highlight><highlight class="normal">,<sp/>subType);</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="750"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>CASE_FOR_TYPE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="753"><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annotation-&gt;d_ptr-&gt;tieToNativeAnnot(ann,<sp/>pdfPage,<sp/>doc);</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.append(annotation);</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="757"><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="759"><highlight class="normal">}</highlight></codeline>
<codeline lineno="760"><highlight class="normal"></highlight></codeline>
<codeline lineno="761"><highlight class="normal"><ref refid="struct_ref" kindref="compound">Ref</ref><sp/>AnnotationPrivate::pdfObjectReference()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="762"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pdfAnnot<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_ref" kindref="compound">Ref</ref><sp/>invalid_ref<sp/>=<sp/>{<sp/>-1,<sp/>-1<sp/>};</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>invalid_ref;</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="768"><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pdfAnnot-&gt;getRef();</highlight></codeline>
<codeline lineno="770"><highlight class="normal">}</highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"><ref refid="class_poppler_1_1_link" kindref="compound">Link</ref>*<sp/>AnnotationPrivate::additionalAction(<sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97" kindref="member">Annotation::AdditionalActionType</ref><sp/>type<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="773"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>pdfAnnot-&gt;getType()<sp/>!=<sp/>Annot::typeScreen<sp/>&amp;&amp;<sp/>pdfAnnot-&gt;getType()<sp/>!=<sp/>Annot::typeWidget<sp/>)</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="776"><highlight class="normal"></highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797f" kindref="member">Annot::AdditionalActionsType</ref><sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fa951c5e1f83223c0e9f4f3ddf56b69a1a" kindref="member">Annot::actionCursorEntering</ref>;</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>type<sp/>)</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97aee2c0fc83347cd007648580bcbbad7d0" kindref="member">Annotation::CursorEnteringAction</ref>:<sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fa951c5e1f83223c0e9f4f3ddf56b69a1a" kindref="member">Annot::actionCursorEntering</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97ac6dc3772b30bfa14e7508aff6fe80b10" kindref="member">Annotation::CursorLeavingAction</ref>:<sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fae85b59afd1ed2aab23cd7162c3d7f105" kindref="member">Annot::actionCursorLeaving</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97a282cc09a8997b7a185131cbbca222305" kindref="member">Annotation::MousePressedAction</ref>:<sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fa87a19d47e5a0896215770b81743a3ca3" kindref="member">Annot::actionMousePressed</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97a00ec3a0e67e06661be5e4512863277bb" kindref="member">Annotation::MouseReleasedAction</ref>:<sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fa2f7101a80f27509f74f8ba832cb74093" kindref="member">Annot::actionMouseReleased</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97a11fea0eab0e5fe95c9b2e49b60634a09" kindref="member">Annotation::FocusInAction</ref>:<sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fa142ba5f7ea2ecba04f4d41134657f260" kindref="member">Annot::actionFocusIn</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97a96b69f44fecbdddbe2a3eac3663101ed" kindref="member">Annotation::FocusOutAction</ref>:<sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fa1ab8dea9bb1e51120cc0b6fed36ae6b2" kindref="member">Annot::actionFocusOut</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97a1abe49ff4ff00c18dba2d1a1f02fa81a" kindref="member">Annotation::PageOpeningAction</ref>:<sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fae81a14c83e28b92505079479ef2a3564" kindref="member">Annot::actionPageOpening</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97aadfe2f87822cb8ece97c4e2866149f9c" kindref="member">Annotation::PageClosingAction</ref>:<sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fa363776aa76f36b7228dce1d1b8d94fc6" kindref="member">Annot::actionPageClosing</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97aed0387be629aea936c955a2383e51ba7" kindref="member">Annotation::PageVisibleAction</ref>:<sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fa1faa4cfc4625f91e80bda8d6a2efed32" kindref="member">Annot::actionPageVisible</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97a9f96283019b53b0dac7e6fd40eb51aec" kindref="member">Annotation::PageInvisibleAction</ref>:<sp/>actionType<sp/>=<sp/><ref refid="class_annot_1aee99d73d7beb3a7aef74f6bc68cc797fa642b01c7ab1449d7e5577c0b78313c4a" kindref="member">Annot::actionPageInvisible</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="791"><highlight class="normal"></highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_action" kindref="compound">::LinkAction</ref><sp/>*linkAction<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeScreen<sp/>)</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linkAction<sp/>=<sp/>static_cast&lt;AnnotScreen*&gt;(<sp/>pdfAnnot<sp/>)-&gt;getAdditionalAction(<sp/>actionType<sp/>);</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linkAction<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_widget" kindref="compound">AnnotWidget</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>pdfAnnot<sp/>)-&gt;getAdditionalAction(<sp/>actionType<sp/>);</highlight></codeline>
<codeline lineno="797"><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link" kindref="compound">Link</ref><sp/>*link<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="799"><highlight class="normal"></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>linkAction<sp/>)</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>link<sp/>=<sp/>PageData::convertLinkActionToLink(<sp/>linkAction,<sp/>parentDoc,<sp/>QRectF()<sp/>);</highlight></codeline>
<codeline lineno="802"><highlight class="normal"></highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>link;</highlight></codeline>
<codeline lineno="804"><highlight class="normal">}</highlight></codeline>
<codeline lineno="805"><highlight class="normal"></highlight></codeline>
<codeline lineno="806"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AnnotationPrivate::addAnnotationToPage(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*pdfPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>ann)</highlight></codeline>
<codeline lineno="807"><highlight class="normal">{</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ann-&gt;d_ptr-&gt;pdfAnnot<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error(errIO,<sp/>-1,<sp/></highlight><highlight class="stringliteral">&quot;Annotation<sp/>is<sp/>already<sp/>tied&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="813"><highlight class="normal"></highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Unimplemented<sp/>annotations<sp/>can&apos;t<sp/>be<sp/>created<sp/>by<sp/>the<sp/>user<sp/>because<sp/>their<sp/>ctor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>is<sp/>private.<sp/>Therefore,<sp/>createNativeAnnot<sp/>will<sp/>never<sp/>return<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref><sp/>*nativeAnnot<sp/>=<sp/>ann-&gt;d_ptr-&gt;createNativeAnnot(pdfPage,<sp/>doc);</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT(nativeAnnot);</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfPage-&gt;addAnnot(nativeAnnot);</highlight></codeline>
<codeline lineno="819"><highlight class="normal">}</highlight></codeline>
<codeline lineno="820"><highlight class="normal"></highlight></codeline>
<codeline lineno="821"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AnnotationPrivate::removeAnnotationFromPage(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*pdfPage,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>ann)</highlight></codeline>
<codeline lineno="822"><highlight class="normal">{</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ann-&gt;d_ptr-&gt;pdfAnnot<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error(errIO,<sp/>-1,<sp/></highlight><highlight class="stringliteral">&quot;Annotation<sp/>is<sp/>not<sp/>tied&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="828"><highlight class="normal"></highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ann-&gt;d_ptr-&gt;pdfPage<sp/>!=<sp/>pdfPage)</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error(errIO,<sp/>-1,<sp/></highlight><highlight class="stringliteral">&quot;Annotation<sp/>doesn&apos;t<sp/>belong<sp/>to<sp/>the<sp/>specified<sp/>page&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="834"><highlight class="normal"></highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Remove<sp/>annotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfPage-&gt;removeAnnot(ann-&gt;d_ptr-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="837"><highlight class="normal"></highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Destroy<sp/>object</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>ann;</highlight></codeline>
<codeline lineno="840"><highlight class="normal">}</highlight></codeline>
<codeline lineno="841"><highlight class="normal"></highlight></codeline>
<codeline lineno="842" refid="class_poppler_1_1_annotation_1_1_style_1_1_private" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1_1_style_1_1_private" kindref="compound">Annotation::Style::Private</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>QSharedData</highlight></codeline>
<codeline lineno="843"><highlight class="normal">{</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation_1_1_style_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>opacity(<sp/>1.0<sp/>),<sp/>width(<sp/>1.0<sp/>),<sp/>lineStyle(<sp/>Solid<sp/>),<sp/>xCorners(<sp/>0.0<sp/>),</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>yCorners(<sp/>0.0<sp/>),<sp/>lineEffect(<sp/>NoEffect<sp/>),<sp/>effectIntensity(<sp/>1.0<sp/>)</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dashArray.resize(1);</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dashArray[0]<sp/>=<sp/>3;</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="852"><highlight class="normal"></highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/>QColor<sp/><ref refid="structcolor" kindref="compound">color</ref>;</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>opacity;</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>width;</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/>Annotation::LineStyle<sp/>lineStyle;</highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>xCorners;</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>yCorners;</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/>QVector&lt;double&gt;<sp/>dashArray;</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/>Annotation::LineEffect<sp/>lineEffect;</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>effectIntensity;</highlight></codeline>
<codeline lineno="862"><highlight class="normal">};</highlight></codeline>
<codeline lineno="863"><highlight class="normal"></highlight></codeline>
<codeline lineno="864"><highlight class="normal">Annotation::Style::Style()</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d<sp/>(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1_1_style_1_1_private" kindref="compound">Private</ref><sp/>)</highlight></codeline>
<codeline lineno="866"><highlight class="normal">{</highlight></codeline>
<codeline lineno="867"><highlight class="normal">}</highlight></codeline>
<codeline lineno="868"><highlight class="normal"></highlight></codeline>
<codeline lineno="869"><highlight class="normal">Annotation::Style::Style(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1_1_style" kindref="compound">Style</ref><sp/>&amp;other<sp/>)</highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d(<sp/>other.d<sp/>)</highlight></codeline>
<codeline lineno="871"><highlight class="normal">{</highlight></codeline>
<codeline lineno="872"><highlight class="normal">}</highlight></codeline>
<codeline lineno="873"><highlight class="normal"></highlight></codeline>
<codeline lineno="874"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1_1_style" kindref="compound">Annotation::Style</ref>&amp;<sp/>Annotation::Style::operator=(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1_1_style" kindref="compound">Style</ref><sp/>&amp;other<sp/>)</highlight></codeline>
<codeline lineno="875"><highlight class="normal">{</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;other<sp/>)</highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d<sp/>=<sp/>other.d;</highlight></codeline>
<codeline lineno="878"><highlight class="normal"></highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="880"><highlight class="normal">}</highlight></codeline>
<codeline lineno="881"><highlight class="normal"></highlight></codeline>
<codeline lineno="882"><highlight class="normal">Annotation::Style::~Style()</highlight></codeline>
<codeline lineno="883"><highlight class="normal">{</highlight></codeline>
<codeline lineno="884"><highlight class="normal">}</highlight></codeline>
<codeline lineno="885"><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal">QColor<sp/>Annotation::Style::color()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="887"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;color;</highlight></codeline>
<codeline lineno="889"><highlight class="normal">}</highlight></codeline>
<codeline lineno="890"><highlight class="normal"></highlight></codeline>
<codeline lineno="891"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Style::setColor(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QColor<sp/>&amp;<ref refid="structcolor" kindref="compound">color</ref>)</highlight></codeline>
<codeline lineno="892"><highlight class="normal">{</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;color<sp/>=<sp/>color;</highlight></codeline>
<codeline lineno="894"><highlight class="normal">}</highlight></codeline>
<codeline lineno="895"><highlight class="normal"></highlight></codeline>
<codeline lineno="896"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>Annotation::Style::opacity()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="897"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;opacity;</highlight></codeline>
<codeline lineno="899"><highlight class="normal">}</highlight></codeline>
<codeline lineno="900"><highlight class="normal"></highlight></codeline>
<codeline lineno="901"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Style::setOpacity(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>opacity)</highlight></codeline>
<codeline lineno="902"><highlight class="normal">{</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;opacity<sp/>=<sp/>opacity;</highlight></codeline>
<codeline lineno="904"><highlight class="normal">}</highlight></codeline>
<codeline lineno="905"><highlight class="normal"></highlight></codeline>
<codeline lineno="906"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>Annotation::Style::width()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="907"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;width;</highlight></codeline>
<codeline lineno="909"><highlight class="normal">}</highlight></codeline>
<codeline lineno="910"><highlight class="normal"></highlight></codeline>
<codeline lineno="911"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Style::setWidth(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>width)</highlight></codeline>
<codeline lineno="912"><highlight class="normal">{</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;width<sp/>=<sp/>width;</highlight></codeline>
<codeline lineno="914"><highlight class="normal">}</highlight></codeline>
<codeline lineno="915"><highlight class="normal"></highlight></codeline>
<codeline lineno="916"><highlight class="normal">Annotation::LineStyle<sp/>Annotation::Style::lineStyle()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="917"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineStyle;</highlight></codeline>
<codeline lineno="919"><highlight class="normal">}</highlight></codeline>
<codeline lineno="920"><highlight class="normal"></highlight></codeline>
<codeline lineno="921"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Style::setLineStyle(Annotation::LineStyle<sp/>style)</highlight></codeline>
<codeline lineno="922"><highlight class="normal">{</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;lineStyle<sp/>=<sp/>style;</highlight></codeline>
<codeline lineno="924"><highlight class="normal">}</highlight></codeline>
<codeline lineno="925"><highlight class="normal"></highlight></codeline>
<codeline lineno="926"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>Annotation::Style::xCorners()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="927"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;xCorners;</highlight></codeline>
<codeline lineno="929"><highlight class="normal">}</highlight></codeline>
<codeline lineno="930"><highlight class="normal"></highlight></codeline>
<codeline lineno="931"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Style::setXCorners(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>radius)</highlight></codeline>
<codeline lineno="932"><highlight class="normal">{</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;xCorners<sp/>=<sp/>radius;</highlight></codeline>
<codeline lineno="934"><highlight class="normal">}</highlight></codeline>
<codeline lineno="935"><highlight class="normal"></highlight></codeline>
<codeline lineno="936"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>Annotation::Style::yCorners()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="937"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;yCorners;</highlight></codeline>
<codeline lineno="939"><highlight class="normal">}</highlight></codeline>
<codeline lineno="940"><highlight class="normal"></highlight></codeline>
<codeline lineno="941"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Style::setYCorners(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>radius)</highlight></codeline>
<codeline lineno="942"><highlight class="normal">{</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;yCorners<sp/>=<sp/>radius;</highlight></codeline>
<codeline lineno="944"><highlight class="normal">}</highlight></codeline>
<codeline lineno="945"><highlight class="normal"></highlight></codeline>
<codeline lineno="946"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QVector&lt;double&gt;&amp;<sp/>Annotation::Style::dashArray()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="947"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;dashArray;</highlight></codeline>
<codeline lineno="949"><highlight class="normal">}</highlight></codeline>
<codeline lineno="950"><highlight class="normal"></highlight></codeline>
<codeline lineno="951"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Style::setDashArray(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QVector&lt;double&gt;<sp/>&amp;array)</highlight></codeline>
<codeline lineno="952"><highlight class="normal">{</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;dashArray<sp/>=<sp/>array;</highlight></codeline>
<codeline lineno="954"><highlight class="normal">}</highlight></codeline>
<codeline lineno="955"><highlight class="normal"></highlight></codeline>
<codeline lineno="956"><highlight class="normal">Annotation::LineEffect<sp/>Annotation::Style::lineEffect()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="957"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineEffect;</highlight></codeline>
<codeline lineno="959"><highlight class="normal">}</highlight></codeline>
<codeline lineno="960"><highlight class="normal"></highlight></codeline>
<codeline lineno="961"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Style::setLineEffect(Annotation::LineEffect<sp/>effect)</highlight></codeline>
<codeline lineno="962"><highlight class="normal">{</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;lineEffect<sp/>=<sp/>effect;</highlight></codeline>
<codeline lineno="964"><highlight class="normal">}</highlight></codeline>
<codeline lineno="965"><highlight class="normal"></highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>Annotation::Style::effectIntensity()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="967"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;effectIntensity;</highlight></codeline>
<codeline lineno="969"><highlight class="normal">}</highlight></codeline>
<codeline lineno="970"><highlight class="normal"></highlight></codeline>
<codeline lineno="971"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Style::setEffectIntensity(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>intens)</highlight></codeline>
<codeline lineno="972"><highlight class="normal">{</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;effectIntensity<sp/>=<sp/>intens;</highlight></codeline>
<codeline lineno="974"><highlight class="normal">}</highlight></codeline>
<codeline lineno="975"><highlight class="normal"></highlight></codeline>
<codeline lineno="976" refid="class_poppler_1_1_annotation_1_1_popup_1_1_private" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1_1_popup_1_1_private" kindref="compound">Annotation::Popup::Private</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>QSharedData</highlight></codeline>
<codeline lineno="977"><highlight class="normal">{</highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation_1_1_popup_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>flags(<sp/>-1<sp/>)<sp/>{}</highlight></codeline>
<codeline lineno="981"><highlight class="normal"></highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags;</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>geometry;</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/>QString<sp/>title;</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/>QString<sp/>summary;</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/>QString<sp/>text;</highlight></codeline>
<codeline lineno="987"><highlight class="normal">};</highlight></codeline>
<codeline lineno="988"><highlight class="normal"></highlight></codeline>
<codeline lineno="989"><highlight class="normal">Annotation::Popup::Popup()</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d<sp/>(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1_1_popup_1_1_private" kindref="compound">Private</ref><sp/>)</highlight></codeline>
<codeline lineno="991"><highlight class="normal">{</highlight></codeline>
<codeline lineno="992"><highlight class="normal">}</highlight></codeline>
<codeline lineno="993"><highlight class="normal"></highlight></codeline>
<codeline lineno="994"><highlight class="normal">Annotation::Popup::Popup(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1_1_popup" kindref="compound">Popup</ref><sp/>&amp;other<sp/>)</highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d(<sp/>other.d<sp/>)</highlight></codeline>
<codeline lineno="996"><highlight class="normal">{</highlight></codeline>
<codeline lineno="997"><highlight class="normal">}</highlight></codeline>
<codeline lineno="998"><highlight class="normal"></highlight></codeline>
<codeline lineno="999"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1_1_popup" kindref="compound">Annotation::Popup</ref>&amp;<sp/>Annotation::Popup::operator=(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1_1_popup" kindref="compound">Popup</ref><sp/>&amp;other<sp/>)</highlight></codeline>
<codeline lineno="1000"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>!=<sp/>&amp;other<sp/>)</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d<sp/>=<sp/>other.d;</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"></highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1005"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1006"><highlight class="normal"></highlight></codeline>
<codeline lineno="1007"><highlight class="normal">Annotation::Popup::~Popup()</highlight></codeline>
<codeline lineno="1008"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1009"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"></highlight></codeline>
<codeline lineno="1011"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>Annotation::Popup::flags()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1012"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;flags;</highlight></codeline>
<codeline lineno="1014"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"></highlight></codeline>
<codeline lineno="1016"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Popup::setFlags(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags<sp/>)</highlight></codeline>
<codeline lineno="1017"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;flags<sp/>=<sp/>flags;</highlight></codeline>
<codeline lineno="1019"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"></highlight></codeline>
<codeline lineno="1021"><highlight class="normal">QRectF<sp/>Annotation::Popup::geometry()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1022"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;geometry;</highlight></codeline>
<codeline lineno="1024"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"></highlight></codeline>
<codeline lineno="1026"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Popup::setGeometry(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;geom<sp/>)</highlight></codeline>
<codeline lineno="1027"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;geometry<sp/>=<sp/>geom;</highlight></codeline>
<codeline lineno="1029"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"></highlight></codeline>
<codeline lineno="1031"><highlight class="normal">QString<sp/>Annotation::Popup::title()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1032"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;title;</highlight></codeline>
<codeline lineno="1034"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"></highlight></codeline>
<codeline lineno="1036"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Popup::setTitle(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;title<sp/>)</highlight></codeline>
<codeline lineno="1037"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;title<sp/>=<sp/>title;</highlight></codeline>
<codeline lineno="1039"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"></highlight></codeline>
<codeline lineno="1041"><highlight class="normal">QString<sp/>Annotation::Popup::summary()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1042"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;summary;</highlight></codeline>
<codeline lineno="1044"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"></highlight></codeline>
<codeline lineno="1046"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Popup::setSummary(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;summary<sp/>)</highlight></codeline>
<codeline lineno="1047"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;summary<sp/>=<sp/>summary;</highlight></codeline>
<codeline lineno="1049"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"></highlight></codeline>
<codeline lineno="1051"><highlight class="normal">QString<sp/>Annotation::Popup::text()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1052"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;text;</highlight></codeline>
<codeline lineno="1054"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"></highlight></codeline>
<codeline lineno="1056"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::Popup::setText(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;text<sp/>)</highlight></codeline>
<codeline lineno="1057"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;text<sp/>=<sp/>text;</highlight></codeline>
<codeline lineno="1059"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"></highlight></codeline>
<codeline lineno="1061"><highlight class="normal">Annotation::Annotation(<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref><sp/>&amp;dd<sp/>)</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d_ptr(<sp/>&amp;dd<sp/>)</highlight></codeline>
<codeline lineno="1063"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1064"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"></highlight></codeline>
<codeline lineno="1066" refid="class_poppler_1_1_annotation_1a1594b95bca33b18fae1bdc1606e28985" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a1594b95bca33b18fae1bdc1606e28985" kindref="member">Annotation::~Annotation</ref>()</highlight></codeline>
<codeline lineno="1067"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1068"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1069"><highlight class="normal"></highlight></codeline>
<codeline lineno="1070"><highlight class="normal">Annotation::Annotation(<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref><sp/>&amp;dd,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;annNode<sp/>)</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d_ptr(<sp/>&amp;dd<sp/>)</highlight></codeline>
<codeline lineno="1072"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"></highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>get<sp/>the<sp/>[base]<sp/>element<sp/>of<sp/>the<sp/>annotation<sp/>node</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/><ref refid="class_poppler_1_1_annotation_utils_1add8a7dc39bd8225aa8d7ff7d53be70b8" kindref="member">AnnotationUtils::findChildElement</ref>(<sp/>annNode,<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;base&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.isNull()<sp/>)</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"></highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation_1_1_style" kindref="compound">Style</ref><sp/>s;</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation_1_1_popup" kindref="compound">Popup</ref><sp/>w;</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"></highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>-contents-<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;author&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setAuthor(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;author&quot;</highlight><highlight class="normal">)<sp/>));</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;contents&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setContents(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;contents&quot;</highlight><highlight class="normal">)<sp/>));</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;uniqueName&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setUniqueName(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;uniqueName&quot;</highlight><highlight class="normal">)<sp/>));</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;modifyDate&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setModificationDate(QDateTime::fromString(<sp/>e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;modifyDate&quot;</highlight><highlight class="normal">)<sp/>)<sp/>));</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;creationDate&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setCreationDate(QDateTime::fromString(<sp/>e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;creationDate&quot;</highlight><highlight class="normal">)<sp/>)<sp/>));</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"></highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>-other-<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;flags&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setFlags(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;flags&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;color&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setColor(QColor(<sp/>e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;color&quot;</highlight><highlight class="normal">)<sp/>)<sp/>));</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;opacity&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setOpacity(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;opacity&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"></highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>-the-subnodes-<sp/>(describing<sp/>Style,<sp/>Window,<sp/>Revision(s)<sp/>structures)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Note:<sp/>all<sp/>subnodes<sp/>if<sp/>present<sp/>must<sp/>be<sp/>&apos;attributes<sp/>complete&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>eSubNode<sp/>=<sp/>e.firstChild();</highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>eSubNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>ee<sp/>=<sp/>eSubNode.toElement();</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eSubNode<sp/>=<sp/>eSubNode.nextSibling();</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"></highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>boundary</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ee.tagName()<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;boundary&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRectF<sp/>brect;</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brect.setLeft(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;l&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brect.setTop(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;t&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brect.setRight(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;r&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brect.setBottom(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;b&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setBoundary(brect);</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>penStyle<sp/>if<sp/>not<sp/>default</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ee.tagName()<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;penStyle&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setWidth(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;width&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setLineStyle((LineStyle)ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;style&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setXCorners(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;xcr&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setYCorners(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ycr&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"></highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Try<sp/>to<sp/>parse<sp/>dash<sp/>array<sp/>(new<sp/>format)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QVector&lt;double&gt;<sp/>dashArray;</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"></highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomNode<sp/>eeSubNode<sp/>=<sp/>ee.firstChild();</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>eeSubNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>eee<sp/>=<sp/>eeSubNode.toElement();</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eeSubNode<sp/>=<sp/>eeSubNode.nextSibling();</highlight></codeline>
<codeline lineno="1137"><highlight class="normal"></highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>eee.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;dashsegm&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"></highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dashArray.append(eee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;len&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"></highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>no<sp/>segments<sp/>were<sp/>found<sp/>use<sp/>marks/spaces<sp/>(old<sp/>format)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>dashArray.size()<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dashArray.append(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;marks&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dashArray.append(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;spaces&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"></highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setDashArray(dashArray);</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>effectStyle<sp/>if<sp/>not<sp/>default</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ee.tagName()<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;penEffect&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setLineEffect((LineEffect)ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;effect&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setEffectIntensity(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;intensity&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>window<sp/>if<sp/>present</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ee.tagName()<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;window&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRectF<sp/>geom;</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom.setX(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;top&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom.setY(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;left&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"></highlight></codeline>
<codeline lineno="1166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ee.hasAttribute(QStringLiteral(</highlight><highlight class="stringliteral">&quot;widthDouble&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="1167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom.setWidth(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;widthDouble&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom.setWidth(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;width&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"></highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ee.hasAttribute(QStringLiteral(</highlight><highlight class="stringliteral">&quot;widthDouble&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom.setHeight(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;heightDouble&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom.setHeight(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;height&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"></highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w.setGeometry(geom);</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"></highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w.setFlags(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;flags&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w.setTitle(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;title&quot;</highlight><highlight class="normal">)<sp/>));</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w.setSummary(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;summary&quot;</highlight><highlight class="normal">)<sp/>));</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>window<sp/>subnodes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomNode<sp/>winNode<sp/>=<sp/>ee.firstChild();</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>;<sp/>winNode.isElement();<sp/>winNode<sp/>=<sp/>winNode.nextSibling()<sp/>)</highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>winElement<sp/>=<sp/>winNode.toElement();</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>winElement.tagName()<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;text&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w.setText(winElement.firstChild().toCDATASection().data());</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"></highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/>setStyle(s);<sp/><sp/></highlight><highlight class="comment">//<sp/>assign<sp/>parsed<sp/>style</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/>setPopup(w);<sp/></highlight><highlight class="comment">//<sp/>assign<sp/>parsed<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1194"><highlight class="normal"></highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>get<sp/>the<sp/>[revisions]<sp/>element<sp/>of<sp/>the<sp/>annotation<sp/>node</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>revNode<sp/>=<sp/>annNode.firstChild();</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>;<sp/>revNode.isElement();<sp/>revNode<sp/>=<sp/>revNode.nextSibling()<sp/>)</highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>revElement<sp/>=<sp/>revNode.toElement();</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>revElement.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;revision&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"></highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*reply<sp/>=<sp/><ref refid="class_poppler_1_1_annotation_utils_1a877dcd5f1e9f136ff86ae96de85712e0" kindref="member">AnnotationUtils::createAnnotation</ref>(<sp/>revElement<sp/>);</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"></highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(reply)<sp/></highlight><highlight class="comment">//<sp/>if<sp/>annotation<sp/>is<sp/>valid,<sp/>add<sp/>as<sp/>a<sp/>revision<sp/>of<sp/>this<sp/>annotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RevScope<sp/>scope<sp/>=<sp/>(RevScope)revElement.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;revScope&quot;</highlight><highlight class="normal">)<sp/>).toInt();</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RevType<sp/>type<sp/>=<sp/>(RevType)revElement.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;revType&quot;</highlight><highlight class="normal">)<sp/>).toInt();</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;addRevision(reply,<sp/>scope,<sp/>type);</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>reply;</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1213"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"></highlight></codeline>
<codeline lineno="1215"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::storeBaseAnnotationProperties(<sp/>QDomNode<sp/>&amp;<sp/>annNode,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1216"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[base]<sp/>element<sp/>of<sp/>the<sp/>annotation<sp/>node</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1218"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;base&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/>annNode.appendChild(<sp/>e<sp/>);</highlight></codeline>
<codeline lineno="1220"><highlight class="normal"></highlight></codeline>
<codeline lineno="1221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1_1_style" kindref="compound">Style</ref><sp/>s<sp/>=<sp/>style();</highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1_1_popup" kindref="compound">Popup</ref><sp/>w<sp/>=<sp/>popup();</highlight></codeline>
<codeline lineno="1223"><highlight class="normal"></highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>-contents-<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!author().isEmpty()<sp/>)</highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;author&quot;</highlight><highlight class="normal">),<sp/>author()<sp/>);</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!contents().isEmpty()<sp/>)</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;contents&quot;</highlight><highlight class="normal">),<sp/>contents()<sp/>);</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!uniqueName().isEmpty()<sp/>)</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;uniqueName&quot;</highlight><highlight class="normal">),<sp/>uniqueName()<sp/>);</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>modificationDate().isValid()<sp/>)</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;modifyDate&quot;</highlight><highlight class="normal">),<sp/>modificationDate().toString()<sp/>);</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>creationDate().isValid()<sp/>)</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;creationDate&quot;</highlight><highlight class="normal">),<sp/>creationDate().toString()<sp/>);</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"></highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>-other-<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>flags()<sp/>)</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;flags&quot;</highlight><highlight class="normal">),<sp/>flags()<sp/>);</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>s.color().isValid()<sp/>)</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;color&quot;</highlight><highlight class="normal">),<sp/>s.color().name()<sp/>);</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>s.opacity()<sp/>!=<sp/>1.0<sp/>)</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;opacity&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>s.opacity()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"></highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Sub-Node-1<sp/>-<sp/>boundary</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>brect<sp/>=<sp/>boundary();</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>bE<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;boundary&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/><sp/>e.appendChild(<sp/>bE<sp/>);</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/>bE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;l&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)brect.left()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/>bE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;t&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)brect.top()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/>bE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;r&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)brect.right()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"><sp/><sp/><sp/><sp/>bE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;b&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)brect.bottom()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1252"><highlight class="normal"></highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Sub-Node-2<sp/>-<sp/>penStyle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QVector&lt;double&gt;<sp/>dashArray<sp/>=<sp/>s.dashArray();</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>s.width()<sp/>!=<sp/>1<sp/>||<sp/>s.lineStyle()<sp/>!=<sp/>Solid<sp/>||<sp/>s.xCorners()<sp/>!=<sp/>0<sp/>||</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.yCorners()<sp/>!=<sp/>0.0<sp/>||<sp/>dashArray.size()<sp/>!=<sp/>1<sp/>||<sp/>dashArray[0]<sp/>!=<sp/>3<sp/>)</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>psE<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;penStyle&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.appendChild(<sp/>psE<sp/>);</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>psE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;width&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>s.width()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>psE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;style&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)s.lineStyle()<sp/>);</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>psE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;xcr&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>s.xCorners()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>psE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ycr&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>s.yCorners()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"></highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>marks<sp/>=<sp/>3,<sp/>spaces<sp/>=<sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Do<sp/>not<sp/>break<sp/>code<sp/>relying<sp/>on<sp/>marks/spaces</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dashArray.size()<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>marks<sp/>=<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)dashArray[0];</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dashArray.size()<sp/>&gt;<sp/>1)</highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spaces<sp/>=<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)dashArray[1];</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"></highlight></codeline>
<codeline lineno="1271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>psE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;marks&quot;</highlight><highlight class="normal">),<sp/>marks<sp/>);</highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>psE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;spaces&quot;</highlight><highlight class="normal">),<sp/>spaces<sp/>);</highlight></codeline>
<codeline lineno="1273"><highlight class="normal"></highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>segm,<sp/>dashArray)</highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>pattE<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;dashsegm&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pattE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;len&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>segm<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>psE.appendChild(pattE);</highlight></codeline>
<codeline lineno="1279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"></highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Sub-Node-3<sp/>-<sp/>penEffect</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>s.lineEffect()<sp/>!=<sp/>NoEffect<sp/>||<sp/>s.effectIntensity()<sp/>!=<sp/>1.0<sp/>)</highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>peE<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;penEffect&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.appendChild(<sp/>peE<sp/>);</highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>peE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;effect&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)s.lineEffect()<sp/>);</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>peE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;intensity&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>s.effectIntensity()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"></highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Sub-Node-4<sp/>-<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>w.flags()<sp/>!=<sp/>-1<sp/>||<sp/>!w.title().isEmpty()<sp/>||<sp/>!w.summary().isEmpty()<sp/>||</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!w.text().isEmpty()<sp/>)</highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>wE<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;window&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>geom<sp/>=<sp/>w.geometry();</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>e.appendChild(<sp/>wE<sp/>);</highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;flags&quot;</highlight><highlight class="normal">),<sp/>w.flags()<sp/>);</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;top&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>geom.x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;left&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>geom.y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;width&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)geom.width()<sp/>);</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;height&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)geom.height()<sp/>);</highlight></codeline>
<codeline lineno="1303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;widthDouble&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>geom.width()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;heightDouble&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>geom.height()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;title&quot;</highlight><highlight class="normal">),<sp/>w.title()<sp/>);</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wE.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;summary&quot;</highlight><highlight class="normal">),<sp/>w.summary()<sp/>);</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>window.text<sp/>as<sp/>a<sp/>subnode,<sp/>because<sp/>we<sp/>need<sp/>escaped<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!w.text().isEmpty()<sp/>)</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>escapedText<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;text&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wE.appendChild(<sp/>escapedText<sp/>);</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomCDATASection<sp/>textCData<sp/>=<sp/>document.createCDATASection(<sp/>w.text()<sp/>);</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>escapedText.appendChild(<sp/>textCData<sp/>);</highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1316"><highlight class="normal"></highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;Annotation*&gt;<sp/>revs<sp/>=<sp/>revisions();</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"></highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[revision]<sp/>element<sp/>of<sp/>the<sp/>annotation<sp/>node<sp/>(if<sp/>any)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>revs.isEmpty()<sp/>)</highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1322"><highlight class="normal"></highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>add<sp/>all<sp/>revisions<sp/>as<sp/>children<sp/>of<sp/>revisions<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*rev,<sp/>revs)</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>r<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;revision&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>annNode.appendChild(<sp/>r<sp/>);</highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>element<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;revScope&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)rev-&gt;<ref refid="class_poppler_1_1_annotation_1ad9fb16c5e50ac91e51f4ea3547eea2ad" kindref="member">revisionScope</ref>()<sp/>);</highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;revType&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)rev-&gt;<ref refid="class_poppler_1_1_annotation_1a1aafb6d259755a1ed36498c70c9837ef" kindref="member">revisionType</ref>()<sp/>);</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>use<sp/>revision<sp/>as<sp/>the<sp/>annotation<sp/>element,<sp/>so<sp/>fill<sp/>it<sp/>up</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation_utils_1a1ef4c62890bcf810bba8d8a08763d784" kindref="member">AnnotationUtils::storeAnnotation</ref>(<sp/>rev,<sp/>r,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>rev;</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1335"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"></highlight></codeline>
<codeline lineno="1337" refid="class_poppler_1_1_annotation_1aa14606418f3fb5a1ab0a52223c6e1511" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_annotation_1aa14606418f3fb5a1ab0a52223c6e1511" kindref="member">Annotation::author</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1338"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1340"><highlight class="normal"></highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;author;</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"></highlight></codeline>
<codeline lineno="1344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*markupann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>markupann<sp/>?<sp/>UnicodeParsedString(<sp/>markupann-&gt;getLabel()<sp/>)<sp/>:<sp/>QString();</highlight></codeline>
<codeline lineno="1346"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"></highlight></codeline>
<codeline lineno="1348" refid="class_poppler_1_1_annotation_1a519a5f64785bf1381921f6f62dded881" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a519a5f64785bf1381921f6f62dded881" kindref="member">Annotation::setAuthor</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;author<sp/>)</highlight></codeline>
<codeline lineno="1349"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1351"><highlight class="normal"></highlight></codeline>
<codeline lineno="1352"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;author<sp/>=<sp/>author;</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"></highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*markupann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(markupann)</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*s<sp/>=<sp/>QStringToUnicodeGooString(author);</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>markupann-&gt;setLabel(s);</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1365"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"></highlight></codeline>
<codeline lineno="1367"><highlight class="normal">QString<sp/>Annotation::contents()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1368"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"></highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;contents;</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"></highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>UnicodeParsedString(<sp/>d-&gt;pdfAnnot-&gt;getContents()<sp/>);</highlight></codeline>
<codeline lineno="1375"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"></highlight></codeline>
<codeline lineno="1377"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::setContents(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;contents<sp/>)</highlight></codeline>
<codeline lineno="1378"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"></highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;contents<sp/>=<sp/>contents;</highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1386"><highlight class="normal"></highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*s<sp/>=<sp/>QStringToUnicodeGooString(contents);</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;pdfAnnot-&gt;setContents(s);</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="1390"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"></highlight></codeline>
<codeline lineno="1392" refid="class_poppler_1_1_annotation_1ac23456377d420ace54b1f7eb4d389423" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_annotation_1ac23456377d420ace54b1f7eb4d389423" kindref="member">Annotation::uniqueName</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1393"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"></highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;uniqueName;</highlight></codeline>
<codeline lineno="1398"><highlight class="normal"></highlight></codeline>
<codeline lineno="1399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>UnicodeParsedString(<sp/>d-&gt;pdfAnnot-&gt;getName()<sp/>);</highlight></codeline>
<codeline lineno="1400"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1401"><highlight class="normal"></highlight></codeline>
<codeline lineno="1402" refid="class_poppler_1_1_annotation_1aa2e24fbf5e2cd28af8e1b62876c39663" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1aa2e24fbf5e2cd28af8e1b62876c39663" kindref="member">Annotation::setUniqueName</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;uniqueName<sp/>)</highlight></codeline>
<codeline lineno="1403"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"></highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;uniqueName<sp/>=<sp/>uniqueName;</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1411"><highlight class="normal"></highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/>QByteArray<sp/>ascii<sp/>=<sp/>uniqueName.toLatin1();</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>s(ascii.constData());</highlight></codeline>
<codeline lineno="1414"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;pdfAnnot-&gt;setName(&amp;s);</highlight></codeline>
<codeline lineno="1415"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1416"><highlight class="normal"></highlight></codeline>
<codeline lineno="1417"><highlight class="normal">QDateTime<sp/>Annotation::modificationDate()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1418"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1420"><highlight class="normal"></highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;modDate;</highlight></codeline>
<codeline lineno="1423"><highlight class="normal"></highlight></codeline>
<codeline lineno="1424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>d-&gt;pdfAnnot-&gt;getModified()<sp/>)</highlight></codeline>
<codeline lineno="1425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_poppler_1a80926c85a77588d71bc0b9dd70f1d6c1" kindref="member">convertDate</ref>(<sp/>d-&gt;pdfAnnot-&gt;getModified()-&gt;getCString()<sp/>);</highlight></codeline>
<codeline lineno="1426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QDateTime();</highlight></codeline>
<codeline lineno="1428"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1429"><highlight class="normal"></highlight></codeline>
<codeline lineno="1430"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::setModificationDate(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDateTime<sp/>&amp;date<sp/>)</highlight></codeline>
<codeline lineno="1431"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1432"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1433"><highlight class="normal"></highlight></codeline>
<codeline lineno="1434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;modDate<sp/>=<sp/>date;</highlight></codeline>
<codeline lineno="1437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1438"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1439"><highlight class="normal"></highlight></codeline>
<codeline lineno="1440"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0<sp/>//<sp/>TODO:<sp/>Conversion<sp/>routine<sp/>is<sp/>broken</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1442"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>time_t<sp/>t<sp/>=<sp/>date.toTime_t();</highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*s<sp/>=<sp/>timeToDateString(&amp;t);</highlight></codeline>
<codeline lineno="1445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;pdfAnnot-&gt;setModified(s);</highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1448"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1449"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1450"><highlight class="normal"></highlight></codeline>
<codeline lineno="1451"><highlight class="normal">QDateTime<sp/>Annotation::creationDate()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1452"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1454"><highlight class="normal"></highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;creationDate;</highlight></codeline>
<codeline lineno="1457"><highlight class="normal"></highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*markupann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"></highlight></codeline>
<codeline lineno="1460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(markupann<sp/>&amp;&amp;<sp/>markupann-&gt;getDate())</highlight></codeline>
<codeline lineno="1461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_poppler_1a80926c85a77588d71bc0b9dd70f1d6c1" kindref="member">convertDate</ref>(<sp/>markupann-&gt;getDate()-&gt;getCString()<sp/>);</highlight></codeline>
<codeline lineno="1462"><highlight class="normal"></highlight></codeline>
<codeline lineno="1463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>modificationDate();</highlight></codeline>
<codeline lineno="1464"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1465"><highlight class="normal"></highlight></codeline>
<codeline lineno="1466"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Annotation::setCreationDate(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDateTime<sp/>&amp;date<sp/>)</highlight></codeline>
<codeline lineno="1467"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1469"><highlight class="normal"></highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1471"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;creationDate<sp/>=<sp/>date;</highlight></codeline>
<codeline lineno="1473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"></highlight></codeline>
<codeline lineno="1476"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0<sp/>//<sp/>TODO:<sp/>Conversion<sp/>routine<sp/>is<sp/>broken</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*markupann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(markupann)</highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>time_t<sp/>t<sp/>=<sp/>date.toTime_t();</highlight></codeline>
<codeline lineno="1481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*s<sp/>=<sp/>timeToDateString(&amp;t);</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>markupann-&gt;setDate(s);</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1486"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"></highlight></codeline>
<codeline lineno="1488"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fromPdfFlags(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags)</highlight></codeline>
<codeline lineno="1489"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>qtflags<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1491"><highlight class="normal"></highlight></codeline>
<codeline lineno="1492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>flags<sp/>&amp;<sp/>Annot::flagHidden<sp/>)</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qtflags<sp/>|=<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270a9cf0643c008c2c3f617590b129e48d3e" kindref="member">Annotation::Hidden</ref>;</highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>flags<sp/>&amp;<sp/>Annot::flagNoZoom<sp/>)</highlight></codeline>
<codeline lineno="1495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qtflags<sp/>|=<sp/>Annotation::FixedSize;</highlight></codeline>
<codeline lineno="1496"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>flags<sp/>&amp;<sp/>Annot::flagNoRotate<sp/>)</highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qtflags<sp/>|=<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270a61bee11edae896858409dd65d14d3a70" kindref="member">Annotation::FixedRotation</ref>;</highlight></codeline>
<codeline lineno="1498"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!(<sp/>flags<sp/>&amp;<sp/>Annot::flagPrint<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qtflags<sp/>|=<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270abc4b217d0e1932558a182595a1ffadaf" kindref="member">Annotation::DenyPrint</ref>;</highlight></codeline>
<codeline lineno="1500"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>flags<sp/>&amp;<sp/>Annot::flagReadOnly<sp/>)</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qtflags<sp/>|=<sp/>(Annotation::DenyWrite<sp/>|<sp/>Annotation::DenyDelete);</highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>flags<sp/>&amp;<sp/>Annot::flagLocked<sp/>)</highlight></codeline>
<codeline lineno="1503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qtflags<sp/>|=<sp/>Annotation::DenyDelete;</highlight></codeline>
<codeline lineno="1504"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>flags<sp/>&amp;<sp/>Annot::flagToggleNoView<sp/>)</highlight></codeline>
<codeline lineno="1505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qtflags<sp/>|=<sp/>Annotation::ToggleHidingOnMouse;</highlight></codeline>
<codeline lineno="1506"><highlight class="normal"></highlight></codeline>
<codeline lineno="1507"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>qtflags;</highlight></codeline>
<codeline lineno="1508"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1509"><highlight class="normal"></highlight></codeline>
<codeline lineno="1510"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>toPdfFlags(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>qtflags)</highlight></codeline>
<codeline lineno="1511"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1512"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1513"><highlight class="normal"></highlight></codeline>
<codeline lineno="1514"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>qtflags<sp/>&amp;<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270a9cf0643c008c2c3f617590b129e48d3e" kindref="member">Annotation::Hidden</ref><sp/>)</highlight></codeline>
<codeline lineno="1515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>|=<sp/>Annot::flagHidden;</highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>qtflags<sp/>&amp;<sp/>Annotation::FixedSize<sp/>)</highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>|=<sp/>Annot::flagNoZoom;</highlight></codeline>
<codeline lineno="1518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>qtflags<sp/>&amp;<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270a61bee11edae896858409dd65d14d3a70" kindref="member">Annotation::FixedRotation</ref><sp/>)</highlight></codeline>
<codeline lineno="1519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>|=<sp/>Annot::flagNoRotate;</highlight></codeline>
<codeline lineno="1520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!(<sp/>qtflags<sp/>&amp;<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270abc4b217d0e1932558a182595a1ffadaf" kindref="member">Annotation::DenyPrint</ref><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>|=<sp/>Annot::flagPrint;</highlight></codeline>
<codeline lineno="1522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>qtflags<sp/>&amp;<sp/>Annotation::DenyWrite<sp/>)</highlight></codeline>
<codeline lineno="1523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>|=<sp/>Annot::flagReadOnly;</highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>qtflags<sp/>&amp;<sp/>Annotation::DenyDelete<sp/>)</highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>|=<sp/>Annot::flagLocked;</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>qtflags<sp/>&amp;<sp/>Annotation::ToggleHidingOnMouse<sp/>)</highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>|=<sp/>Annot::flagToggleNoView;</highlight></codeline>
<codeline lineno="1528"><highlight class="normal"></highlight></codeline>
<codeline lineno="1529"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>flags;</highlight></codeline>
<codeline lineno="1530"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1531"><highlight class="normal"></highlight></codeline>
<codeline lineno="1532" refid="class_poppler_1_1_annotation_1a34a97344409f4ebb1fa9e26d5bc19c71" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a34a97344409f4ebb1fa9e26d5bc19c71" kindref="member">Annotation::flags</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1533"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"></highlight></codeline>
<codeline lineno="1536"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;flags;</highlight></codeline>
<codeline lineno="1538"><highlight class="normal"></highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fromPdfFlags(<sp/>d-&gt;pdfAnnot-&gt;getFlags()<sp/>);</highlight></codeline>
<codeline lineno="1540"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1541"><highlight class="normal"></highlight></codeline>
<codeline lineno="1542" refid="class_poppler_1_1_annotation_1abb788875ed4ed5e593e979afc70555db" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1abb788875ed4ed5e593e979afc70555db" kindref="member">Annotation::setFlags</ref>(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags<sp/>)</highlight></codeline>
<codeline lineno="1543"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1544"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1545"><highlight class="normal"></highlight></codeline>
<codeline lineno="1546"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;flags<sp/>=<sp/>flags;</highlight></codeline>
<codeline lineno="1549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1551"><highlight class="normal"></highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;pdfAnnot-&gt;setFlags(toPdfFlags(<sp/>flags<sp/>));</highlight></codeline>
<codeline lineno="1553"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"></highlight></codeline>
<codeline lineno="1555" refid="class_poppler_1_1_annotation_1a659d9288f67ff988f75df0fa9d3ca2fb" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_poppler_1_1_annotation_1a659d9288f67ff988f75df0fa9d3ca2fb" kindref="member">Annotation::boundary</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1556"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"></highlight></codeline>
<codeline lineno="1559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;boundary;</highlight></codeline>
<codeline lineno="1561"><highlight class="normal"></highlight></codeline>
<codeline lineno="1562"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>*<sp/>rect<sp/>=<sp/>d-&gt;pdfAnnot-&gt;getRect();</highlight></codeline>
<codeline lineno="1563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;fromPdfRectangle(<sp/>*rect<sp/>);</highlight></codeline>
<codeline lineno="1564"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1565"><highlight class="normal"></highlight></codeline>
<codeline lineno="1566" refid="class_poppler_1_1_annotation_1ad7632d611ff26ec76cc42d301d2296e9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1ad7632d611ff26ec76cc42d301d2296e9" kindref="member">Annotation::setBoundary</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;boundary<sp/>)</highlight></codeline>
<codeline lineno="1567"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1568"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1569"><highlight class="normal"></highlight></codeline>
<codeline lineno="1570"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1571"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;boundary<sp/>=<sp/>boundary;</highlight></codeline>
<codeline lineno="1573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1574"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1575"><highlight class="normal"></highlight></codeline>
<codeline lineno="1576"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>rect<sp/>=<sp/>d-&gt;boundaryToPdfRectangle(<sp/>boundary,<sp/>flags()<sp/>);</highlight></codeline>
<codeline lineno="1577"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;pdfAnnot-&gt;setRect(&amp;rect);</highlight></codeline>
<codeline lineno="1578"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1579"><highlight class="normal"></highlight></codeline>
<codeline lineno="1580" refid="class_poppler_1_1_annotation_1a4857ee8533e1430f5776507f465040a8" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1_1_style" kindref="compound">Annotation::Style</ref><sp/><ref refid="class_poppler_1_1_annotation_1a4857ee8533e1430f5776507f465040a8" kindref="member">Annotation::style</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1581"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1582"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1583"><highlight class="normal"></highlight></codeline>
<codeline lineno="1584"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;style;</highlight></codeline>
<codeline lineno="1586"><highlight class="normal"></highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation_1_1_style" kindref="compound">Style</ref><sp/>s;</highlight></codeline>
<codeline lineno="1588"><highlight class="normal"><sp/><sp/><sp/><sp/>s.setColor(convertAnnotColor(<sp/>d-&gt;pdfAnnot-&gt;getColor()<sp/>));</highlight></codeline>
<codeline lineno="1589"><highlight class="normal"></highlight></codeline>
<codeline lineno="1590"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*markupann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(markupann)</highlight></codeline>
<codeline lineno="1592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setOpacity(<sp/>markupann-&gt;getOpacity()<sp/>);</highlight></codeline>
<codeline lineno="1593"><highlight class="normal"></highlight></codeline>
<codeline lineno="1594"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_border" kindref="compound">AnnotBorder</ref><sp/>*border<sp/>=<sp/>d-&gt;pdfAnnot-&gt;getBorder();</highlight></codeline>
<codeline lineno="1595"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(border)</highlight></codeline>
<codeline lineno="1596"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>border-&gt;getType()<sp/>==<sp/>AnnotBorder::typeArray<sp/>)</highlight></codeline>
<codeline lineno="1598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_border_array" kindref="compound">AnnotBorderArray</ref><sp/>*border_array<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_border_array" kindref="compound">AnnotBorderArray</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(border);</highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setXCorners(<sp/>border_array-&gt;getHorizontalCorner()<sp/>);</highlight></codeline>
<codeline lineno="1601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setYCorners(<sp/>border_array-&gt;getVerticalCorner()<sp/>);</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1603"><highlight class="normal"></highlight></codeline>
<codeline lineno="1604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setWidth(<sp/>border-&gt;getWidth()<sp/>);</highlight></codeline>
<codeline lineno="1605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setLineStyle((Annotation::LineStyle)(<sp/>1<sp/>&lt;&lt;<sp/>border-&gt;getStyle()<sp/>));</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"></highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>dashArrLen<sp/>=<sp/>border-&gt;getDashLength();</highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">*<sp/>dashArrData<sp/>=<sp/>border-&gt;getDash();</highlight></codeline>
<codeline lineno="1609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QVector&lt;double&gt;<sp/>dashArrVect(<sp/>dashArrLen<sp/>);</highlight></codeline>
<codeline lineno="1610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>dashArrLen;<sp/>++i)</highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dashArrVect[i]<sp/>=<sp/>dashArrData[i];</highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setDashArray(dashArrVect);</highlight></codeline>
<codeline lineno="1613"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1614"><highlight class="normal"></highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_border_effect" kindref="compound">AnnotBorderEffect</ref><sp/>*border_effect;</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType())</highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeFreeText:</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>border_effect<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot)-&gt;getBorderEffect();</highlight></codeline>
<codeline lineno="1620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeSquare:</highlight></codeline>
<codeline lineno="1622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Annot::typeCircle:</highlight></codeline>
<codeline lineno="1623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>border_effect<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_geometry" kindref="compound">AnnotGeometry</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot)-&gt;getBorderEffect();</highlight></codeline>
<codeline lineno="1624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>border_effect<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(border_effect)</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setLineEffect(<sp/>(Annotation::LineEffect)border_effect-&gt;getEffectType()<sp/>);</highlight></codeline>
<codeline lineno="1631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s.setEffectIntensity(<sp/>border_effect-&gt;getIntensity()<sp/>);</highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"></highlight></codeline>
<codeline lineno="1634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="1635"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1636"><highlight class="normal"></highlight></codeline>
<codeline lineno="1637" refid="class_poppler_1_1_annotation_1afa93b9a0da6de47a74b5e296924afc42" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1afa93b9a0da6de47a74b5e296924afc42" kindref="member">Annotation::setStyle</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1_1_style" kindref="compound">Annotation::Style</ref>&amp;<sp/>style<sp/>)</highlight></codeline>
<codeline lineno="1638"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1639"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1640"><highlight class="normal"></highlight></codeline>
<codeline lineno="1641"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1642"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;style<sp/>=<sp/>style;</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1646"><highlight class="normal"></highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;pdfAnnot-&gt;setColor(convertQColor(<sp/>style.color()<sp/>));</highlight></codeline>
<codeline lineno="1648"><highlight class="normal"></highlight></codeline>
<codeline lineno="1649"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*markupann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(markupann)</highlight></codeline>
<codeline lineno="1651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>markupann-&gt;setOpacity(<sp/>style.opacity()<sp/>);</highlight></codeline>
<codeline lineno="1652"><highlight class="normal"></highlight></codeline>
<codeline lineno="1653"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_border_array" kindref="compound">AnnotBorderArray</ref><sp/>*<sp/>border<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_border_array" kindref="compound">AnnotBorderArray</ref>();</highlight></codeline>
<codeline lineno="1654"><highlight class="normal"><sp/><sp/><sp/><sp/>border-&gt;setWidth(<sp/>style.width()<sp/>);</highlight></codeline>
<codeline lineno="1655"><highlight class="normal"><sp/><sp/><sp/><sp/>border-&gt;setHorizontalCorner(<sp/>style.xCorners()<sp/>);</highlight></codeline>
<codeline lineno="1656"><highlight class="normal"><sp/><sp/><sp/><sp/>border-&gt;setVerticalCorner(<sp/>style.yCorners()<sp/>);</highlight></codeline>
<codeline lineno="1657"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;pdfAnnot-&gt;setBorder(border);</highlight></codeline>
<codeline lineno="1658"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1659"><highlight class="normal"></highlight></codeline>
<codeline lineno="1660" refid="class_poppler_1_1_annotation_1a6db96f04d0f70ceb167e2be0a8e3887f" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1_1_popup" kindref="compound">Annotation::Popup</ref><sp/><ref refid="class_poppler_1_1_annotation_1a6db96f04d0f70ceb167e2be0a8e3887f" kindref="member">Annotation::popup</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1661"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1663"><highlight class="normal"></highlight></codeline>
<codeline lineno="1664"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;popup;</highlight></codeline>
<codeline lineno="1666"><highlight class="normal"></highlight></codeline>
<codeline lineno="1667"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation_1_1_popup" kindref="compound">Popup</ref><sp/>w;</highlight></codeline>
<codeline lineno="1668"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_popup" kindref="compound">AnnotPopup</ref><sp/>*popup<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1669"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags<sp/>=<sp/>-1;<sp/></highlight><highlight class="comment">//<sp/>Not<sp/>initialized</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1670"><highlight class="normal"></highlight></codeline>
<codeline lineno="1671"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*markupann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1672"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(markupann)</highlight></codeline>
<codeline lineno="1673"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>popup<sp/>=<sp/>markupann-&gt;getPopup();</highlight></codeline>
<codeline lineno="1675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w.setSummary(UnicodeParsedString(<sp/>markupann-&gt;getSubject()<sp/>));</highlight></codeline>
<codeline lineno="1676"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1677"><highlight class="normal"></highlight></codeline>
<codeline lineno="1678"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(popup)</highlight></codeline>
<codeline lineno="1679"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>=<sp/>fromPdfFlags(<sp/>popup-&gt;getFlags()<sp/>)<sp/>&amp;<sp/>(<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270a9cf0643c008c2c3f617590b129e48d3e" kindref="member">Annotation::Hidden</ref><sp/>|</highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Annotation::FixedSize<sp/>|<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270a61bee11edae896858409dd65d14d3a70" kindref="member">Annotation::FixedRotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1682"><highlight class="normal"></highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!popup-&gt;getOpen())</highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>|=<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270a9cf0643c008c2c3f617590b129e48d3e" kindref="member">Annotation::Hidden</ref>;</highlight></codeline>
<codeline lineno="1685"><highlight class="normal"></highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>*<sp/>rect<sp/>=<sp/>popup-&gt;getRect();</highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w.setGeometry(<sp/>d-&gt;fromPdfRectangle(<sp/>*rect<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1689"><highlight class="normal"></highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeText)</highlight></codeline>
<codeline lineno="1691"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_text" kindref="compound">AnnotText</ref><sp/>*<sp/>textann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_text" kindref="compound">AnnotText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"></highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Text<sp/>annotations<sp/>default<sp/>to<sp/>same<sp/>rect<sp/>as<sp/>annotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(flags<sp/>==<sp/>-1)</highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w.setGeometry(<sp/>boundary()<sp/>);</highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1700"><highlight class="normal"></highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>text<sp/>is<sp/>not<sp/>&apos;opened&apos;,<sp/>force<sp/>window<sp/>hiding.<sp/>if<sp/>the<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>was<sp/>parsed<sp/>from<sp/>popup,<sp/>the<sp/>flag<sp/>should<sp/>already<sp/>be<sp/>set</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!textann-&gt;getOpen()<sp/>&amp;&amp;<sp/>flags<sp/>!=<sp/>-1<sp/>)</highlight></codeline>
<codeline lineno="1704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>flags<sp/>|=<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270a9cf0643c008c2c3f617590b129e48d3e" kindref="member">Annotation::Hidden</ref>;</highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"></highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/>w.setFlags(flags);</highlight></codeline>
<codeline lineno="1708"><highlight class="normal"></highlight></codeline>
<codeline lineno="1709"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>w;</highlight></codeline>
<codeline lineno="1710"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1711"><highlight class="normal"></highlight></codeline>
<codeline lineno="1712" refid="class_poppler_1_1_annotation_1a583671f690f965995b9be23554722900" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a583671f690f965995b9be23554722900" kindref="member">Annotation::setPopup</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1_1_popup" kindref="compound">Annotation::Popup</ref>&amp;<sp/>popup<sp/>)</highlight></codeline>
<codeline lineno="1713"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1715"><highlight class="normal"></highlight></codeline>
<codeline lineno="1716"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1717"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;popup<sp/>=<sp/>popup;</highlight></codeline>
<codeline lineno="1719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1720"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1721"><highlight class="normal"></highlight></codeline>
<codeline lineno="1722"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0<sp/></highlight><highlight class="comment">/*<sp/>TODO:<sp/>Remove<sp/>old<sp/>popup<sp/>and<sp/>add<sp/>AnnotPopup<sp/>to<sp/>page<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1723"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*markupann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!markupann)</highlight></codeline>
<codeline lineno="1725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1726"><highlight class="normal"></highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>a<sp/>new<sp/>AnnotPopup<sp/>and<sp/>assign<sp/>it<sp/>to<sp/>pdfAnnot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>rect<sp/>=<sp/>d-&gt;toPdfRectangle(<sp/>popup.geometry()<sp/>);</highlight></codeline>
<codeline lineno="1729"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_popup" kindref="compound">AnnotPopup</ref><sp/>*<sp/>p<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_popup" kindref="compound">AnnotPopup</ref>(<sp/>d-&gt;pdfPage-&gt;getDoc(),<sp/>&amp;rect<sp/>);</highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/>p-&gt;setOpen(<sp/>!(popup.flags()<sp/>&amp;<sp/><ref refid="class_poppler_1_1_annotation_1a8c2dca956649e4ce454361d5b75dc270a9cf0643c008c2c3f617590b129e48d3e" kindref="member">Annotation::Hidden</ref>)<sp/>);</highlight></codeline>
<codeline lineno="1731"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!popup.summary().isEmpty())</highlight></codeline>
<codeline lineno="1732"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*s<sp/>=<sp/>QStringToUnicodeGooString(popup.summary());</highlight></codeline>
<codeline lineno="1734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>markupann-&gt;setLabel(s);</highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/>markupann-&gt;setPopup(p);</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1739"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"></highlight></codeline>
<codeline lineno="1741" refid="class_poppler_1_1_annotation_1ad9fb16c5e50ac91e51f4ea3547eea2ad" refkind="member"><highlight class="normal">Annotation::RevScope<sp/><ref refid="class_poppler_1_1_annotation_1ad9fb16c5e50ac91e51f4ea3547eea2ad" kindref="member">Annotation::revisionScope</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1742"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1743"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1744"><highlight class="normal"></highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;revisionScope;</highlight></codeline>
<codeline lineno="1747"><highlight class="normal"></highlight></codeline>
<codeline lineno="1748"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref><sp/>*markupann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_markup" kindref="compound">AnnotMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1749"><highlight class="normal"></highlight></codeline>
<codeline lineno="1750"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(markupann<sp/>&amp;&amp;<sp/>markupann-&gt;getInReplyToID()<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1751"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(markupann-&gt;getReplyTo())</highlight></codeline>
<codeline lineno="1753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotMarkup::replyTypeR:</highlight></codeline>
<codeline lineno="1755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotation::Reply;</highlight></codeline>
<codeline lineno="1756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotMarkup::replyTypeGroup:</highlight></codeline>
<codeline lineno="1757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotation::Group;</highlight></codeline>
<codeline lineno="1758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1759"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1760"><highlight class="normal"></highlight></codeline>
<codeline lineno="1761"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotation::Root;<sp/></highlight><highlight class="comment">//<sp/>It&apos;s<sp/>not<sp/>a<sp/>revision</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1762"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1763"><highlight class="normal"></highlight></codeline>
<codeline lineno="1764" refid="class_poppler_1_1_annotation_1a1aafb6d259755a1ed36498c70c9837ef" refkind="member"><highlight class="normal">Annotation::RevType<sp/><ref refid="class_poppler_1_1_annotation_1a1aafb6d259755a1ed36498c70c9837ef" kindref="member">Annotation::revisionType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1765"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1766"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1767"><highlight class="normal"></highlight></codeline>
<codeline lineno="1768"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;revisionType;</highlight></codeline>
<codeline lineno="1770"><highlight class="normal"></highlight></codeline>
<codeline lineno="1771"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_text" kindref="compound">AnnotText</ref><sp/>*textann<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_text" kindref="compound">AnnotText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="1772"><highlight class="normal"></highlight></codeline>
<codeline lineno="1773"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(textann<sp/>&amp;&amp;<sp/>textann-&gt;getInReplyToID()<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1774"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(textann-&gt;getState())</highlight></codeline>
<codeline lineno="1776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotText::stateMarked:</highlight></codeline>
<codeline lineno="1778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotation::Marked;</highlight></codeline>
<codeline lineno="1779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotText::stateUnmarked:</highlight></codeline>
<codeline lineno="1780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotation::Unmarked;</highlight></codeline>
<codeline lineno="1781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotText::stateAccepted:</highlight></codeline>
<codeline lineno="1782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotation::Accepted;</highlight></codeline>
<codeline lineno="1783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotText::stateRejected:</highlight></codeline>
<codeline lineno="1784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotation::Rejected;</highlight></codeline>
<codeline lineno="1785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotText::stateCancelled:</highlight></codeline>
<codeline lineno="1786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotation::Cancelled;</highlight></codeline>
<codeline lineno="1787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotText::stateCompleted:</highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotation::Completed;</highlight></codeline>
<codeline lineno="1789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1792"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1793"><highlight class="normal"></highlight></codeline>
<codeline lineno="1794"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annotation::None;</highlight></codeline>
<codeline lineno="1795"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1796"><highlight class="normal"></highlight></codeline>
<codeline lineno="1797" refid="class_poppler_1_1_annotation_1a9d0a905f8eea751f5b33e38245383ecb" refkind="member"><highlight class="normal">QList&lt;Annotation*&gt;<sp/><ref refid="class_poppler_1_1_annotation_1a9d0a905f8eea751f5b33e38245383ecb" kindref="member">Annotation::revisions</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1798"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>);</highlight></codeline>
<codeline lineno="1800"><highlight class="normal"></highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="1802"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Return<sp/>aliases,<sp/>whose<sp/>ownership<sp/>goes<sp/>to<sp/>the<sp/>caller<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;Annotation*&gt;<sp/>res;</highlight></codeline>
<codeline lineno="1805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*rev,<sp/>d-&gt;<ref refid="class_poppler_1_1_annotation_1a9d0a905f8eea751f5b33e38245383ecb" kindref="member">revisions</ref>)</highlight></codeline>
<codeline lineno="1806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.append(<sp/>rev-&gt;d_ptr-&gt;makeAlias()<sp/>);</highlight></codeline>
<codeline lineno="1807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="1808"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1809"><highlight class="normal"></highlight></codeline>
<codeline lineno="1810"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>annotation<sp/>doesn&apos;t<sp/>live<sp/>in<sp/>a<sp/>object<sp/>on<sp/>its<sp/>own<sp/>(eg<sp/>bug51361),<sp/>it</highlight></codeline>
<codeline lineno="1811"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>has<sp/>no<sp/>ref,<sp/>therefore<sp/>it<sp/>can&apos;t<sp/>have<sp/>revisions<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1812"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!d-&gt;pdfAnnot-&gt;getHasRef()<sp/>)</highlight></codeline>
<codeline lineno="1813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QList&lt;Annotation*&gt;();</highlight></codeline>
<codeline lineno="1814"><highlight class="normal"></highlight></codeline>
<codeline lineno="1815"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>AnnotationPrivate::findAnnotations(<sp/>d-&gt;pdfPage,<sp/>d-&gt;parentDoc,<sp/>QSet&lt;Annotation::SubType&gt;(),<sp/>d-&gt;pdfAnnot-&gt;getId()<sp/>);</highlight></codeline>
<codeline lineno="1816"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1817"><highlight class="normal"></highlight></codeline>
<codeline lineno="1818"><highlight class="normal"></highlight><highlight class="comment">//END<sp/>Annotation<sp/>implementation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1819"><highlight class="normal"></highlight></codeline>
<codeline lineno="1820"><highlight class="normal"></highlight></codeline>
<codeline lineno="1822" refid="class_poppler_1_1_text_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_text_annotation_private" kindref="compound">TextAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="1823"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1824"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_text_annotation_private" kindref="compound">TextAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="1826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="1827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="1828"><highlight class="normal"></highlight></codeline>
<codeline lineno="1829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TextAnnotation::TextType<sp/>textType;</highlight></codeline>
<codeline lineno="1831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>textIcon;</highlight></codeline>
<codeline lineno="1832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QFont<sp/>textFont;</highlight></codeline>
<codeline lineno="1833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>inplaceAlign;<sp/></highlight><highlight class="comment">//<sp/>0:left,<sp/>1:center,<sp/>2:right</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QVector&lt;QPointF&gt;<sp/>inplaceCallout;</highlight></codeline>
<codeline lineno="1835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TextAnnotation::InplaceIntent<sp/>inplaceIntent;</highlight></codeline>
<codeline lineno="1836"><highlight class="normal"></highlight></codeline>
<codeline lineno="1837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Helper</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*<sp/>toAppearanceString(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QFont<sp/>&amp;<ref refid="structfont" kindref="compound">font</ref>);</highlight></codeline>
<codeline lineno="1839"><highlight class="normal">};</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"></highlight></codeline>
<codeline lineno="1841"><highlight class="normal">TextAnnotationPrivate::TextAnnotationPrivate()</highlight></codeline>
<codeline lineno="1842"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>textType(<sp/>TextAnnotation::Linked<sp/>),</highlight></codeline>
<codeline lineno="1843"><highlight class="normal"><sp/><sp/><sp/><sp/>textIcon(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Note&quot;</highlight><highlight class="normal">)<sp/>),<sp/>inplaceAlign(<sp/>0<sp/>),</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"><sp/><sp/><sp/><sp/>inplaceIntent(<sp/>TextAnnotation::Unknown<sp/>)</highlight></codeline>
<codeline lineno="1845"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1846"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1847"><highlight class="normal"></highlight></codeline>
<codeline lineno="1848"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>TextAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="1849"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1850"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1851"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1852"><highlight class="normal"></highlight></codeline>
<codeline lineno="1853"><highlight class="normal"><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*<sp/>TextAnnotationPrivate::toAppearanceString(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QFont<sp/>&amp;<ref refid="structfont" kindref="compound">font</ref>)</highlight></codeline>
<codeline lineno="1854"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1855"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*<sp/>s<sp/>=<sp/>GooString::format(</highlight><highlight class="stringliteral">&quot;/Invalid_font<sp/>{0:d}<sp/>Tf&quot;</highlight><highlight class="normal">,<sp/>font.pointSize());</highlight></codeline>
<codeline lineno="1856"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/>Font<sp/>family,<sp/>style<sp/>(bold,<sp/>italic,<sp/>...)<sp/>and<sp/>pointSize<sp/>as<sp/>float</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1857"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>s;</highlight></codeline>
<codeline lineno="1858"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1859"><highlight class="normal"></highlight></codeline>
<codeline lineno="1860"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>TextAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="1861"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1862"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setters<sp/>are<sp/>defined<sp/>in<sp/>the<sp/>public<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1863"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>*q<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>makeAlias()<sp/>);</highlight></codeline>
<codeline lineno="1864"><highlight class="normal"></highlight></codeline>
<codeline lineno="1865"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>page<sp/>and<sp/>contents</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1866"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfPage<sp/>=<sp/>destPage;</highlight></codeline>
<codeline lineno="1867"><highlight class="normal"><sp/><sp/><sp/><sp/>parentDoc<sp/>=<sp/>doc;</highlight></codeline>
<codeline lineno="1868"><highlight class="normal"></highlight></codeline>
<codeline lineno="1869"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>pdfAnnot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1870"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>rect<sp/>=<sp/>boundaryToPdfRectangle(boundary,<sp/>flags);</highlight></codeline>
<codeline lineno="1871"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(textType<sp/>==<sp/>TextAnnotation::Linked)</highlight></codeline>
<codeline lineno="1872"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pdfAnnot<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_text" kindref="compound">AnnotText</ref>(destPage-&gt;getDoc(),<sp/>&amp;rect);</highlight></codeline>
<codeline lineno="1874"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1875"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1876"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*<sp/>da<sp/>=<sp/>toAppearanceString(textFont);</highlight></codeline>
<codeline lineno="1878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pdfAnnot<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref>(destPage-&gt;getDoc(),<sp/>&amp;rect,<sp/>da);</highlight></codeline>
<codeline lineno="1879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>da;</highlight></codeline>
<codeline lineno="1880"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1881"><highlight class="normal"></highlight></codeline>
<codeline lineno="1882"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1883"><highlight class="normal"><sp/><sp/><sp/><sp/>flushBaseAnnotationProperties();</highlight></codeline>
<codeline lineno="1884"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;<ref refid="class_poppler_1_1_text_annotation_1a6dd7e7857f5ef306d4f0829b7abfa4f4" kindref="member">setTextIcon</ref>(textIcon);</highlight></codeline>
<codeline lineno="1885"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setInplaceAlign(inplaceAlign);</highlight></codeline>
<codeline lineno="1886"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;<ref refid="class_poppler_1_1_text_annotation_1a4473ce56c0aedaada08d3eeabf07ec9c" kindref="member">setCalloutPoints</ref>(inplaceCallout);</highlight></codeline>
<codeline lineno="1887"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setInplaceIntent(inplaceIntent);</highlight></codeline>
<codeline lineno="1888"><highlight class="normal"></highlight></codeline>
<codeline lineno="1889"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>q;</highlight></codeline>
<codeline lineno="1890"><highlight class="normal"></highlight></codeline>
<codeline lineno="1891"><highlight class="normal"><sp/><sp/><sp/><sp/>inplaceCallout.clear();<sp/></highlight><highlight class="comment">//<sp/>Free<sp/>up<sp/>memory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1892"><highlight class="normal"></highlight></codeline>
<codeline lineno="1893"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pdfAnnot;</highlight></codeline>
<codeline lineno="1894"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1895"><highlight class="normal"></highlight></codeline>
<codeline lineno="1896"><highlight class="normal">TextAnnotation::TextAnnotation(<sp/>TextAnnotation::TextType<sp/>type<sp/>)</highlight></codeline>
<codeline lineno="1897"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation_private" kindref="compound">TextAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="1898"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1899"><highlight class="normal"><sp/><sp/><sp/><sp/>setTextType(<sp/>type<sp/>);</highlight></codeline>
<codeline lineno="1900"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1901"><highlight class="normal"></highlight></codeline>
<codeline lineno="1902"><highlight class="normal">TextAnnotation::TextAnnotation(<ref refid="class_poppler_1_1_text_annotation_private" kindref="compound">TextAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="1903"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="1904"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="1905"><highlight class="normal"></highlight></codeline>
<codeline lineno="1906"><highlight class="normal">TextAnnotation::TextAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="1907"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation_private" kindref="compound">TextAnnotationPrivate</ref>,<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="1908"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1909"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;text&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1910"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="1911"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="1912"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="1914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="1915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;text&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1917"><highlight class="normal"></highlight></codeline>
<codeline lineno="1918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>the<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setTextType((TextAnnotation::TextType)e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="1921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;icon&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setTextIcon(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;icon&quot;</highlight><highlight class="normal">)<sp/>));</highlight></codeline>
<codeline lineno="1923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;font&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QFont<sp/>font;</highlight></codeline>
<codeline lineno="1926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>font.fromString(<sp/>e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;font&quot;</highlight><highlight class="normal">)<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="1927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setTextFont(font);</highlight></codeline>
<codeline lineno="1928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;align&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setInplaceAlign(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;align&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="1931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;intent&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setInplaceIntent((TextAnnotation::InplaceIntent)e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;intent&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="1933"><highlight class="normal"></highlight></codeline>
<codeline lineno="1934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>the<sp/>subnodes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomNode<sp/>eSubNode<sp/>=<sp/>e.firstChild();</highlight></codeline>
<codeline lineno="1936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>eSubNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="1937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>ee<sp/>=<sp/>eSubNode.toElement();</highlight></codeline>
<codeline lineno="1939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eSubNode<sp/>=<sp/>eSubNode.nextSibling();</highlight></codeline>
<codeline lineno="1940"><highlight class="normal"></highlight></codeline>
<codeline lineno="1941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ee.tagName()<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;escapedText&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setContents(ee.firstChild().toCDATASection().data());</highlight></codeline>
<codeline lineno="1944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ee.tagName()<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;callout&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QVector&lt;QPointF&gt;<sp/>points(3);</highlight></codeline>
<codeline lineno="1948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>points[0]<sp/>=<sp/>QPointF(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ax&quot;</highlight><highlight class="normal">)<sp/>).toDouble(),</highlight></codeline>
<codeline lineno="1949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ay&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>points[1]<sp/>=<sp/>QPointF(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;bx&quot;</highlight><highlight class="normal">)<sp/>).toDouble(),</highlight></codeline>
<codeline lineno="1951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;by&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>points[2]<sp/>=<sp/>QPointF(ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cx&quot;</highlight><highlight class="normal">)<sp/>).toDouble(),</highlight></codeline>
<codeline lineno="1953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ee.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cy&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="1954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setCalloutPoints(points);</highlight></codeline>
<codeline lineno="1955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1957"><highlight class="normal"></highlight></codeline>
<codeline lineno="1958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1960"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1961"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1962"><highlight class="normal"></highlight></codeline>
<codeline lineno="1963"><highlight class="normal">TextAnnotation::~TextAnnotation()</highlight></codeline>
<codeline lineno="1964"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1965"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1966"><highlight class="normal"></highlight></codeline>
<codeline lineno="1967"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>TextAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1968"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1969"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1970"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="1971"><highlight class="normal"></highlight></codeline>
<codeline lineno="1972"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[text]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1973"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>textElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;text&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1974"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>textElement<sp/>);</highlight></codeline>
<codeline lineno="1975"><highlight class="normal"></highlight></codeline>
<codeline lineno="1976"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>the<sp/>optional<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1977"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>textType()<sp/>!=<sp/>Linked<sp/>)</highlight></codeline>
<codeline lineno="1978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>textElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)textType()<sp/>);</highlight></codeline>
<codeline lineno="1979"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>textIcon()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;Note&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="1980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>textElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;icon&quot;</highlight><highlight class="normal">),<sp/>textIcon()<sp/>);</highlight></codeline>
<codeline lineno="1981"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>inplaceAlign()<sp/>)</highlight></codeline>
<codeline lineno="1982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>textElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;align&quot;</highlight><highlight class="normal">),<sp/>inplaceAlign()<sp/>);</highlight></codeline>
<codeline lineno="1983"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>inplaceIntent()<sp/>!=<sp/>Unknown<sp/>)</highlight></codeline>
<codeline lineno="1984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>textElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;intent&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)inplaceIntent()<sp/>);</highlight></codeline>
<codeline lineno="1985"><highlight class="normal"></highlight></codeline>
<codeline lineno="1986"><highlight class="normal"><sp/><sp/><sp/><sp/>textElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;font&quot;</highlight><highlight class="normal">),<sp/>textFont().toString()<sp/>);</highlight></codeline>
<codeline lineno="1987"><highlight class="normal"></highlight></codeline>
<codeline lineno="1988"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Sub-Node-1<sp/>-<sp/>escapedText</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1989"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!contents().isEmpty()<sp/>)</highlight></codeline>
<codeline lineno="1990"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>escapedText<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;escapedText&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="1992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>textElement.appendChild(<sp/>escapedText<sp/>);</highlight></codeline>
<codeline lineno="1993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomCDATASection<sp/>textCData<sp/>=<sp/>document.createCDATASection(<sp/>contents()<sp/>);</highlight></codeline>
<codeline lineno="1994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>escapedText.appendChild(<sp/>textCData<sp/>);</highlight></codeline>
<codeline lineno="1995"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1996"><highlight class="normal"></highlight></codeline>
<codeline lineno="1997"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Sub-Node-2<sp/>-<sp/>callout</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1998"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>calloutPoint(0).x()<sp/>!=<sp/>0.0<sp/>)</highlight></codeline>
<codeline lineno="1999"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>calloutElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;callout&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="2001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>textElement.appendChild(<sp/>calloutElement<sp/>);</highlight></codeline>
<codeline lineno="2002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>calloutElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ax&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>calloutPoint(0).x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="2003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>calloutElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ay&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>calloutPoint(0).y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="2004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>calloutElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;bx&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>calloutPoint(1).x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="2005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>calloutElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;by&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>calloutPoint(1).y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="2006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>calloutElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cx&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>calloutPoint(2).x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="2007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>calloutElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cy&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>calloutPoint(2).y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="2008"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2009"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2010"><highlight class="normal"></highlight></codeline>
<codeline lineno="2011" refid="class_poppler_1_1_text_annotation_1aa2c1926b6e06b1527a43f651fea34aaa" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_text_annotation_1aa2c1926b6e06b1527a43f651fea34aaa" kindref="member">TextAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2012"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2013"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>AText;</highlight></codeline>
<codeline lineno="2014"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2015"><highlight class="normal"></highlight></codeline>
<codeline lineno="2016" refid="class_poppler_1_1_text_annotation_1a6ef10f14b9adf144fe46f9266daa402e" refkind="member"><highlight class="normal">TextAnnotation::TextType<sp/><ref refid="class_poppler_1_1_text_annotation_1a6ef10f14b9adf144fe46f9266daa402e" kindref="member">TextAnnotation::textType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2017"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2018"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2019"><highlight class="normal"></highlight></codeline>
<codeline lineno="2020"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;textType;</highlight></codeline>
<codeline lineno="2022"><highlight class="normal"></highlight></codeline>
<codeline lineno="2023"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeText<sp/>?</highlight></codeline>
<codeline lineno="2024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TextAnnotation::Linked<sp/>:<sp/>TextAnnotation::InPlace;</highlight></codeline>
<codeline lineno="2025"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2026"><highlight class="normal"></highlight></codeline>
<codeline lineno="2027"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>TextAnnotation::setTextType(<sp/>TextAnnotation::TextType<sp/>type<sp/>)</highlight></codeline>
<codeline lineno="2028"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2029"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2030"><highlight class="normal"></highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;textType<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="2034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2035"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2036"><highlight class="normal"></highlight></codeline>
<codeline lineno="2037"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Type<sp/>cannot<sp/>be<sp/>changed<sp/>if<sp/>annotation<sp/>is<sp/>already<sp/>tied</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2038"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2039"><highlight class="normal"></highlight></codeline>
<codeline lineno="2040" refid="class_poppler_1_1_text_annotation_1a1d54335a003edf713781fa43fc5f4ac5" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_text_annotation_1a1d54335a003edf713781fa43fc5f4ac5" kindref="member">TextAnnotation::textIcon</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2041"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2042"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2043"><highlight class="normal"></highlight></codeline>
<codeline lineno="2044"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;textIcon;</highlight></codeline>
<codeline lineno="2046"><highlight class="normal"></highlight></codeline>
<codeline lineno="2047"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeText)</highlight></codeline>
<codeline lineno="2048"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_text" kindref="compound">AnnotText</ref><sp/>*<sp/>textann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_text" kindref="compound">AnnotText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QString::fromLatin1(<sp/>textann-&gt;getIcon()-&gt;getCString()<sp/>);</highlight></codeline>
<codeline lineno="2051"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2052"><highlight class="normal"></highlight></codeline>
<codeline lineno="2053"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QString();</highlight></codeline>
<codeline lineno="2054"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2055"><highlight class="normal"></highlight></codeline>
<codeline lineno="2056" refid="class_poppler_1_1_text_annotation_1a6dd7e7857f5ef306d4f0829b7abfa4f4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation_1a6dd7e7857f5ef306d4f0829b7abfa4f4" kindref="member">TextAnnotation::setTextIcon</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;icon<sp/>)</highlight></codeline>
<codeline lineno="2057"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2058"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2059"><highlight class="normal"></highlight></codeline>
<codeline lineno="2060"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2061"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;textIcon<sp/>=<sp/>icon;</highlight></codeline>
<codeline lineno="2063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2064"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2065"><highlight class="normal"></highlight></codeline>
<codeline lineno="2066"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeText)</highlight></codeline>
<codeline lineno="2067"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_text" kindref="compound">AnnotText</ref><sp/>*<sp/>textann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_text" kindref="compound">AnnotText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QByteArray<sp/>encoded<sp/>=<sp/>icon.toLatin1();</highlight></codeline>
<codeline lineno="2070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>s(encoded.constData());</highlight></codeline>
<codeline lineno="2071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>textann-&gt;setIcon(&amp;s);</highlight></codeline>
<codeline lineno="2072"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2073"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2074"><highlight class="normal"></highlight></codeline>
<codeline lineno="2075"><highlight class="normal">QFont<sp/>TextAnnotation::textFont()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2076"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2077"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2078"><highlight class="normal"></highlight></codeline>
<codeline lineno="2079"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;textFont;</highlight></codeline>
<codeline lineno="2081"><highlight class="normal"></highlight></codeline>
<codeline lineno="2082"><highlight class="normal"><sp/><sp/><sp/><sp/>QFont<sp/>font;</highlight></codeline>
<codeline lineno="2083"><highlight class="normal"></highlight></codeline>
<codeline lineno="2084"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeFreeText)</highlight></codeline>
<codeline lineno="2085"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref><sp/>*<sp/>ftextann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*<sp/>da<sp/>=<sp/>ftextann-&gt;getAppearanceString();</highlight></codeline>
<codeline lineno="2088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(da)</highlight></codeline>
<codeline lineno="2089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>At<sp/>the<sp/>moment,<sp/>only<sp/>font<sp/>size<sp/>is<sp/>parsed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>style<sp/>=<sp/>QString::fromLatin1(<sp/>da-&gt;getCString()<sp/>);</highlight></codeline>
<codeline lineno="2092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRegExp<sp/>rx(QStringLiteral(</highlight><highlight class="stringliteral">&quot;(\\d+)(\\.\\d*)?<sp/>Tf&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rx.indexIn(style)<sp/>!=<sp/>-1)</highlight></codeline>
<codeline lineno="2094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>font.setPointSize(<sp/>rx.cap(1).toInt()<sp/>);</highlight></codeline>
<codeline lineno="2095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/>Other<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2097"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2098"><highlight class="normal"></highlight></codeline>
<codeline lineno="2099"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>font;</highlight></codeline>
<codeline lineno="2100"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2101"><highlight class="normal"></highlight></codeline>
<codeline lineno="2102"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>TextAnnotation::setTextFont(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QFont<sp/>&amp;font<sp/>)</highlight></codeline>
<codeline lineno="2103"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2104"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2105"><highlight class="normal"></highlight></codeline>
<codeline lineno="2106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2107"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;textFont<sp/>=<sp/>font;</highlight></codeline>
<codeline lineno="2109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2110"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2111"><highlight class="normal"></highlight></codeline>
<codeline lineno="2112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>!=<sp/>Annot::typeFreeText)</highlight></codeline>
<codeline lineno="2113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2114"><highlight class="normal"></highlight></codeline>
<codeline lineno="2115"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref><sp/>*<sp/>ftextann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2116"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>*<sp/>da<sp/>=<sp/>TextAnnotationPrivate::toAppearanceString(font);</highlight></codeline>
<codeline lineno="2117"><highlight class="normal"><sp/><sp/><sp/><sp/>ftextann-&gt;setAppearanceString(da);</highlight></codeline>
<codeline lineno="2118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>da;</highlight></codeline>
<codeline lineno="2119"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2120"><highlight class="normal"></highlight></codeline>
<codeline lineno="2121"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>TextAnnotation::inplaceAlign()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2122"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2123"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2124"><highlight class="normal"></highlight></codeline>
<codeline lineno="2125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;inplaceAlign;</highlight></codeline>
<codeline lineno="2127"><highlight class="normal"></highlight></codeline>
<codeline lineno="2128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeFreeText)</highlight></codeline>
<codeline lineno="2129"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref><sp/>*<sp/>ftextann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ftextann-&gt;getQuadding();</highlight></codeline>
<codeline lineno="2132"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2133"><highlight class="normal"></highlight></codeline>
<codeline lineno="2134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="2135"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2136"><highlight class="normal"></highlight></codeline>
<codeline lineno="2137"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>TextAnnotation::setInplaceAlign(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>align<sp/>)</highlight></codeline>
<codeline lineno="2138"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2139"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2140"><highlight class="normal"></highlight></codeline>
<codeline lineno="2141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2142"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;inplaceAlign<sp/>=<sp/>align;</highlight></codeline>
<codeline lineno="2144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2145"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2146"><highlight class="normal"></highlight></codeline>
<codeline lineno="2147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeFreeText)</highlight></codeline>
<codeline lineno="2148"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref><sp/>*<sp/>ftextann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ftextann-&gt;setQuadding((AnnotFreeText::AnnotFreeTextQuadding)align);</highlight></codeline>
<codeline lineno="2151"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2152"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2153"><highlight class="normal"></highlight></codeline>
<codeline lineno="2154"><highlight class="normal">QPointF<sp/>TextAnnotation::calloutPoint(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2155"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QVector&lt;QPointF&gt;<sp/>points<sp/>=<sp/>calloutPoints();</highlight></codeline>
<codeline lineno="2157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>id<sp/>&lt;<sp/>0<sp/>||<sp/>id<sp/>&gt;=<sp/>points.size()<sp/>)</highlight></codeline>
<codeline lineno="2158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QPointF();</highlight></codeline>
<codeline lineno="2159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>points[id];</highlight></codeline>
<codeline lineno="2161"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2162"><highlight class="normal"></highlight></codeline>
<codeline lineno="2163" refid="class_poppler_1_1_text_annotation_1a9934edaa57440f27d2f757ae0def4451" refkind="member"><highlight class="normal">QVector&lt;QPointF&gt;<sp/><ref refid="class_poppler_1_1_text_annotation_1a9934edaa57440f27d2f757ae0def4451" kindref="member">TextAnnotation::calloutPoints</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2164"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2165"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2166"><highlight class="normal"></highlight></codeline>
<codeline lineno="2167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;inplaceCallout;</highlight></codeline>
<codeline lineno="2169"><highlight class="normal"></highlight></codeline>
<codeline lineno="2170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeText)</highlight></codeline>
<codeline lineno="2171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QVector&lt;QPointF&gt;();</highlight></codeline>
<codeline lineno="2172"><highlight class="normal"></highlight></codeline>
<codeline lineno="2173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref><sp/>*<sp/>ftextann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_callout_line" kindref="compound">AnnotCalloutLine</ref><sp/>*callout<sp/>=<sp/>ftextann-&gt;getCalloutLine();</highlight></codeline>
<codeline lineno="2175"><highlight class="normal"></highlight></codeline>
<codeline lineno="2176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!callout)</highlight></codeline>
<codeline lineno="2177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QVector&lt;QPointF&gt;();</highlight></codeline>
<codeline lineno="2178"><highlight class="normal"></highlight></codeline>
<codeline lineno="2179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6];</highlight></codeline>
<codeline lineno="2180"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;fillTransformationMTX(MTX);</highlight></codeline>
<codeline lineno="2181"><highlight class="normal"></highlight></codeline>
<codeline lineno="2182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_callout_multi_line" kindref="compound">AnnotCalloutMultiLine</ref><sp/>*<sp/>callout_v6<sp/>=<sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_callout_multi_line" kindref="compound">AnnotCalloutMultiLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(callout);</highlight></codeline>
<codeline lineno="2183"><highlight class="normal"><sp/><sp/><sp/><sp/>QVector&lt;QPointF&gt;<sp/>res(callout_v6<sp/>?<sp/>3<sp/>:<sp/>2);</highlight></codeline>
<codeline lineno="2184"><highlight class="normal"><sp/><sp/><sp/><sp/>XPDFReader::transform(MTX,<sp/>callout-&gt;getX1(),<sp/>callout-&gt;getY1(),<sp/>res[0]);</highlight></codeline>
<codeline lineno="2185"><highlight class="normal"><sp/><sp/><sp/><sp/>XPDFReader::transform(MTX,<sp/>callout-&gt;getX2(),<sp/>callout-&gt;getY2(),<sp/>res[1]);</highlight></codeline>
<codeline lineno="2186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(callout_v6)</highlight></codeline>
<codeline lineno="2187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::transform(MTX,<sp/>callout_v6-&gt;getX3(),<sp/>callout_v6-&gt;getY3(),<sp/>res[2]);</highlight></codeline>
<codeline lineno="2188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="2189"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2190"><highlight class="normal"></highlight></codeline>
<codeline lineno="2191" refid="class_poppler_1_1_text_annotation_1a4473ce56c0aedaada08d3eeabf07ec9c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation_1a4473ce56c0aedaada08d3eeabf07ec9c" kindref="member">TextAnnotation::setCalloutPoints</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QVector&lt;QPointF&gt;<sp/>&amp;points<sp/>)</highlight></codeline>
<codeline lineno="2192"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2193"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2195"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;inplaceCallout<sp/>=<sp/>points;</highlight></codeline>
<codeline lineno="2197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2198"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2199"><highlight class="normal"></highlight></codeline>
<codeline lineno="2200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>!=<sp/>Annot::typeFreeText)</highlight></codeline>
<codeline lineno="2201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2202"><highlight class="normal"></highlight></codeline>
<codeline lineno="2203"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref><sp/>*<sp/>ftextann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>count<sp/>=<sp/>points.size();</highlight></codeline>
<codeline lineno="2205"><highlight class="normal"></highlight></codeline>
<codeline lineno="2206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(count<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="2207"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ftextann-&gt;setCalloutLine(0);</highlight></codeline>
<codeline lineno="2209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2210"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2211"><highlight class="normal"></highlight></codeline>
<codeline lineno="2212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(count<sp/>!=<sp/>2<sp/>&amp;&amp;<sp/>count<sp/>!=<sp/>3)</highlight></codeline>
<codeline lineno="2213"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error(errSyntaxError,<sp/>-1,<sp/></highlight><highlight class="stringliteral">&quot;Expected<sp/>zero,<sp/>two<sp/>or<sp/>three<sp/>points<sp/>for<sp/>callout&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2216"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2217"><highlight class="normal"></highlight></codeline>
<codeline lineno="2218"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_callout_line" kindref="compound">AnnotCalloutLine</ref><sp/>*callout;</highlight></codeline>
<codeline lineno="2219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x1,<sp/>y1,<sp/>x2,<sp/>y2;</highlight></codeline>
<codeline lineno="2220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6];</highlight></codeline>
<codeline lineno="2221"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;fillTransformationMTX(MTX);</highlight></codeline>
<codeline lineno="2222"><highlight class="normal"></highlight></codeline>
<codeline lineno="2223"><highlight class="normal"><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>points[0],<sp/>x1,<sp/>y1<sp/>);</highlight></codeline>
<codeline lineno="2224"><highlight class="normal"><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>points[1],<sp/>x2,<sp/>y2<sp/>);</highlight></codeline>
<codeline lineno="2225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(count<sp/>==<sp/>3)</highlight></codeline>
<codeline lineno="2226"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x3,<sp/>y3;</highlight></codeline>
<codeline lineno="2228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>points[2],<sp/>x3,<sp/>y3<sp/>);</highlight></codeline>
<codeline lineno="2229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>callout<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_callout_multi_line" kindref="compound">AnnotCalloutMultiLine</ref>(x1,<sp/>y1,<sp/>x2,<sp/>y2,<sp/>x3,<sp/>y3);</highlight></codeline>
<codeline lineno="2230"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2232"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>callout<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_callout_line" kindref="compound">AnnotCalloutLine</ref>(x1,<sp/>y1,<sp/>x2,<sp/>y2);</highlight></codeline>
<codeline lineno="2234"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2235"><highlight class="normal"></highlight></codeline>
<codeline lineno="2236"><highlight class="normal"><sp/><sp/><sp/><sp/>ftextann-&gt;setCalloutLine(callout);</highlight></codeline>
<codeline lineno="2237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>callout;</highlight></codeline>
<codeline lineno="2238"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2239"><highlight class="normal"></highlight></codeline>
<codeline lineno="2240"><highlight class="normal">TextAnnotation::InplaceIntent<sp/>TextAnnotation::inplaceIntent()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2241"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2242"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2243"><highlight class="normal"></highlight></codeline>
<codeline lineno="2244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;inplaceIntent;</highlight></codeline>
<codeline lineno="2246"><highlight class="normal"></highlight></codeline>
<codeline lineno="2247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeFreeText)</highlight></codeline>
<codeline lineno="2248"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref><sp/>*<sp/>ftextann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(TextAnnotation::InplaceIntent)ftextann-&gt;getIntent();</highlight></codeline>
<codeline lineno="2251"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2252"><highlight class="normal"></highlight></codeline>
<codeline lineno="2253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TextAnnotation::Unknown;</highlight></codeline>
<codeline lineno="2254"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2255"><highlight class="normal"></highlight></codeline>
<codeline lineno="2256"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>TextAnnotation::setInplaceIntent(<sp/>TextAnnotation::InplaceIntent<sp/>intent<sp/>)</highlight></codeline>
<codeline lineno="2257"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2258"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_text_annotation" kindref="compound">TextAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2259"><highlight class="normal"></highlight></codeline>
<codeline lineno="2260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2261"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;inplaceIntent<sp/>=<sp/>intent;</highlight></codeline>
<codeline lineno="2263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2264"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2265"><highlight class="normal"></highlight></codeline>
<codeline lineno="2266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeFreeText)</highlight></codeline>
<codeline lineno="2267"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref><sp/>*<sp/>ftextann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_free_text" kindref="compound">AnnotFreeText</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ftextann-&gt;setIntent((AnnotFreeText::AnnotFreeTextIntent)intent);</highlight></codeline>
<codeline lineno="2270"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2271"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2272"><highlight class="normal"></highlight></codeline>
<codeline lineno="2273"><highlight class="normal"></highlight></codeline>
<codeline lineno="2275" refid="class_poppler_1_1_line_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_line_annotation_private" kindref="compound">LineAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="2276"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_line_annotation_private" kindref="compound">LineAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="2279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="2280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="2281"><highlight class="normal"></highlight></codeline>
<codeline lineno="2282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields<sp/>(note<sp/>uses<sp/>border<sp/>for<sp/>rendering<sp/>style)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QLinkedList&lt;QPointF&gt;<sp/>linePoints;</highlight></codeline>
<codeline lineno="2284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LineAnnotation::TermStyle<sp/>lineStartStyle;</highlight></codeline>
<codeline lineno="2285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LineAnnotation::TermStyle<sp/>lineEndStyle;</highlight></codeline>
<codeline lineno="2286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>lineClosed<sp/>:<sp/>1;<sp/><sp/></highlight><highlight class="comment">//<sp/>(if<sp/>true<sp/>draw<sp/>close<sp/>shape)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>lineShowCaption<sp/>:<sp/>1;</highlight></codeline>
<codeline lineno="2288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_line_annotation_1a0bcd4ea8f032803eb08e0411f78e0304" kindref="member">LineAnnotation::LineType</ref><sp/>lineType;</highlight></codeline>
<codeline lineno="2289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QColor<sp/>lineInnerColor;</highlight></codeline>
<codeline lineno="2290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>lineLeadingFwdPt;</highlight></codeline>
<codeline lineno="2291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>lineLeadingBackPt;</highlight></codeline>
<codeline lineno="2292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LineAnnotation::LineIntent<sp/>lineIntent;</highlight></codeline>
<codeline lineno="2293"><highlight class="normal">};</highlight></codeline>
<codeline lineno="2294"><highlight class="normal"></highlight></codeline>
<codeline lineno="2295"><highlight class="normal">LineAnnotationPrivate::LineAnnotationPrivate()</highlight></codeline>
<codeline lineno="2296"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>lineStartStyle(<sp/>LineAnnotation::None<sp/>),</highlight></codeline>
<codeline lineno="2297"><highlight class="normal"><sp/><sp/><sp/><sp/>lineEndStyle(<sp/>LineAnnotation::None<sp/>),<sp/>lineClosed(<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/>),</highlight></codeline>
<codeline lineno="2298"><highlight class="normal"><sp/><sp/><sp/><sp/>lineShowCaption(<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/>),<sp/>lineLeadingFwdPt(<sp/>0<sp/>),</highlight></codeline>
<codeline lineno="2299"><highlight class="normal"><sp/><sp/><sp/><sp/>lineLeadingBackPt(<sp/>0<sp/>),<sp/>lineIntent(<sp/>LineAnnotation::Unknown<sp/>)</highlight></codeline>
<codeline lineno="2300"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2301"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2302"><highlight class="normal"></highlight></codeline>
<codeline lineno="2303"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>LineAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="2304"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2305"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2306"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2307"><highlight class="normal"></highlight></codeline>
<codeline lineno="2308"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>LineAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="2309"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setters<sp/>are<sp/>defined<sp/>in<sp/>the<sp/>public<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2311"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>*q<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>makeAlias()<sp/>);</highlight></codeline>
<codeline lineno="2312"><highlight class="normal"></highlight></codeline>
<codeline lineno="2313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>page<sp/>and<sp/>document</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2314"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfPage<sp/>=<sp/>destPage;</highlight></codeline>
<codeline lineno="2315"><highlight class="normal"><sp/><sp/><sp/><sp/>parentDoc<sp/>=<sp/>doc;</highlight></codeline>
<codeline lineno="2316"><highlight class="normal"></highlight></codeline>
<codeline lineno="2317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>pdfAnnot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2318"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>rect<sp/>=<sp/>boundaryToPdfRectangle(boundary,<sp/>flags);</highlight></codeline>
<codeline lineno="2319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lineType<sp/>==<sp/>LineAnnotation::StraightLine)</highlight></codeline>
<codeline lineno="2320"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pdfAnnot<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>(doc-&gt;doc,<sp/>&amp;rect);</highlight></codeline>
<codeline lineno="2322"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2324"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pdfAnnot<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>(doc-&gt;doc,<sp/>&amp;rect,</highlight></codeline>
<codeline lineno="2326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineClosed<sp/>?<sp/>Annot::typePolygon<sp/>:<sp/>Annot::typePolyLine<sp/>);</highlight></codeline>
<codeline lineno="2327"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2328"><highlight class="normal"></highlight></codeline>
<codeline lineno="2329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2330"><highlight class="normal"><sp/><sp/><sp/><sp/>flushBaseAnnotationProperties();</highlight></codeline>
<codeline lineno="2331"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setLinePoints(linePoints);</highlight></codeline>
<codeline lineno="2332"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setLineStartStyle(lineStartStyle);</highlight></codeline>
<codeline lineno="2333"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setLineEndStyle(lineEndStyle);</highlight></codeline>
<codeline lineno="2334"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setLineInnerColor(lineInnerColor);</highlight></codeline>
<codeline lineno="2335"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setLineLeadingForwardPoint(lineLeadingFwdPt);</highlight></codeline>
<codeline lineno="2336"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setLineLeadingBackPoint(lineLeadingBackPt);</highlight></codeline>
<codeline lineno="2337"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setLineShowCaption(lineShowCaption);</highlight></codeline>
<codeline lineno="2338"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setLineIntent(lineIntent);</highlight></codeline>
<codeline lineno="2339"><highlight class="normal"></highlight></codeline>
<codeline lineno="2340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>q;</highlight></codeline>
<codeline lineno="2341"><highlight class="normal"></highlight></codeline>
<codeline lineno="2342"><highlight class="normal"><sp/><sp/><sp/><sp/>linePoints.clear();<sp/></highlight><highlight class="comment">//<sp/>Free<sp/>up<sp/>memory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2343"><highlight class="normal"></highlight></codeline>
<codeline lineno="2344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pdfAnnot;</highlight></codeline>
<codeline lineno="2345"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2346"><highlight class="normal"></highlight></codeline>
<codeline lineno="2347" refid="class_poppler_1_1_line_annotation_1a4d620567cdda702ef2d53099daf3660e" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_line_annotation_1a4d620567cdda702ef2d53099daf3660e" kindref="member">LineAnnotation::LineAnnotation</ref>(<sp/><ref refid="class_poppler_1_1_line_annotation_1a0bcd4ea8f032803eb08e0411f78e0304" kindref="member">LineAnnotation::LineType</ref><sp/>type<sp/>)</highlight></codeline>
<codeline lineno="2348"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*new<sp/><ref refid="class_poppler_1_1_line_annotation_private" kindref="compound">LineAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="2349"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2350"><highlight class="normal"><sp/><sp/><sp/><sp/>setLineType(type);</highlight></codeline>
<codeline lineno="2351"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2352"><highlight class="normal"></highlight></codeline>
<codeline lineno="2353"><highlight class="normal"><ref refid="class_poppler_1_1_line_annotation_1a4d620567cdda702ef2d53099daf3660e" kindref="member">LineAnnotation::LineAnnotation</ref>(<ref refid="class_poppler_1_1_line_annotation_private" kindref="compound">LineAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="2354"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="2355"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="2356"><highlight class="normal"></highlight></codeline>
<codeline lineno="2357"><highlight class="normal"><ref refid="class_poppler_1_1_line_annotation_1a4d620567cdda702ef2d53099daf3660e" kindref="member">LineAnnotation::LineAnnotation</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="2358"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation_private" kindref="compound">LineAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="2359"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2360"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;line&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2361"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="2362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="2363"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="2365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="2366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;line&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="2367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2368"><highlight class="normal"></highlight></codeline>
<codeline lineno="2369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>the<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;startStyle&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="2371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLineStartStyle((LineAnnotation::TermStyle)e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;startStyle&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="2372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;endStyle&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="2373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLineEndStyle((LineAnnotation::TermStyle)e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;endStyle&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="2374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;closed&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="2375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLineClosed(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;closed&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="2376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;innerColor&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="2377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLineInnerColor(QColor(<sp/>e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;innerColor&quot;</highlight><highlight class="normal">)<sp/>)<sp/>));</highlight></codeline>
<codeline lineno="2378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;leadFwd&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="2379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLineLeadingForwardPoint(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;leadFwd&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="2380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;leadBack&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="2381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLineLeadingBackPoint(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;leadBack&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="2382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;showCaption&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="2383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLineShowCaption(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;showCaption&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="2384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;intent&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="2385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLineIntent((LineAnnotation::LineIntent)e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;intent&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="2386"><highlight class="normal"></highlight></codeline>
<codeline lineno="2387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>all<sp/>&apos;point&apos;<sp/>subnodes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QLinkedList&lt;QPointF&gt;<sp/>points;</highlight></codeline>
<codeline lineno="2389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomNode<sp/>pointNode<sp/>=<sp/>e.firstChild();</highlight></codeline>
<codeline lineno="2390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>pointNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="2391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>pe<sp/>=<sp/>pointNode.toElement();</highlight></codeline>
<codeline lineno="2393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pointNode<sp/>=<sp/>pointNode.nextSibling();</highlight></codeline>
<codeline lineno="2394"><highlight class="normal"></highlight></codeline>
<codeline lineno="2395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>pe.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;point&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="2396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2397"><highlight class="normal"></highlight></codeline>
<codeline lineno="2398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QPointF<sp/>p(pe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble(),<sp/>pe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="2399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>points.append(<sp/>p<sp/>);</highlight></codeline>
<codeline lineno="2400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinePoints(points);</highlight></codeline>
<codeline lineno="2402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLineType(points.size()<sp/>==<sp/>2<sp/>?<sp/>StraightLine<sp/>:<sp/>Polyline);</highlight></codeline>
<codeline lineno="2403"><highlight class="normal"></highlight></codeline>
<codeline lineno="2404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2406"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2407"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2408"><highlight class="normal"></highlight></codeline>
<codeline lineno="2409"><highlight class="normal">LineAnnotation::~LineAnnotation()</highlight></codeline>
<codeline lineno="2410"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2411"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2412"><highlight class="normal"></highlight></codeline>
<codeline lineno="2413"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2414"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2415"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2416"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="2417"><highlight class="normal"></highlight></codeline>
<codeline lineno="2418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[line]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2419"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>lineElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;line&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="2420"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>lineElement<sp/>);</highlight></codeline>
<codeline lineno="2421"><highlight class="normal"></highlight></codeline>
<codeline lineno="2422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>the<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2423"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>lineStartStyle()<sp/>!=<sp/>None<sp/>)</highlight></codeline>
<codeline lineno="2424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;startStyle&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)lineStartStyle()<sp/>);</highlight></codeline>
<codeline lineno="2425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>lineEndStyle()<sp/>!=<sp/>None<sp/>)</highlight></codeline>
<codeline lineno="2426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;endStyle&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)lineEndStyle()<sp/>);</highlight></codeline>
<codeline lineno="2427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>isLineClosed()<sp/>)</highlight></codeline>
<codeline lineno="2428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;closed&quot;</highlight><highlight class="normal">),<sp/>isLineClosed()<sp/>);</highlight></codeline>
<codeline lineno="2429"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>lineInnerColor().isValid()<sp/>)</highlight></codeline>
<codeline lineno="2430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;innerColor&quot;</highlight><highlight class="normal">),<sp/>lineInnerColor().name()<sp/>);</highlight></codeline>
<codeline lineno="2431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>lineLeadingForwardPoint()<sp/>!=<sp/>0.0<sp/>)</highlight></codeline>
<codeline lineno="2432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;leadFwd&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>lineLeadingForwardPoint()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="2433"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>lineLeadingBackPoint()<sp/>!=<sp/>0.0<sp/>)</highlight></codeline>
<codeline lineno="2434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;leadBack&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>lineLeadingBackPoint()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="2435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>lineShowCaption()<sp/>)</highlight></codeline>
<codeline lineno="2436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;showCaption&quot;</highlight><highlight class="normal">),<sp/>lineShowCaption()<sp/>);</highlight></codeline>
<codeline lineno="2437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>lineIntent()<sp/>!=<sp/>Unknown<sp/>)</highlight></codeline>
<codeline lineno="2438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;intent&quot;</highlight><highlight class="normal">),<sp/>lineIntent()<sp/>);</highlight></codeline>
<codeline lineno="2439"><highlight class="normal"></highlight></codeline>
<codeline lineno="2440"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>append<sp/>the<sp/>list<sp/>of<sp/>points</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QLinkedList&lt;QPointF&gt;<sp/>points<sp/>=<sp/>linePoints();</highlight></codeline>
<codeline lineno="2442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>points.count()<sp/>&gt;<sp/>1<sp/>)</highlight></codeline>
<codeline lineno="2443"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QLinkedList&lt;QPointF&gt;::const_iterator<sp/>it<sp/>=<sp/>points.begin(),<sp/>end<sp/>=<sp/>points.end();</highlight></codeline>
<codeline lineno="2445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>it<sp/>!=<sp/>end<sp/>)</highlight></codeline>
<codeline lineno="2446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;<sp/>p<sp/>=<sp/>*it;</highlight></codeline>
<codeline lineno="2448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>pElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;point&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="2449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineElement.appendChild(<sp/>pElement<sp/>);</highlight></codeline>
<codeline lineno="2450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>p.x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="2451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>p.y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="2452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++it;</highlight></codeline>
<codeline lineno="2453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2454"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2455"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2456"><highlight class="normal"></highlight></codeline>
<codeline lineno="2457" refid="class_poppler_1_1_line_annotation_1aa6afc935d75cfdac20653814b0fe40f0" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_line_annotation_1aa6afc935d75cfdac20653814b0fe40f0" kindref="member">LineAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2458"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2459"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fae1aecf8329750ced9f833f0019b43720" kindref="member">ALine</ref>;</highlight></codeline>
<codeline lineno="2460"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2461"><highlight class="normal"></highlight></codeline>
<codeline lineno="2462" refid="class_poppler_1_1_line_annotation_1af942cddff4c5cbaca75e5ef2fc323408" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_line_annotation_1a0bcd4ea8f032803eb08e0411f78e0304" kindref="member">LineAnnotation::LineType</ref><sp/><ref refid="class_poppler_1_1_line_annotation_1af942cddff4c5cbaca75e5ef2fc323408" kindref="member">LineAnnotation::lineType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2463"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2464"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2465"><highlight class="normal"></highlight></codeline>
<codeline lineno="2466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineType;</highlight></codeline>
<codeline lineno="2468"><highlight class="normal"></highlight></codeline>
<codeline lineno="2469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)<sp/>?</highlight></codeline>
<codeline lineno="2470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LineAnnotation::StraightLine<sp/>:<sp/>LineAnnotation::Polyline;</highlight></codeline>
<codeline lineno="2471"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2472"><highlight class="normal"></highlight></codeline>
<codeline lineno="2473"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::setLineType(<sp/><ref refid="class_poppler_1_1_line_annotation_1a0bcd4ea8f032803eb08e0411f78e0304" kindref="member">LineAnnotation::LineType</ref><sp/>type<sp/>)</highlight></codeline>
<codeline lineno="2474"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2475"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2476"><highlight class="normal"></highlight></codeline>
<codeline lineno="2477"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2478"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;lineType<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="2480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2481"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2482"><highlight class="normal"></highlight></codeline>
<codeline lineno="2483"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Type<sp/>cannot<sp/>be<sp/>changed<sp/>if<sp/>annotation<sp/>is<sp/>already<sp/>tied</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2484"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2485"><highlight class="normal"></highlight></codeline>
<codeline lineno="2486"><highlight class="normal">QLinkedList&lt;QPointF&gt;<sp/>LineAnnotation::linePoints()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2487"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2488"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2489"><highlight class="normal"></highlight></codeline>
<codeline lineno="2490"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;linePoints;</highlight></codeline>
<codeline lineno="2492"><highlight class="normal"></highlight></codeline>
<codeline lineno="2493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6];</highlight></codeline>
<codeline lineno="2494"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;fillTransformationMTX(MTX);</highlight></codeline>
<codeline lineno="2495"><highlight class="normal"></highlight></codeline>
<codeline lineno="2496"><highlight class="normal"><sp/><sp/><sp/><sp/>QLinkedList&lt;QPointF&gt;<sp/>res;</highlight></codeline>
<codeline lineno="2497"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2498"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*<sp/>lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QPointF<sp/>p;</highlight></codeline>
<codeline lineno="2501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::transform(MTX,<sp/>lineann-&gt;getX1(),<sp/>lineann-&gt;getY1(),<sp/>p);</highlight></codeline>
<codeline lineno="2502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.append(p);</highlight></codeline>
<codeline lineno="2503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::transform(MTX,<sp/>lineann-&gt;getX2(),<sp/>lineann-&gt;getY2(),<sp/>p);</highlight></codeline>
<codeline lineno="2504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.append(p);</highlight></codeline>
<codeline lineno="2505"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2507"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*<sp/>polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_path" kindref="compound">AnnotPath</ref><sp/>*<sp/>vertices<sp/>=<sp/>polyann-&gt;getVertices();</highlight></codeline>
<codeline lineno="2510"><highlight class="normal"></highlight></codeline>
<codeline lineno="2511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>vertices-&gt;getCoordsLength();<sp/>++i)</highlight></codeline>
<codeline lineno="2512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QPointF<sp/>p;</highlight></codeline>
<codeline lineno="2514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::transform(MTX,<sp/>vertices-&gt;getX(i),<sp/>vertices-&gt;getY(i),<sp/>p);</highlight></codeline>
<codeline lineno="2515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.append(p);</highlight></codeline>
<codeline lineno="2516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2517"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2518"><highlight class="normal"></highlight></codeline>
<codeline lineno="2519"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="2520"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2521"><highlight class="normal"></highlight></codeline>
<codeline lineno="2522"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::setLinePoints(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QLinkedList&lt;QPointF&gt;<sp/>&amp;points<sp/>)</highlight></codeline>
<codeline lineno="2523"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2524"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2525"><highlight class="normal"></highlight></codeline>
<codeline lineno="2526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2527"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;linePoints<sp/>=<sp/>points;</highlight></codeline>
<codeline lineno="2529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2530"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2531"><highlight class="normal"></highlight></codeline>
<codeline lineno="2532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2533"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(points.size()<sp/>!=<sp/>2)</highlight></codeline>
<codeline lineno="2536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error(errSyntaxError,<sp/>-1,<sp/></highlight><highlight class="stringliteral">&quot;Expected<sp/>two<sp/>points<sp/>for<sp/>a<sp/>straight<sp/>line&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x1,<sp/>y1,<sp/>x2,<sp/>y2;</highlight></codeline>
<codeline lineno="2541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6];</highlight></codeline>
<codeline lineno="2542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;fillTransformationMTX(MTX);</highlight></codeline>
<codeline lineno="2543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>points.first(),<sp/>x1,<sp/>y1<sp/>);</highlight></codeline>
<codeline lineno="2544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>points.last(),<sp/>x2,<sp/>y2<sp/>);</highlight></codeline>
<codeline lineno="2545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineann-&gt;setVertices(x1,<sp/>y1,<sp/>x2,<sp/>y2);</highlight></codeline>
<codeline lineno="2546"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2548"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_path" kindref="compound">AnnotPath</ref><sp/>*<sp/>p<sp/>=<sp/>d-&gt;toAnnotPath(points);</highlight></codeline>
<codeline lineno="2551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setVertices(p);</highlight></codeline>
<codeline lineno="2552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>p;</highlight></codeline>
<codeline lineno="2553"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2554"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2555"><highlight class="normal"></highlight></codeline>
<codeline lineno="2556"><highlight class="normal">LineAnnotation::TermStyle<sp/>LineAnnotation::lineStartStyle()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2557"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2558"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2559"><highlight class="normal"></highlight></codeline>
<codeline lineno="2560"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineStartStyle;</highlight></codeline>
<codeline lineno="2562"><highlight class="normal"></highlight></codeline>
<codeline lineno="2563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2564"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*<sp/>lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(LineAnnotation::TermStyle)lineann-&gt;getStartStyle();</highlight></codeline>
<codeline lineno="2567"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2568"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2569"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*<sp/>polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(LineAnnotation::TermStyle)polyann-&gt;getStartStyle();</highlight></codeline>
<codeline lineno="2572"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2573"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2574"><highlight class="normal"></highlight></codeline>
<codeline lineno="2575"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::setLineStartStyle(<sp/>LineAnnotation::TermStyle<sp/>style<sp/>)</highlight></codeline>
<codeline lineno="2576"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2577"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2578"><highlight class="normal"></highlight></codeline>
<codeline lineno="2579"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2580"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;lineStartStyle<sp/>=<sp/><ref refid="class_poppler_1_1_annotation_1a4857ee8533e1430f5776507f465040a8" kindref="member">style</ref>;</highlight></codeline>
<codeline lineno="2582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2583"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2584"><highlight class="normal"></highlight></codeline>
<codeline lineno="2585"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2586"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineann-&gt;setStartEndStyle((AnnotLineEndingStyle)style,<sp/>lineann-&gt;getEndStyle());</highlight></codeline>
<codeline lineno="2589"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2590"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2591"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setStartEndStyle((AnnotLineEndingStyle)style,<sp/>polyann-&gt;getEndStyle());</highlight></codeline>
<codeline lineno="2594"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2595"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2596"><highlight class="normal"></highlight></codeline>
<codeline lineno="2597"><highlight class="normal">LineAnnotation::TermStyle<sp/>LineAnnotation::lineEndStyle()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2598"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2599"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2600"><highlight class="normal"></highlight></codeline>
<codeline lineno="2601"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineEndStyle;</highlight></codeline>
<codeline lineno="2603"><highlight class="normal"></highlight></codeline>
<codeline lineno="2604"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2605"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*<sp/>lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(LineAnnotation::TermStyle)lineann-&gt;getEndStyle();</highlight></codeline>
<codeline lineno="2608"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2609"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2610"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*<sp/>polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(LineAnnotation::TermStyle)polyann-&gt;getEndStyle();</highlight></codeline>
<codeline lineno="2613"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2614"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2615"><highlight class="normal"></highlight></codeline>
<codeline lineno="2616"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::setLineEndStyle(<sp/>LineAnnotation::TermStyle<sp/>style<sp/>)</highlight></codeline>
<codeline lineno="2617"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2618"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2619"><highlight class="normal"></highlight></codeline>
<codeline lineno="2620"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2621"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;lineEndStyle<sp/>=<sp/><ref refid="class_poppler_1_1_annotation_1a4857ee8533e1430f5776507f465040a8" kindref="member">style</ref>;</highlight></codeline>
<codeline lineno="2623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2624"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2625"><highlight class="normal"></highlight></codeline>
<codeline lineno="2626"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2627"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineann-&gt;setStartEndStyle(lineann-&gt;getStartStyle(),<sp/>(AnnotLineEndingStyle)style);</highlight></codeline>
<codeline lineno="2630"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2631"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2632"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setStartEndStyle(polyann-&gt;getStartStyle(),<sp/>(AnnotLineEndingStyle)style);</highlight></codeline>
<codeline lineno="2635"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2636"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2637"><highlight class="normal"></highlight></codeline>
<codeline lineno="2638"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>LineAnnotation::isLineClosed()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2639"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2640"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2641"><highlight class="normal"></highlight></codeline>
<codeline lineno="2642"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineClosed;</highlight></codeline>
<codeline lineno="2644"><highlight class="normal"></highlight></codeline>
<codeline lineno="2645"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typePolygon;</highlight></codeline>
<codeline lineno="2646"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2647"><highlight class="normal"></highlight></codeline>
<codeline lineno="2648"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::setLineClosed(<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>closed<sp/>)</highlight></codeline>
<codeline lineno="2649"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2650"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2651"><highlight class="normal"></highlight></codeline>
<codeline lineno="2652"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2653"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;lineClosed<sp/>=<sp/>closed;</highlight></codeline>
<codeline lineno="2655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2656"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2657"><highlight class="normal"></highlight></codeline>
<codeline lineno="2658"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>!=<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2659"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2661"><highlight class="normal"></highlight></codeline>
<codeline lineno="2662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>new<sp/>subtype<sp/>and<sp/>switch<sp/>intent<sp/>if<sp/>necessary</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(closed)</highlight></codeline>
<codeline lineno="2664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setType(Annot::typePolygon);</highlight></codeline>
<codeline lineno="2666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(polyann-&gt;getIntent()<sp/>==<sp/>AnnotPolygon::polylineDimension)</highlight></codeline>
<codeline lineno="2667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setIntent(<sp/>AnnotPolygon::polygonDimension<sp/>);</highlight></codeline>
<codeline lineno="2668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setType(Annot::typePolyLine);</highlight></codeline>
<codeline lineno="2672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(polyann-&gt;getIntent()<sp/>==<sp/>AnnotPolygon::polygonDimension)</highlight></codeline>
<codeline lineno="2673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setIntent(<sp/>AnnotPolygon::polylineDimension<sp/>);</highlight></codeline>
<codeline lineno="2674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2675"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2676"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2677"><highlight class="normal"></highlight></codeline>
<codeline lineno="2678"><highlight class="normal">QColor<sp/>LineAnnotation::lineInnerColor()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2679"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2680"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2681"><highlight class="normal"></highlight></codeline>
<codeline lineno="2682"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineInnerColor;</highlight></codeline>
<codeline lineno="2684"><highlight class="normal"></highlight></codeline>
<codeline lineno="2685"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_color" kindref="compound">AnnotColor</ref><sp/>*<sp/>c;</highlight></codeline>
<codeline lineno="2686"><highlight class="normal"></highlight></codeline>
<codeline lineno="2687"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2688"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*<sp/>lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/>lineann-&gt;getInteriorColor();</highlight></codeline>
<codeline lineno="2691"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2692"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2693"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*<sp/>polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/>polyann-&gt;getInteriorColor();</highlight></codeline>
<codeline lineno="2696"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2697"><highlight class="normal"></highlight></codeline>
<codeline lineno="2698"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>convertAnnotColor(c);</highlight></codeline>
<codeline lineno="2699"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2700"><highlight class="normal"></highlight></codeline>
<codeline lineno="2701"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::setLineInnerColor(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QColor<sp/>&amp;color<sp/>)</highlight></codeline>
<codeline lineno="2702"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2703"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2704"><highlight class="normal"></highlight></codeline>
<codeline lineno="2705"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2706"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;lineInnerColor<sp/>=<sp/>color;</highlight></codeline>
<codeline lineno="2708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2709"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2710"><highlight class="normal"></highlight></codeline>
<codeline lineno="2711"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_color" kindref="compound">AnnotColor</ref><sp/>*<sp/>c<sp/>=<sp/>convertQColor(color);</highlight></codeline>
<codeline lineno="2712"><highlight class="normal"></highlight></codeline>
<codeline lineno="2713"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2714"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineann-&gt;setInteriorColor(c);</highlight></codeline>
<codeline lineno="2717"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2718"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2719"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setInteriorColor(c);</highlight></codeline>
<codeline lineno="2722"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2723"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2724"><highlight class="normal"></highlight></codeline>
<codeline lineno="2725"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>LineAnnotation::lineLeadingForwardPoint()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2726"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2727"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2728"><highlight class="normal"></highlight></codeline>
<codeline lineno="2729"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineLeadingFwdPt;</highlight></codeline>
<codeline lineno="2731"><highlight class="normal"></highlight></codeline>
<codeline lineno="2732"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2733"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*<sp/>lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lineann-&gt;getLeaderLineLength();</highlight></codeline>
<codeline lineno="2736"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2737"><highlight class="normal"></highlight></codeline>
<codeline lineno="2738"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="2739"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2740"><highlight class="normal"></highlight></codeline>
<codeline lineno="2741"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::setLineLeadingForwardPoint(<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>point<sp/>)</highlight></codeline>
<codeline lineno="2742"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2743"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2744"><highlight class="normal"></highlight></codeline>
<codeline lineno="2745"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2746"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;lineLeadingFwdPt<sp/>=<sp/>point;</highlight></codeline>
<codeline lineno="2748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2749"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2750"><highlight class="normal"></highlight></codeline>
<codeline lineno="2751"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2752"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineann-&gt;setLeaderLineLength(point);</highlight></codeline>
<codeline lineno="2755"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2756"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2757"><highlight class="normal"></highlight></codeline>
<codeline lineno="2758"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>LineAnnotation::lineLeadingBackPoint()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2759"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2760"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2761"><highlight class="normal"></highlight></codeline>
<codeline lineno="2762"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineLeadingBackPt;</highlight></codeline>
<codeline lineno="2764"><highlight class="normal"></highlight></codeline>
<codeline lineno="2765"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2766"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*<sp/>lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lineann-&gt;getLeaderLineExtension();</highlight></codeline>
<codeline lineno="2769"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2770"><highlight class="normal"></highlight></codeline>
<codeline lineno="2771"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="2772"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2773"><highlight class="normal"></highlight></codeline>
<codeline lineno="2774"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::setLineLeadingBackPoint(<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>point<sp/>)</highlight></codeline>
<codeline lineno="2775"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2776"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2777"><highlight class="normal"></highlight></codeline>
<codeline lineno="2778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2779"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;lineLeadingBackPt<sp/>=<sp/>point;</highlight></codeline>
<codeline lineno="2781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2782"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2783"><highlight class="normal"></highlight></codeline>
<codeline lineno="2784"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2785"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineann-&gt;setLeaderLineExtension(point);</highlight></codeline>
<codeline lineno="2788"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2789"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2790"><highlight class="normal"></highlight></codeline>
<codeline lineno="2791"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>LineAnnotation::lineShowCaption()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2792"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2793"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2794"><highlight class="normal"></highlight></codeline>
<codeline lineno="2795"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineShowCaption;</highlight></codeline>
<codeline lineno="2797"><highlight class="normal"></highlight></codeline>
<codeline lineno="2798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2799"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*<sp/>lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lineann-&gt;getCaption();</highlight></codeline>
<codeline lineno="2802"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2803"><highlight class="normal"></highlight></codeline>
<codeline lineno="2804"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2805"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2806"><highlight class="normal"></highlight></codeline>
<codeline lineno="2807"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::setLineShowCaption(<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>show<sp/>)</highlight></codeline>
<codeline lineno="2808"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2809"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2810"><highlight class="normal"></highlight></codeline>
<codeline lineno="2811"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2812"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;lineShowCaption<sp/>=<sp/>show;</highlight></codeline>
<codeline lineno="2814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2815"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2816"><highlight class="normal"></highlight></codeline>
<codeline lineno="2817"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2818"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineann-&gt;setCaption(show);</highlight></codeline>
<codeline lineno="2821"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2822"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2823"><highlight class="normal"></highlight></codeline>
<codeline lineno="2824"><highlight class="normal">LineAnnotation::LineIntent<sp/>LineAnnotation::lineIntent()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2825"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2826"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2827"><highlight class="normal"></highlight></codeline>
<codeline lineno="2828"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;lineIntent;</highlight></codeline>
<codeline lineno="2830"><highlight class="normal"></highlight></codeline>
<codeline lineno="2831"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2832"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*<sp/>lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(LineAnnotation::LineIntent)(<sp/>lineann-&gt;getIntent()<sp/>+<sp/>1<sp/>);</highlight></codeline>
<codeline lineno="2835"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2836"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2837"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*<sp/>polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>polyann-&gt;getIntent()<sp/>==<sp/>AnnotPolygon::polygonCloud<sp/>)</highlight></codeline>
<codeline lineno="2840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>LineAnnotation::PolygonCloud;</highlight></codeline>
<codeline lineno="2841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>AnnotPolygon::polylineDimension,<sp/>AnnotPolygon::polygonDimension</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>LineAnnotation::Dimension;</highlight></codeline>
<codeline lineno="2843"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2844"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2845"><highlight class="normal"></highlight></codeline>
<codeline lineno="2846"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LineAnnotation::setLineIntent(<sp/>LineAnnotation::LineIntent<sp/>intent<sp/>)</highlight></codeline>
<codeline lineno="2847"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2848"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_line_annotation" kindref="compound">LineAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2849"><highlight class="normal"></highlight></codeline>
<codeline lineno="2850"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2851"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;lineIntent<sp/>=<sp/>intent;</highlight></codeline>
<codeline lineno="2853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2854"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2855"><highlight class="normal"></highlight></codeline>
<codeline lineno="2856"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>intent<sp/>==<sp/>LineAnnotation::Unknown<sp/>)</highlight></codeline>
<codeline lineno="2857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>Do<sp/>not<sp/>set<sp/>(actually,<sp/>it<sp/>should<sp/>clear<sp/>the<sp/>property)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2858"><highlight class="normal"></highlight></codeline>
<codeline lineno="2859"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeLine)</highlight></codeline>
<codeline lineno="2860"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_line" kindref="compound">AnnotLine</ref><sp/>*<sp/>lineann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_line" kindref="compound">AnnotLine</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineann-&gt;setIntent((AnnotLine::AnnotLineIntent)(<sp/>intent<sp/>-<sp/>1<sp/>));</highlight></codeline>
<codeline lineno="2863"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2864"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2865"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref><sp/>*<sp/>polyann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_polygon" kindref="compound">AnnotPolygon</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="2867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>intent<sp/>==<sp/>LineAnnotation::PolygonCloud)</highlight></codeline>
<codeline lineno="2868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setIntent(<sp/>AnnotPolygon::polygonCloud<sp/>);</highlight></codeline>
<codeline lineno="2869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>LineAnnotation::Dimension</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typePolygon<sp/>)</highlight></codeline>
<codeline lineno="2872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setIntent(<sp/>AnnotPolygon::polygonDimension<sp/>);</highlight></codeline>
<codeline lineno="2873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>Annot::typePolyLine</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>polyann-&gt;setIntent(<sp/>AnnotPolygon::polylineDimension<sp/>);</highlight></codeline>
<codeline lineno="2875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2876"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2877"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2878"><highlight class="normal"></highlight></codeline>
<codeline lineno="2879"><highlight class="normal"></highlight></codeline>
<codeline lineno="2881" refid="class_poppler_1_1_geom_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_geom_annotation_private" kindref="compound">GeomAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="2882"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2883"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_geom_annotation_private" kindref="compound">GeomAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="2885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="2886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="2887"><highlight class="normal"></highlight></codeline>
<codeline lineno="2888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields<sp/>(note<sp/>uses<sp/>border<sp/>for<sp/>rendering<sp/>style)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GeomAnnotation::GeomType<sp/>geomType;</highlight></codeline>
<codeline lineno="2890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QColor<sp/>geomInnerColor;</highlight></codeline>
<codeline lineno="2891"><highlight class="normal">};</highlight></codeline>
<codeline lineno="2892"><highlight class="normal"></highlight></codeline>
<codeline lineno="2893"><highlight class="normal">GeomAnnotationPrivate::GeomAnnotationPrivate()</highlight></codeline>
<codeline lineno="2894"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>geomType(<sp/>GeomAnnotation::InscribedSquare<sp/>)</highlight></codeline>
<codeline lineno="2895"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2896"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2897"><highlight class="normal"></highlight></codeline>
<codeline lineno="2898"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>GeomAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="2899"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2900"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_geom_annotation" kindref="compound">GeomAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2901"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2902"><highlight class="normal"></highlight></codeline>
<codeline lineno="2903"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>GeomAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="2904"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2905"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setters<sp/>are<sp/>defined<sp/>in<sp/>the<sp/>public<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2906"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_geom_annotation" kindref="compound">GeomAnnotation</ref><sp/>*q<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_poppler_1_1_geom_annotation" kindref="compound">GeomAnnotation</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>makeAlias()<sp/>);</highlight></codeline>
<codeline lineno="2907"><highlight class="normal"></highlight></codeline>
<codeline lineno="2908"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>page<sp/>and<sp/>document</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2909"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfPage<sp/>=<sp/>destPage;</highlight></codeline>
<codeline lineno="2910"><highlight class="normal"><sp/><sp/><sp/><sp/>parentDoc<sp/>=<sp/>doc;</highlight></codeline>
<codeline lineno="2911"><highlight class="normal"></highlight></codeline>
<codeline lineno="2912"><highlight class="normal"><sp/><sp/><sp/><sp/>Annot::AnnotSubtype<sp/>type;</highlight></codeline>
<codeline lineno="2913"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geomType<sp/>==<sp/>GeomAnnotation::InscribedSquare)</highlight></codeline>
<codeline lineno="2914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>type<sp/>=<sp/>Annot::typeSquare;</highlight></codeline>
<codeline lineno="2915"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>GeomAnnotation::InscribedCircle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>type<sp/>=<sp/>Annot::typeCircle;</highlight></codeline>
<codeline lineno="2917"><highlight class="normal"></highlight></codeline>
<codeline lineno="2918"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>pdfAnnot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2919"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>rect<sp/>=<sp/>boundaryToPdfRectangle(<ref refid="class_poppler_1_1_annotation_1a659d9288f67ff988f75df0fa9d3ca2fb" kindref="member">boundary</ref>,<sp/>flags);</highlight></codeline>
<codeline lineno="2920"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfAnnot<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_geometry" kindref="compound">AnnotGeometry</ref>(destPage-&gt;getDoc(),<sp/>&amp;rect,<sp/>type);</highlight></codeline>
<codeline lineno="2921"><highlight class="normal"></highlight></codeline>
<codeline lineno="2922"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2923"><highlight class="normal"><sp/><sp/><sp/><sp/>flushBaseAnnotationProperties();</highlight></codeline>
<codeline lineno="2924"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setGeomInnerColor(geomInnerColor);</highlight></codeline>
<codeline lineno="2925"><highlight class="normal"></highlight></codeline>
<codeline lineno="2926"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>q;</highlight></codeline>
<codeline lineno="2927"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pdfAnnot;</highlight></codeline>
<codeline lineno="2928"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2929"><highlight class="normal"></highlight></codeline>
<codeline lineno="2930"><highlight class="normal">GeomAnnotation::GeomAnnotation()</highlight></codeline>
<codeline lineno="2931"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_geom_annotation_private" kindref="compound">GeomAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="2932"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="2933"><highlight class="normal"></highlight></codeline>
<codeline lineno="2934"><highlight class="normal">GeomAnnotation::GeomAnnotation(<ref refid="class_poppler_1_1_geom_annotation_private" kindref="compound">GeomAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="2935"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="2936"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="2937"><highlight class="normal"></highlight></codeline>
<codeline lineno="2938"><highlight class="normal">GeomAnnotation::GeomAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="2939"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_geom_annotation_private" kindref="compound">GeomAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="2940"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2941"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;geom&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2942"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="2943"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="2944"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="2946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="2947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;geom&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="2948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2949"><highlight class="normal"></highlight></codeline>
<codeline lineno="2950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>the<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="2952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setGeomType((GeomAnnotation::GeomType)e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="2953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;color&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="2954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setGeomInnerColor(QColor(<sp/>e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;color&quot;</highlight><highlight class="normal">)<sp/>)<sp/>));</highlight></codeline>
<codeline lineno="2955"><highlight class="normal"></highlight></codeline>
<codeline lineno="2956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2958"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2959"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2960"><highlight class="normal"></highlight></codeline>
<codeline lineno="2961"><highlight class="normal">GeomAnnotation::~GeomAnnotation()</highlight></codeline>
<codeline lineno="2962"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2963"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2964"><highlight class="normal"></highlight></codeline>
<codeline lineno="2965"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>GeomAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2966"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2967"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2968"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="2969"><highlight class="normal"></highlight></codeline>
<codeline lineno="2970"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[geom]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2971"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>geomElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;geom&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="2972"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>geomElement<sp/>);</highlight></codeline>
<codeline lineno="2973"><highlight class="normal"></highlight></codeline>
<codeline lineno="2974"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>append<sp/>the<sp/>optional<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2975"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>geomType()<sp/>!=<sp/>InscribedSquare<sp/>)</highlight></codeline>
<codeline lineno="2976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geomElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)geomType()<sp/>);</highlight></codeline>
<codeline lineno="2977"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>geomInnerColor().isValid()<sp/>)</highlight></codeline>
<codeline lineno="2978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geomElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;color&quot;</highlight><highlight class="normal">),<sp/>geomInnerColor().name()<sp/>);</highlight></codeline>
<codeline lineno="2979"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2980"><highlight class="normal"></highlight></codeline>
<codeline lineno="2981" refid="class_poppler_1_1_geom_annotation_1a275700b4d5f06381f18ece403a1169d3" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_geom_annotation_1a275700b4d5f06381f18ece403a1169d3" kindref="member">GeomAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2982"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2983"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fadd10e52b73cf0d41989bc12a82ca0aad" kindref="member">AGeom</ref>;</highlight></codeline>
<codeline lineno="2984"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2985"><highlight class="normal"></highlight></codeline>
<codeline lineno="2986"><highlight class="normal">GeomAnnotation::GeomType<sp/>GeomAnnotation::geomType()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2987"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2988"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_geom_annotation" kindref="compound">GeomAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="2989"><highlight class="normal"></highlight></codeline>
<codeline lineno="2990"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="2991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;geomType;</highlight></codeline>
<codeline lineno="2992"><highlight class="normal"></highlight></codeline>
<codeline lineno="2993"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(d-&gt;pdfAnnot-&gt;getType()<sp/>==<sp/>Annot::typeSquare)</highlight></codeline>
<codeline lineno="2994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>GeomAnnotation::InscribedSquare;</highlight></codeline>
<codeline lineno="2995"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>Annot::typeCircle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>GeomAnnotation::InscribedCircle;</highlight></codeline>
<codeline lineno="2997"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2998"><highlight class="normal"></highlight></codeline>
<codeline lineno="2999"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>GeomAnnotation::setGeomType(<sp/>GeomAnnotation::GeomType<sp/>type<sp/>)</highlight></codeline>
<codeline lineno="3000"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3001"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_geom_annotation" kindref="compound">GeomAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3002"><highlight class="normal"></highlight></codeline>
<codeline lineno="3003"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3004"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;geomType<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="3006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3007"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3008"><highlight class="normal"></highlight></codeline>
<codeline lineno="3009"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_geometry" kindref="compound">AnnotGeometry</ref><sp/>*<sp/>geomann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_geometry" kindref="compound">AnnotGeometry</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="3010"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(type<sp/>==<sp/>GeomAnnotation::InscribedSquare)</highlight></codeline>
<codeline lineno="3011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geomann-&gt;setType(Annot::typeSquare);</highlight></codeline>
<codeline lineno="3012"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>GeomAnnotation::InscribedCircle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geomann-&gt;setType(Annot::typeCircle);</highlight></codeline>
<codeline lineno="3014"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3015"><highlight class="normal"></highlight></codeline>
<codeline lineno="3016"><highlight class="normal">QColor<sp/>GeomAnnotation::geomInnerColor()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3017"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3018"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_geom_annotation" kindref="compound">GeomAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3019"><highlight class="normal"></highlight></codeline>
<codeline lineno="3020"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;geomInnerColor;</highlight></codeline>
<codeline lineno="3022"><highlight class="normal"></highlight></codeline>
<codeline lineno="3023"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_geometry" kindref="compound">AnnotGeometry</ref><sp/>*<sp/>geomann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_geometry" kindref="compound">AnnotGeometry</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="3024"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>convertAnnotColor(<sp/>geomann-&gt;getInteriorColor()<sp/>);</highlight></codeline>
<codeline lineno="3025"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3026"><highlight class="normal"></highlight></codeline>
<codeline lineno="3027"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>GeomAnnotation::setGeomInnerColor(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QColor<sp/>&amp;color<sp/>)</highlight></codeline>
<codeline lineno="3028"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3029"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_geom_annotation" kindref="compound">GeomAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3030"><highlight class="normal"></highlight></codeline>
<codeline lineno="3031"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3032"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;geomInnerColor<sp/>=<sp/>color;</highlight></codeline>
<codeline lineno="3034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3035"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3036"><highlight class="normal"></highlight></codeline>
<codeline lineno="3037"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_geometry" kindref="compound">AnnotGeometry</ref><sp/>*<sp/>geomann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_geometry" kindref="compound">AnnotGeometry</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="3038"><highlight class="normal"><sp/><sp/><sp/><sp/>geomann-&gt;setInteriorColor(convertQColor(<sp/>color<sp/>));</highlight></codeline>
<codeline lineno="3039"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3040"><highlight class="normal"></highlight></codeline>
<codeline lineno="3041"><highlight class="normal"></highlight></codeline>
<codeline lineno="3043" refid="class_poppler_1_1_highlight_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_highlight_annotation_private" kindref="compound">HighlightAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="3044"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3045"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_highlight_annotation_private" kindref="compound">HighlightAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="3047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="3048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="3049"><highlight class="normal"></highlight></codeline>
<codeline lineno="3050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0" kindref="member">HighlightAnnotation::HighlightType</ref><sp/>highlightType;</highlight></codeline>
<codeline lineno="3052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;<sp/>HighlightAnnotation::Quad<sp/>&gt;<sp/>highlightQuads;<sp/></highlight><highlight class="comment">//<sp/>not<sp/>empty</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3053"><highlight class="normal"></highlight></codeline>
<codeline lineno="3054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>helpers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>Annot::AnnotSubtype<sp/>toAnnotSubType(<sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0" kindref="member">HighlightAnnotation::HighlightType</ref><sp/>type<sp/>);</highlight></codeline>
<codeline lineno="3056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;<sp/>HighlightAnnotation::Quad<sp/>&gt;<sp/>fromQuadrilaterals(<ref refid="class_annot_quadrilaterals" kindref="compound">AnnotQuadrilaterals</ref><sp/>*quads)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_quadrilaterals" kindref="compound">AnnotQuadrilaterals</ref><sp/>*<sp/>toQuadrilaterals(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;<sp/>HighlightAnnotation::Quad<sp/>&gt;<sp/>&amp;quads)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3058"><highlight class="normal">};</highlight></codeline>
<codeline lineno="3059"><highlight class="normal"></highlight></codeline>
<codeline lineno="3060"><highlight class="normal">HighlightAnnotationPrivate::HighlightAnnotationPrivate()</highlight></codeline>
<codeline lineno="3061"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>highlightType(<sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0ad361cb7e0e2851afc703a8394bb4a1d0" kindref="member">HighlightAnnotation::Highlight</ref><sp/>)</highlight></codeline>
<codeline lineno="3062"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3063"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3064"><highlight class="normal"></highlight></codeline>
<codeline lineno="3065"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>HighlightAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="3066"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3067"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation" kindref="compound">HighlightAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3068"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3069"><highlight class="normal"></highlight></codeline>
<codeline lineno="3070"><highlight class="normal">Annot::AnnotSubtype<sp/>HighlightAnnotationPrivate::toAnnotSubType(<sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0" kindref="member">HighlightAnnotation::HighlightType</ref><sp/>type<sp/>)</highlight></codeline>
<codeline lineno="3071"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3072"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(type)</highlight></codeline>
<codeline lineno="3073"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/></highlight><highlight class="comment">//<sp/>HighlightAnnotation::Highlight:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annot::typeHighlight;</highlight></codeline>
<codeline lineno="3076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0a529d5dd89e2abe0f5d400c94e4e8c42b" kindref="member">HighlightAnnotation::Underline</ref>:</highlight></codeline>
<codeline lineno="3077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annot::typeUnderline;</highlight></codeline>
<codeline lineno="3078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0a37d1086c08ea82fcc684fa03e7ab5dcc" kindref="member">HighlightAnnotation::Squiggly</ref>:</highlight></codeline>
<codeline lineno="3079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annot::typeSquiggly;</highlight></codeline>
<codeline lineno="3080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0a5d34b879bbf2e557da55afb4c0b7eebd" kindref="member">HighlightAnnotation::StrikeOut</ref>:</highlight></codeline>
<codeline lineno="3081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Annot::typeStrikeOut;</highlight></codeline>
<codeline lineno="3082"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3083"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3084"><highlight class="normal"></highlight></codeline>
<codeline lineno="3085"><highlight class="normal">QList&lt;<sp/>HighlightAnnotation::Quad<sp/>&gt;<sp/>HighlightAnnotationPrivate::fromQuadrilaterals(<ref refid="class_annot_quadrilaterals" kindref="compound">AnnotQuadrilaterals</ref><sp/>*hlquads)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3086"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3087"><highlight class="normal"><sp/><sp/><sp/><sp/>QList&lt;<sp/>HighlightAnnotation::Quad<sp/>&gt;<sp/>quads;</highlight></codeline>
<codeline lineno="3088"><highlight class="normal"></highlight></codeline>
<codeline lineno="3089"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!hlquads<sp/>||<sp/>!hlquads-&gt;getQuadrilateralsLength()<sp/>)</highlight></codeline>
<codeline lineno="3090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>quads;</highlight></codeline>
<codeline lineno="3091"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>quadsCount<sp/>=<sp/>hlquads-&gt;getQuadrilateralsLength();</highlight></codeline>
<codeline lineno="3092"><highlight class="normal"></highlight></codeline>
<codeline lineno="3093"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6];</highlight></codeline>
<codeline lineno="3094"><highlight class="normal"><sp/><sp/><sp/><sp/>fillTransformationMTX(MTX);</highlight></codeline>
<codeline lineno="3095"><highlight class="normal"></highlight></codeline>
<codeline lineno="3096"><highlight class="normal"><sp/><sp/><sp/><sp/>quads.reserve(quadsCount);</highlight></codeline>
<codeline lineno="3097"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>q<sp/>=<sp/>0;<sp/>q<sp/>&lt;<sp/>quadsCount;<sp/>++q)</highlight></codeline>
<codeline lineno="3098"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_poppler_1_1_highlight_annotation_1_1_quad" kindref="compound">HighlightAnnotation::Quad</ref><sp/>quad;</highlight></codeline>
<codeline lineno="3100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::transform(<sp/>MTX,<sp/>hlquads-&gt;getX1(<sp/>q<sp/>),<sp/>hlquads-&gt;getY1(<sp/>q<sp/>),<sp/>quad.points[<sp/>0<sp/>]<sp/>);</highlight></codeline>
<codeline lineno="3101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::transform(<sp/>MTX,<sp/>hlquads-&gt;getX2(<sp/>q<sp/>),<sp/>hlquads-&gt;getY2(<sp/>q<sp/>),<sp/>quad.points[<sp/>1<sp/>]<sp/>);</highlight></codeline>
<codeline lineno="3102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::transform(<sp/>MTX,<sp/>hlquads-&gt;getX3(<sp/>q<sp/>),<sp/>hlquads-&gt;getY3(<sp/>q<sp/>),<sp/>quad.points[<sp/>2<sp/>]<sp/>);</highlight></codeline>
<codeline lineno="3103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::transform(<sp/>MTX,<sp/>hlquads-&gt;getX4(<sp/>q<sp/>),<sp/>hlquads-&gt;getY4(<sp/>q<sp/>),<sp/>quad.points[<sp/>3<sp/>]<sp/>);</highlight></codeline>
<codeline lineno="3104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>###<sp/>PDF1.6<sp/>specs<sp/>says<sp/>that<sp/>point<sp/>are<sp/>in<sp/>ccw<sp/>order,<sp/>but<sp/>in<sp/>fact</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>points<sp/>3<sp/>and<sp/>4<sp/>are<sp/>swapped<sp/>in<sp/>every<sp/>PDF<sp/>around!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QPointF<sp/>tmpPoint<sp/>=<sp/>quad.points[<sp/>2<sp/>];</highlight></codeline>
<codeline lineno="3107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quad.points[<sp/>2<sp/>]<sp/>=<sp/>quad.points[<sp/>3<sp/>];</highlight></codeline>
<codeline lineno="3108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quad.points[<sp/>3<sp/>]<sp/>=<sp/>tmpPoint;</highlight></codeline>
<codeline lineno="3109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>initialize<sp/>other<sp/>properties<sp/>and<sp/>append<sp/>quad</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quad.capStart<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>unlinked<sp/>quads<sp/>are<sp/>always<sp/>capped</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quad.capEnd<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>unlinked<sp/>quads<sp/>are<sp/>always<sp/>capped</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quad.feather<sp/>=<sp/>0.1;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>default<sp/>feather</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quads.append(<sp/>quad<sp/>);</highlight></codeline>
<codeline lineno="3114"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3115"><highlight class="normal"></highlight></codeline>
<codeline lineno="3116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>quads;</highlight></codeline>
<codeline lineno="3117"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3118"><highlight class="normal"></highlight></codeline>
<codeline lineno="3119"><highlight class="normal"><ref refid="class_annot_quadrilaterals" kindref="compound">AnnotQuadrilaterals</ref><sp/>*<sp/>HighlightAnnotationPrivate::toQuadrilaterals(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;<sp/>HighlightAnnotation::Quad<sp/>&gt;<sp/>&amp;quads)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3120"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>count<sp/>=<sp/>quads.size();</highlight></codeline>
<codeline lineno="3122"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_quadrilaterals_1_1_annot_quadrilateral" kindref="compound">AnnotQuadrilaterals::AnnotQuadrilateral</ref><sp/>**ac<sp/>=</highlight></codeline>
<codeline lineno="3123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="class_annot_quadrilaterals_1_1_annot_quadrilateral" kindref="compound">AnnotQuadrilaterals::AnnotQuadrilateral</ref>**)</highlight></codeline>
<codeline lineno="3124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gmallocn(<sp/>count,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="class_annot_quadrilaterals_1_1_annot_quadrilateral" kindref="compound">AnnotQuadrilaterals::AnnotQuadrilateral</ref>*)<sp/>);</highlight></codeline>
<codeline lineno="3125"><highlight class="normal"></highlight></codeline>
<codeline lineno="3126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6];</highlight></codeline>
<codeline lineno="3127"><highlight class="normal"><sp/><sp/><sp/><sp/>fillTransformationMTX(MTX);</highlight></codeline>
<codeline lineno="3128"><highlight class="normal"></highlight></codeline>
<codeline lineno="3129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_poppler_1_1_highlight_annotation_1_1_quad" kindref="compound">HighlightAnnotation::Quad</ref><sp/>&amp;q,<sp/>quads)</highlight></codeline>
<codeline lineno="3131"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>x1,<sp/>y1,<sp/>x2,<sp/>y2,<sp/>x3,<sp/>y3,<sp/>x4,<sp/>y4;</highlight></codeline>
<codeline lineno="3133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>q.points[0],<sp/>x1,<sp/>y1<sp/>);</highlight></codeline>
<codeline lineno="3134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>q.points[1],<sp/>x2,<sp/>y2<sp/>);</highlight></codeline>
<codeline lineno="3135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Swap<sp/>points<sp/>3<sp/>and<sp/>4<sp/>(see<sp/>HighlightAnnotationPrivate::fromQuadrilaterals)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>q.points[3],<sp/>x3,<sp/>y3<sp/>);</highlight></codeline>
<codeline lineno="3137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::invTransform(<sp/>MTX,<sp/>q.points[2],<sp/>x4,<sp/>y4<sp/>);</highlight></codeline>
<codeline lineno="3138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ac[pos++]<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_quadrilaterals_1_1_annot_quadrilateral" kindref="compound">AnnotQuadrilaterals::AnnotQuadrilateral</ref>(x1,<sp/>y1,<sp/>x2,<sp/>y2,<sp/>x3,<sp/>y3,<sp/>x4,<sp/>y4);</highlight></codeline>
<codeline lineno="3139"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3140"><highlight class="normal"></highlight></codeline>
<codeline lineno="3141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_quadrilaterals" kindref="compound">AnnotQuadrilaterals</ref>(ac,<sp/>count);</highlight></codeline>
<codeline lineno="3142"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3143"><highlight class="normal"></highlight></codeline>
<codeline lineno="3144"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>HighlightAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="3145"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setters<sp/>are<sp/>defined<sp/>in<sp/>the<sp/>public<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3147"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_highlight_annotation" kindref="compound">HighlightAnnotation</ref><sp/>*q<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_poppler_1_1_highlight_annotation" kindref="compound">HighlightAnnotation</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>makeAlias()<sp/>);</highlight></codeline>
<codeline lineno="3148"><highlight class="normal"></highlight></codeline>
<codeline lineno="3149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>page<sp/>and<sp/>document</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3150"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfPage<sp/>=<sp/>destPage;</highlight></codeline>
<codeline lineno="3151"><highlight class="normal"><sp/><sp/><sp/><sp/>parentDoc<sp/>=<sp/>doc;</highlight></codeline>
<codeline lineno="3152"><highlight class="normal"></highlight></codeline>
<codeline lineno="3153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>pdfAnnot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3154"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>rect<sp/>=<sp/>boundaryToPdfRectangle(<ref refid="class_poppler_1_1_annotation_1a659d9288f67ff988f75df0fa9d3ca2fb" kindref="member">boundary</ref>,<sp/>flags);</highlight></codeline>
<codeline lineno="3155"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfAnnot<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_text_markup" kindref="compound">AnnotTextMarkup</ref>(destPage-&gt;getDoc(),<sp/>&amp;rect,<sp/>toAnnotSubType(highlightType));</highlight></codeline>
<codeline lineno="3156"><highlight class="normal"></highlight></codeline>
<codeline lineno="3157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3158"><highlight class="normal"><sp/><sp/><sp/><sp/>flushBaseAnnotationProperties();</highlight></codeline>
<codeline lineno="3159"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;<ref refid="class_poppler_1_1_highlight_annotation_1a2629917c423793c5eb96ec5eb9a563b0" kindref="member">setHighlightQuads</ref>(highlightQuads);</highlight></codeline>
<codeline lineno="3160"><highlight class="normal"></highlight></codeline>
<codeline lineno="3161"><highlight class="normal"><sp/><sp/><sp/><sp/>highlightQuads.clear();<sp/></highlight><highlight class="comment">//<sp/>Free<sp/>up<sp/>memory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3162"><highlight class="normal"></highlight></codeline>
<codeline lineno="3163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>q;</highlight></codeline>
<codeline lineno="3164"><highlight class="normal"></highlight></codeline>
<codeline lineno="3165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pdfAnnot;</highlight></codeline>
<codeline lineno="3166"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3167"><highlight class="normal"></highlight></codeline>
<codeline lineno="3168"><highlight class="normal">HighlightAnnotation::HighlightAnnotation()</highlight></codeline>
<codeline lineno="3169"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_private" kindref="compound">HighlightAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="3170"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="3171"><highlight class="normal"></highlight></codeline>
<codeline lineno="3172"><highlight class="normal">HighlightAnnotation::HighlightAnnotation(<ref refid="class_poppler_1_1_highlight_annotation_private" kindref="compound">HighlightAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="3173"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="3174"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="3175"><highlight class="normal"></highlight></codeline>
<codeline lineno="3176"><highlight class="normal">HighlightAnnotation::HighlightAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="3177"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_private" kindref="compound">HighlightAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="3178"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;hl&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3180"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="3181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="3182"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="3184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="3185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;hl&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3187"><highlight class="normal"></highlight></codeline>
<codeline lineno="3188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>the<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="3190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setHighlightType((<ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0" kindref="member">HighlightAnnotation::HighlightType</ref>)e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="3191"><highlight class="normal"></highlight></codeline>
<codeline lineno="3192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>all<sp/>&apos;quad&apos;<sp/>subnodes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;HighlightAnnotation::Quad&gt;<sp/>quads;</highlight></codeline>
<codeline lineno="3194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomNode<sp/>quadNode<sp/>=<sp/>e.firstChild();</highlight></codeline>
<codeline lineno="3195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>;<sp/>quadNode.isElement();<sp/>quadNode<sp/>=<sp/>quadNode.nextSibling()<sp/>)</highlight></codeline>
<codeline lineno="3196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>qe<sp/>=<sp/>quadNode.toElement();</highlight></codeline>
<codeline lineno="3198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>qe.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;quad&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3200"><highlight class="normal"></highlight></codeline>
<codeline lineno="3201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Quad<sp/>q;</highlight></codeline>
<codeline lineno="3202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.points[0].setX(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ax&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="3203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.points[0].setY(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ay&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="3204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.points[1].setX(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;bx&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="3205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.points[1].setY(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;by&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="3206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.points[2].setX(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cx&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="3207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.points[2].setY(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cy&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="3208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.points[3].setX(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;dx&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="3209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.points[3].setY(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;dy&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="3210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.capStart<sp/>=<sp/>qe.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;start&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.capEnd<sp/>=<sp/>qe.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;end&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q.feather<sp/>=<sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;feather&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.1&quot;</highlight><highlight class="normal">)<sp/>).toDouble();</highlight></codeline>
<codeline lineno="3213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quads.append(<sp/>q<sp/>);</highlight></codeline>
<codeline lineno="3214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setHighlightQuads(quads);</highlight></codeline>
<codeline lineno="3216"><highlight class="normal"></highlight></codeline>
<codeline lineno="3217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3219"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3220"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3221"><highlight class="normal"></highlight></codeline>
<codeline lineno="3222"><highlight class="normal">HighlightAnnotation::~HighlightAnnotation()</highlight></codeline>
<codeline lineno="3223"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3224"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3225"><highlight class="normal"></highlight></codeline>
<codeline lineno="3226"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>HighlightAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3227"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3229"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="3230"><highlight class="normal"></highlight></codeline>
<codeline lineno="3231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[hl]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3232"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>hlElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;hl&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3233"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>hlElement<sp/>);</highlight></codeline>
<codeline lineno="3234"><highlight class="normal"></highlight></codeline>
<codeline lineno="3235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>append<sp/>the<sp/>optional<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>highlightType()<sp/>!=<sp/>Highlight<sp/>)</highlight></codeline>
<codeline lineno="3237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hlElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)highlightType()<sp/>);</highlight></codeline>
<codeline lineno="3238"><highlight class="normal"></highlight></codeline>
<codeline lineno="3239"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;HighlightAnnotation::Quad&gt;<sp/>quads<sp/>=<sp/>highlightQuads();</highlight></codeline>
<codeline lineno="3240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>quads.count()<sp/>&lt;<sp/>1<sp/>)</highlight></codeline>
<codeline lineno="3241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>append<sp/>highlight<sp/>quads,<sp/>all<sp/>children<sp/>describe<sp/>quads</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3243"><highlight class="normal"><sp/><sp/><sp/><sp/>QList&lt;<sp/>HighlightAnnotation::Quad<sp/>&gt;::const_iterator<sp/>it<sp/>=<sp/>quads.begin(),<sp/>end<sp/>=<sp/>quads.end();</highlight></codeline>
<codeline lineno="3244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>;<sp/>it<sp/>!=<sp/>end;<sp/>++it<sp/>)</highlight></codeline>
<codeline lineno="3245"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>quadElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;quad&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hlElement.appendChild(<sp/>quadElement<sp/>);</highlight></codeline>
<codeline lineno="3248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Quad<sp/>&amp;<sp/>q<sp/>=<sp/>*it;</highlight></codeline>
<codeline lineno="3249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ax&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>q.points[0].x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ay&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>q.points[0].y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;bx&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>q.points[1].x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;by&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>q.points[1].y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cx&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>q.points[2].x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cy&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>q.points[2].y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;dx&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>q.points[3].x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;dy&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>q.points[3].y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>q.capStart<sp/>)</highlight></codeline>
<codeline lineno="3258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;start&quot;</highlight><highlight class="normal">),<sp/>1<sp/>);</highlight></codeline>
<codeline lineno="3259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>q.capEnd<sp/>)</highlight></codeline>
<codeline lineno="3260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;end&quot;</highlight><highlight class="normal">),<sp/>1<sp/>);</highlight></codeline>
<codeline lineno="3261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;feather&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>q.feather<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3262"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3263"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3264"><highlight class="normal"></highlight></codeline>
<codeline lineno="3265" refid="class_poppler_1_1_highlight_annotation_1ab71e12c01a8005c2fb4a4db9c218c8da" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_highlight_annotation_1ab71e12c01a8005c2fb4a4db9c218c8da" kindref="member">HighlightAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3266"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa2384dbe2c0ca6dc6bb51b08b79426aea" kindref="member">AHighlight</ref>;</highlight></codeline>
<codeline lineno="3268"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3269"><highlight class="normal"></highlight></codeline>
<codeline lineno="3270" refid="class_poppler_1_1_highlight_annotation_1ae53f82e1935c7d8ca63578bc70956896" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0" kindref="member">HighlightAnnotation::HighlightType</ref><sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae53f82e1935c7d8ca63578bc70956896" kindref="member">HighlightAnnotation::highlightType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3271"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3272"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation" kindref="compound">HighlightAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3273"><highlight class="normal"></highlight></codeline>
<codeline lineno="3274"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;highlightType;</highlight></codeline>
<codeline lineno="3276"><highlight class="normal"></highlight></codeline>
<codeline lineno="3277"><highlight class="normal"><sp/><sp/><sp/><sp/>Annot::AnnotSubtype<sp/><ref refid="class_poppler_1_1_line_annotation_1aa6afc935d75cfdac20653814b0fe40f0" kindref="member">subType</ref><sp/>=<sp/>d-&gt;pdfAnnot-&gt;getType();</highlight></codeline>
<codeline lineno="3278"><highlight class="normal"></highlight></codeline>
<codeline lineno="3279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>subType<sp/>==<sp/>Annot::typeHighlight<sp/>)</highlight></codeline>
<codeline lineno="3280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0ad361cb7e0e2851afc703a8394bb4a1d0" kindref="member">HighlightAnnotation::Highlight</ref>;</highlight></codeline>
<codeline lineno="3281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>subType<sp/>==<sp/>Annot::typeUnderline<sp/>)</highlight></codeline>
<codeline lineno="3282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0a529d5dd89e2abe0f5d400c94e4e8c42b" kindref="member">HighlightAnnotation::Underline</ref>;</highlight></codeline>
<codeline lineno="3283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>subType<sp/>==<sp/>Annot::typeSquiggly<sp/>)</highlight></codeline>
<codeline lineno="3284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0a37d1086c08ea82fcc684fa03e7ab5dcc" kindref="member">HighlightAnnotation::Squiggly</ref>;</highlight></codeline>
<codeline lineno="3285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>Annot::typeStrikeOut</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0a5d34b879bbf2e557da55afb4c0b7eebd" kindref="member">HighlightAnnotation::StrikeOut</ref>;</highlight></codeline>
<codeline lineno="3287"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3288"><highlight class="normal"></highlight></codeline>
<codeline lineno="3289" refid="class_poppler_1_1_highlight_annotation_1a7be625cca117ef75aeb1b1f569d575d7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_1a7be625cca117ef75aeb1b1f569d575d7" kindref="member">HighlightAnnotation::setHighlightType</ref>(<sp/><ref refid="class_poppler_1_1_highlight_annotation_1ae605e74038eb2a3810a789377524f2a0" kindref="member">HighlightAnnotation::HighlightType</ref><sp/>type<sp/>)</highlight></codeline>
<codeline lineno="3290"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3291"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_highlight_annotation" kindref="compound">HighlightAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3292"><highlight class="normal"></highlight></codeline>
<codeline lineno="3293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3294"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;highlightType<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="3296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3297"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3298"><highlight class="normal"></highlight></codeline>
<codeline lineno="3299"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_text_markup" kindref="compound">AnnotTextMarkup</ref><sp/>*<sp/>hlann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_text_markup" kindref="compound">AnnotTextMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="3300"><highlight class="normal"><sp/><sp/><sp/><sp/>hlann-&gt;setType(HighlightAnnotationPrivate::toAnnotSubType(<sp/>type<sp/>));</highlight></codeline>
<codeline lineno="3301"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3302"><highlight class="normal"></highlight></codeline>
<codeline lineno="3303" refid="class_poppler_1_1_highlight_annotation_1a9d3811c1d9d60dcb7fcd7bf611d0862e" refkind="member"><highlight class="normal">QList&lt;<sp/>HighlightAnnotation::Quad<sp/>&gt;<sp/><ref refid="class_poppler_1_1_highlight_annotation_1a9d3811c1d9d60dcb7fcd7bf611d0862e" kindref="member">HighlightAnnotation::highlightQuads</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3304"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3305"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation" kindref="compound">HighlightAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3306"><highlight class="normal"></highlight></codeline>
<codeline lineno="3307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;highlightQuads;</highlight></codeline>
<codeline lineno="3309"><highlight class="normal"></highlight></codeline>
<codeline lineno="3310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_text_markup" kindref="compound">AnnotTextMarkup</ref><sp/>*<sp/>hlann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_text_markup" kindref="compound">AnnotTextMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="3311"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;fromQuadrilaterals(<sp/>hlann-&gt;getQuadrilaterals()<sp/>);</highlight></codeline>
<codeline lineno="3312"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3313"><highlight class="normal"></highlight></codeline>
<codeline lineno="3314" refid="class_poppler_1_1_highlight_annotation_1a2629917c423793c5eb96ec5eb9a563b0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_highlight_annotation_1a2629917c423793c5eb96ec5eb9a563b0" kindref="member">HighlightAnnotation::setHighlightQuads</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;<sp/>HighlightAnnotation::Quad<sp/>&gt;<sp/>&amp;quads<sp/>)</highlight></codeline>
<codeline lineno="3315"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3316"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_highlight_annotation" kindref="compound">HighlightAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3317"><highlight class="normal"></highlight></codeline>
<codeline lineno="3318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3319"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;highlightQuads<sp/>=<sp/>quads;</highlight></codeline>
<codeline lineno="3321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3322"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3323"><highlight class="normal"></highlight></codeline>
<codeline lineno="3324"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_text_markup" kindref="compound">AnnotTextMarkup</ref><sp/>*<sp/>hlann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_text_markup" kindref="compound">AnnotTextMarkup</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="3325"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_quadrilaterals" kindref="compound">AnnotQuadrilaterals</ref><sp/>*<sp/>quadrilaterals<sp/>=<sp/>d-&gt;toQuadrilaterals(quads);</highlight></codeline>
<codeline lineno="3326"><highlight class="normal"><sp/><sp/><sp/><sp/>hlann-&gt;setQuadrilaterals(quadrilaterals);</highlight></codeline>
<codeline lineno="3327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>quadrilaterals;</highlight></codeline>
<codeline lineno="3328"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3329"><highlight class="normal"></highlight></codeline>
<codeline lineno="3330"><highlight class="normal"></highlight></codeline>
<codeline lineno="3332" refid="class_poppler_1_1_stamp_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_stamp_annotation_private" kindref="compound">StampAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="3333"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_stamp_annotation_private" kindref="compound">StampAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="3336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="3337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="3338"><highlight class="normal"></highlight></codeline>
<codeline lineno="3339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>stampIconName;</highlight></codeline>
<codeline lineno="3341"><highlight class="normal">};</highlight></codeline>
<codeline lineno="3342"><highlight class="normal"></highlight></codeline>
<codeline lineno="3343"><highlight class="normal">StampAnnotationPrivate::StampAnnotationPrivate()</highlight></codeline>
<codeline lineno="3344"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>stampIconName(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Draft&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3345"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3346"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3347"><highlight class="normal"></highlight></codeline>
<codeline lineno="3348"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>StampAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="3349"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_stamp_annotation" kindref="compound">StampAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3351"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3352"><highlight class="normal"></highlight></codeline>
<codeline lineno="3353"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>StampAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="3354"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3355"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_stamp_annotation" kindref="compound">StampAnnotation</ref><sp/>*q<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_poppler_1_1_stamp_annotation" kindref="compound">StampAnnotation</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>makeAlias()<sp/>);</highlight></codeline>
<codeline lineno="3356"><highlight class="normal"></highlight></codeline>
<codeline lineno="3357"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>page<sp/>and<sp/>document</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3358"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfPage<sp/>=<sp/>destPage;</highlight></codeline>
<codeline lineno="3359"><highlight class="normal"><sp/><sp/><sp/><sp/>parentDoc<sp/>=<sp/>doc;</highlight></codeline>
<codeline lineno="3360"><highlight class="normal"></highlight></codeline>
<codeline lineno="3361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>pdfAnnot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3362"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>rect<sp/>=<sp/>boundaryToPdfRectangle(<ref refid="class_poppler_1_1_annotation_1a659d9288f67ff988f75df0fa9d3ca2fb" kindref="member">boundary</ref>,<sp/>flags);</highlight></codeline>
<codeline lineno="3363"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfAnnot<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_stamp" kindref="compound">AnnotStamp</ref>(destPage-&gt;getDoc(),<sp/>&amp;rect);</highlight></codeline>
<codeline lineno="3364"><highlight class="normal"></highlight></codeline>
<codeline lineno="3365"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3366"><highlight class="normal"><sp/><sp/><sp/><sp/>flushBaseAnnotationProperties();</highlight></codeline>
<codeline lineno="3367"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;<ref refid="class_poppler_1_1_stamp_annotation_1adb78400f376919308721d34e396e82dc" kindref="member">setStampIconName</ref>(stampIconName);</highlight></codeline>
<codeline lineno="3368"><highlight class="normal"></highlight></codeline>
<codeline lineno="3369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>q;</highlight></codeline>
<codeline lineno="3370"><highlight class="normal"></highlight></codeline>
<codeline lineno="3371"><highlight class="normal"><sp/><sp/><sp/><sp/>stampIconName.clear();<sp/></highlight><highlight class="comment">//<sp/>Free<sp/>up<sp/>memory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3372"><highlight class="normal"></highlight></codeline>
<codeline lineno="3373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pdfAnnot;</highlight></codeline>
<codeline lineno="3374"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3375"><highlight class="normal"></highlight></codeline>
<codeline lineno="3376"><highlight class="normal">StampAnnotation::StampAnnotation()</highlight></codeline>
<codeline lineno="3377"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_stamp_annotation_private" kindref="compound">StampAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="3378"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="3379"><highlight class="normal"></highlight></codeline>
<codeline lineno="3380"><highlight class="normal">StampAnnotation::StampAnnotation(<ref refid="class_poppler_1_1_stamp_annotation_private" kindref="compound">StampAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="3381"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="3382"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="3383"><highlight class="normal"></highlight></codeline>
<codeline lineno="3384"><highlight class="normal">StampAnnotation::StampAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="3385"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_stamp_annotation_private" kindref="compound">StampAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="3386"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;stamp&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3388"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="3389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="3390"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="3392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="3393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;stamp&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3395"><highlight class="normal"></highlight></codeline>
<codeline lineno="3396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>the<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;icon&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="3398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setStampIconName(e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;icon&quot;</highlight><highlight class="normal">)<sp/>));</highlight></codeline>
<codeline lineno="3399"><highlight class="normal"></highlight></codeline>
<codeline lineno="3400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3402"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3403"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3404"><highlight class="normal"></highlight></codeline>
<codeline lineno="3405"><highlight class="normal">StampAnnotation::~StampAnnotation()</highlight></codeline>
<codeline lineno="3406"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3407"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3408"><highlight class="normal"></highlight></codeline>
<codeline lineno="3409"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>StampAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3410"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3411"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3412"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="3413"><highlight class="normal"></highlight></codeline>
<codeline lineno="3414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[stamp]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3415"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>stampElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;stamp&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3416"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>stampElement<sp/>);</highlight></codeline>
<codeline lineno="3417"><highlight class="normal"></highlight></codeline>
<codeline lineno="3418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>append<sp/>the<sp/>optional<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>stampIconName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;Draft&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stampElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;icon&quot;</highlight><highlight class="normal">),<sp/>stampIconName()<sp/>);</highlight></codeline>
<codeline lineno="3421"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3422"><highlight class="normal"></highlight></codeline>
<codeline lineno="3423" refid="class_poppler_1_1_stamp_annotation_1ad4140dc18ea7dfc4b844afc1d0abdf74" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_stamp_annotation_1ad4140dc18ea7dfc4b844afc1d0abdf74" kindref="member">StampAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3424"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa408e3d4395a1553c2bb7ea944180f7fe" kindref="member">AStamp</ref>;</highlight></codeline>
<codeline lineno="3426"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3427"><highlight class="normal"></highlight></codeline>
<codeline lineno="3428" refid="class_poppler_1_1_stamp_annotation_1aeacae1f94260e47ff079e2c8a8dd636e" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_stamp_annotation_1aeacae1f94260e47ff079e2c8a8dd636e" kindref="member">StampAnnotation::stampIconName</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3429"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3430"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_stamp_annotation" kindref="compound">StampAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3431"><highlight class="normal"></highlight></codeline>
<codeline lineno="3432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;stampIconName;</highlight></codeline>
<codeline lineno="3434"><highlight class="normal"></highlight></codeline>
<codeline lineno="3435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_stamp" kindref="compound">AnnotStamp</ref><sp/>*<sp/>stampann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_stamp" kindref="compound">AnnotStamp</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="3436"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QString::fromLatin1(<sp/>stampann-&gt;getIcon()-&gt;getCString()<sp/>);</highlight></codeline>
<codeline lineno="3437"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3438"><highlight class="normal"></highlight></codeline>
<codeline lineno="3439" refid="class_poppler_1_1_stamp_annotation_1adb78400f376919308721d34e396e82dc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_stamp_annotation_1adb78400f376919308721d34e396e82dc" kindref="member">StampAnnotation::setStampIconName</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;name<sp/>)</highlight></codeline>
<codeline lineno="3440"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3441"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_stamp_annotation" kindref="compound">StampAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3442"><highlight class="normal"></highlight></codeline>
<codeline lineno="3443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3444"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;stampIconName<sp/>=<sp/>name;</highlight></codeline>
<codeline lineno="3446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3447"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3448"><highlight class="normal"></highlight></codeline>
<codeline lineno="3449"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_stamp" kindref="compound">AnnotStamp</ref><sp/>*<sp/>stampann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_stamp" kindref="compound">AnnotStamp</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="3450"><highlight class="normal"><sp/><sp/><sp/><sp/>QByteArray<sp/>encoded<sp/>=<sp/>name.toLatin1();</highlight></codeline>
<codeline lineno="3451"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_goo_string" kindref="compound">GooString</ref><sp/>s(encoded.constData());</highlight></codeline>
<codeline lineno="3452"><highlight class="normal"><sp/><sp/><sp/><sp/>stampann-&gt;setIcon(&amp;s);</highlight></codeline>
<codeline lineno="3453"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3454"><highlight class="normal"></highlight></codeline>
<codeline lineno="3456" refid="class_poppler_1_1_ink_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_ink_annotation_private" kindref="compound">InkAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="3457"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3458"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_ink_annotation_private" kindref="compound">InkAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="3460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="3461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="3462"><highlight class="normal"></highlight></codeline>
<codeline lineno="3463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;<sp/>QLinkedList&lt;QPointF&gt;<sp/>&gt;<sp/>inkPaths;</highlight></codeline>
<codeline lineno="3465"><highlight class="normal"></highlight></codeline>
<codeline lineno="3466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>helper</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot_path" kindref="compound">AnnotPath</ref><sp/>**toAnnotPaths(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;<sp/>QLinkedList&lt;QPointF&gt;<sp/>&gt;<sp/>&amp;inkPaths);</highlight></codeline>
<codeline lineno="3468"><highlight class="normal">};</highlight></codeline>
<codeline lineno="3469"><highlight class="normal"></highlight></codeline>
<codeline lineno="3470"><highlight class="normal">InkAnnotationPrivate::InkAnnotationPrivate()</highlight></codeline>
<codeline lineno="3471"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>()</highlight></codeline>
<codeline lineno="3472"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3473"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3474"><highlight class="normal"></highlight></codeline>
<codeline lineno="3475"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>InkAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="3476"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3477"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_ink_annotation" kindref="compound">InkAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3478"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3479"><highlight class="normal"></highlight></codeline>
<codeline lineno="3480"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Note:<sp/>Caller<sp/>is<sp/>required<sp/>to<sp/>delete<sp/>array<sp/>elements<sp/>and<sp/>the<sp/>array<sp/>itself<sp/>after<sp/>use</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3481"><highlight class="normal"><ref refid="class_annot_path" kindref="compound">AnnotPath</ref><sp/>**InkAnnotationPrivate::toAnnotPaths(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;<sp/>QLinkedList&lt;QPointF&gt;<sp/>&gt;<sp/>&amp;inkPaths)</highlight></codeline>
<codeline lineno="3482"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3483"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pathsNumber<sp/>=<sp/>inkPaths.size();</highlight></codeline>
<codeline lineno="3484"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_path" kindref="compound">AnnotPath</ref><sp/>**res<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_path" kindref="compound">AnnotPath</ref>*[pathsNumber];</highlight></codeline>
<codeline lineno="3485"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pathsNumber;<sp/>++i)</highlight></codeline>
<codeline lineno="3486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res[i]<sp/>=<sp/>toAnnotPath(<sp/>inkPaths[i]<sp/>);</highlight></codeline>
<codeline lineno="3487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="3488"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3489"><highlight class="normal"></highlight></codeline>
<codeline lineno="3490"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>InkAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="3491"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setters<sp/>are<sp/>defined<sp/>in<sp/>the<sp/>public<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3493"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_ink_annotation" kindref="compound">InkAnnotation</ref><sp/>*q<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_poppler_1_1_ink_annotation" kindref="compound">InkAnnotation</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>makeAlias()<sp/>);</highlight></codeline>
<codeline lineno="3494"><highlight class="normal"></highlight></codeline>
<codeline lineno="3495"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>page<sp/>and<sp/>document</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3496"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfPage<sp/>=<sp/>destPage;</highlight></codeline>
<codeline lineno="3497"><highlight class="normal"><sp/><sp/><sp/><sp/>parentDoc<sp/>=<sp/>doc;</highlight></codeline>
<codeline lineno="3498"><highlight class="normal"></highlight></codeline>
<codeline lineno="3499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>pdfAnnot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3500"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>rect<sp/>=<sp/>boundaryToPdfRectangle(<ref refid="class_poppler_1_1_annotation_1a659d9288f67ff988f75df0fa9d3ca2fb" kindref="member">boundary</ref>,<sp/>flags);</highlight></codeline>
<codeline lineno="3501"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfAnnot<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_ink" kindref="compound">AnnotInk</ref>(destPage-&gt;getDoc(),<sp/>&amp;rect);</highlight></codeline>
<codeline lineno="3502"><highlight class="normal"></highlight></codeline>
<codeline lineno="3503"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3504"><highlight class="normal"><sp/><sp/><sp/><sp/>flushBaseAnnotationProperties();</highlight></codeline>
<codeline lineno="3505"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setInkPaths(inkPaths);</highlight></codeline>
<codeline lineno="3506"><highlight class="normal"></highlight></codeline>
<codeline lineno="3507"><highlight class="normal"><sp/><sp/><sp/><sp/>inkPaths.clear();<sp/></highlight><highlight class="comment">//<sp/>Free<sp/>up<sp/>memory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3508"><highlight class="normal"></highlight></codeline>
<codeline lineno="3509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>q;</highlight></codeline>
<codeline lineno="3510"><highlight class="normal"></highlight></codeline>
<codeline lineno="3511"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pdfAnnot;</highlight></codeline>
<codeline lineno="3512"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3513"><highlight class="normal"></highlight></codeline>
<codeline lineno="3514"><highlight class="normal">InkAnnotation::InkAnnotation()</highlight></codeline>
<codeline lineno="3515"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_ink_annotation_private" kindref="compound">InkAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="3516"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="3517"><highlight class="normal"></highlight></codeline>
<codeline lineno="3518"><highlight class="normal">InkAnnotation::InkAnnotation(<ref refid="class_poppler_1_1_ink_annotation_private" kindref="compound">InkAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="3519"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="3520"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="3521"><highlight class="normal"></highlight></codeline>
<codeline lineno="3522"><highlight class="normal">InkAnnotation::InkAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="3523"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_ink_annotation_private" kindref="compound">InkAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="3524"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3525"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;ink&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3526"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="3527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="3528"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="3530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="3531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;ink&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3533"><highlight class="normal"></highlight></codeline>
<codeline lineno="3534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>the<sp/>&apos;path&apos;<sp/>subnodes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;<sp/>QLinkedList&lt;QPointF&gt;<sp/>&gt;<sp/>paths;</highlight></codeline>
<codeline lineno="3536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomNode<sp/>pathNode<sp/>=<sp/>e.firstChild();</highlight></codeline>
<codeline lineno="3537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>pathNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="3538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>pathElement<sp/>=<sp/>pathNode.toElement();</highlight></codeline>
<codeline lineno="3540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pathNode<sp/>=<sp/>pathNode.nextSibling();</highlight></codeline>
<codeline lineno="3541"><highlight class="normal"></highlight></codeline>
<codeline lineno="3542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>pathElement.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;path&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3544"><highlight class="normal"></highlight></codeline>
<codeline lineno="3545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>build<sp/>each<sp/>path<sp/>parsing<sp/>&apos;point&apos;<sp/>subnodes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QLinkedList&lt;QPointF&gt;<sp/>path;</highlight></codeline>
<codeline lineno="3547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomNode<sp/>pointNode<sp/>=<sp/>pathElement.firstChild();</highlight></codeline>
<codeline lineno="3548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>pointNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="3549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>pointElement<sp/>=<sp/>pointNode.toElement();</highlight></codeline>
<codeline lineno="3551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pointNode<sp/>=<sp/>pointNode.nextSibling();</highlight></codeline>
<codeline lineno="3552"><highlight class="normal"></highlight></codeline>
<codeline lineno="3553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>pointElement.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;point&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3555"><highlight class="normal"></highlight></codeline>
<codeline lineno="3556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QPointF<sp/>p(pointElement.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble(),<sp/>pointElement.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble());</highlight></codeline>
<codeline lineno="3557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>path.append(<sp/>p<sp/>);</highlight></codeline>
<codeline lineno="3558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3559"><highlight class="normal"></highlight></codeline>
<codeline lineno="3560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>add<sp/>the<sp/>path<sp/>to<sp/>the<sp/>path<sp/>list<sp/>if<sp/>it<sp/>contains<sp/>at<sp/>least<sp/>2<sp/>nodes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>path.count()<sp/>&gt;=<sp/>2<sp/>)</highlight></codeline>
<codeline lineno="3562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paths.append(<sp/>path<sp/>);</highlight></codeline>
<codeline lineno="3563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setInkPaths(paths);</highlight></codeline>
<codeline lineno="3565"><highlight class="normal"></highlight></codeline>
<codeline lineno="3566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3568"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3569"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3570"><highlight class="normal"></highlight></codeline>
<codeline lineno="3571"><highlight class="normal">InkAnnotation::~InkAnnotation()</highlight></codeline>
<codeline lineno="3572"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3573"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3574"><highlight class="normal"></highlight></codeline>
<codeline lineno="3575"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>InkAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3576"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3577"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3578"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="3579"><highlight class="normal"></highlight></codeline>
<codeline lineno="3580"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[ink]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3581"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>inkElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ink&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3582"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>inkElement<sp/>);</highlight></codeline>
<codeline lineno="3583"><highlight class="normal"></highlight></codeline>
<codeline lineno="3584"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>append<sp/>the<sp/>optional<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3585"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;<sp/>QLinkedList&lt;QPointF&gt;<sp/>&gt;<sp/>paths<sp/>=<sp/>inkPaths();</highlight></codeline>
<codeline lineno="3586"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>paths.count()<sp/>&lt;<sp/>1<sp/>)</highlight></codeline>
<codeline lineno="3587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3588"><highlight class="normal"><sp/><sp/><sp/><sp/>QList&lt;<sp/>QLinkedList&lt;QPointF&gt;<sp/>&gt;::const_iterator<sp/>pIt<sp/>=<sp/>paths.begin(),<sp/>pEnd<sp/>=<sp/>paths.end();</highlight></codeline>
<codeline lineno="3589"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>;<sp/>pIt<sp/>!=<sp/>pEnd;<sp/>++pIt<sp/>)</highlight></codeline>
<codeline lineno="3590"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>pathElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;path&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inkElement.appendChild(<sp/>pathElement<sp/>);</highlight></codeline>
<codeline lineno="3593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QLinkedList&lt;QPointF&gt;<sp/>&amp;<sp/>path<sp/>=<sp/>*pIt;</highlight></codeline>
<codeline lineno="3594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QLinkedList&lt;QPointF&gt;::const_iterator<sp/>iIt<sp/>=<sp/>path.begin(),<sp/>iEnd<sp/>=<sp/>path.end();</highlight></codeline>
<codeline lineno="3595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>;<sp/>iIt<sp/>!=<sp/>iEnd;<sp/>++iIt<sp/>)</highlight></codeline>
<codeline lineno="3596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;<sp/>point<sp/>=<sp/>*iIt;</highlight></codeline>
<codeline lineno="3598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>pointElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;point&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pathElement.appendChild(<sp/>pointElement<sp/>);</highlight></codeline>
<codeline lineno="3600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pointElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;x&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>point.x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pointElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;y&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>point.y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3603"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3604"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3605"><highlight class="normal"></highlight></codeline>
<codeline lineno="3606" refid="class_poppler_1_1_ink_annotation_1a800926980dc58d7b1d805f0ca8bab73f" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_ink_annotation_1a800926980dc58d7b1d805f0ca8bab73f" kindref="member">InkAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3607"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3608"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa8d9a4dbed303724abdff7a96a88d5abb" kindref="member">AInk</ref>;</highlight></codeline>
<codeline lineno="3609"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3610"><highlight class="normal"></highlight></codeline>
<codeline lineno="3611"><highlight class="normal">QList&lt;<sp/>QLinkedList&lt;QPointF&gt;<sp/>&gt;<sp/>InkAnnotation::inkPaths()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3612"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3613"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_ink_annotation" kindref="compound">InkAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3614"><highlight class="normal"></highlight></codeline>
<codeline lineno="3615"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;inkPaths;</highlight></codeline>
<codeline lineno="3617"><highlight class="normal"></highlight></codeline>
<codeline lineno="3618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_ink" kindref="compound">AnnotInk</ref><sp/>*<sp/>inkann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_ink" kindref="compound">AnnotInk</ref><sp/>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="3619"><highlight class="normal"></highlight></codeline>
<codeline lineno="3620"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_path" kindref="compound">AnnotPath</ref><sp/>*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">*<sp/>paths<sp/>=<sp/>inkann-&gt;getInkList();</highlight></codeline>
<codeline lineno="3621"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!paths<sp/>||<sp/>!inkann-&gt;getInkListLength()<sp/>)</highlight></codeline>
<codeline lineno="3622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QList&lt;<sp/>QLinkedList&lt;QPointF&gt;<sp/>&gt;();</highlight></codeline>
<codeline lineno="3623"><highlight class="normal"></highlight></codeline>
<codeline lineno="3624"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>MTX[6];</highlight></codeline>
<codeline lineno="3625"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;fillTransformationMTX(MTX);</highlight></codeline>
<codeline lineno="3626"><highlight class="normal"></highlight></codeline>
<codeline lineno="3627"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pathsNumber<sp/>=<sp/>inkann-&gt;getInkListLength();</highlight></codeline>
<codeline lineno="3628"><highlight class="normal"><sp/><sp/><sp/><sp/>QList&lt;<sp/>QLinkedList&lt;QPointF&gt;<sp/>&gt;<sp/>inkPaths;</highlight></codeline>
<codeline lineno="3629"><highlight class="normal"><sp/><sp/><sp/><sp/>inkPaths.reserve(pathsNumber);</highlight></codeline>
<codeline lineno="3630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>m<sp/>=<sp/>0;<sp/>m<sp/>&lt;<sp/>pathsNumber;<sp/>++m)</highlight></codeline>
<codeline lineno="3631"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>transform<sp/>each<sp/>path<sp/>in<sp/>a<sp/>list<sp/>of<sp/>normalized<sp/>points<sp/>..</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QLinkedList&lt;QPointF&gt;<sp/>localList;</highlight></codeline>
<codeline lineno="3634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_path" kindref="compound">AnnotPath</ref><sp/>*<sp/>path<sp/>=<sp/>paths[<sp/>m<sp/>];</highlight></codeline>
<codeline lineno="3635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pointsNumber<sp/>=<sp/>path<sp/>?<sp/>path-&gt;getCoordsLength()<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="3636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n<sp/>=<sp/>0;<sp/>n<sp/>&lt;<sp/>pointsNumber;<sp/>++n)</highlight></codeline>
<codeline lineno="3637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QPointF<sp/>point;</highlight></codeline>
<codeline lineno="3639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>XPDFReader::transform(MTX,<sp/>path-&gt;getX(n),<sp/>path-&gt;getY(n),<sp/>point);</highlight></codeline>
<codeline lineno="3640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>localList.append(point);</highlight></codeline>
<codeline lineno="3641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>..and<sp/>add<sp/>it<sp/>to<sp/>the<sp/>annotation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inkPaths.append(<sp/>localList<sp/>);</highlight></codeline>
<codeline lineno="3644"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3645"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>inkPaths;</highlight></codeline>
<codeline lineno="3646"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3647"><highlight class="normal"></highlight></codeline>
<codeline lineno="3648"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>InkAnnotation::setInkPaths(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;<sp/>QLinkedList&lt;QPointF&gt;<sp/>&gt;<sp/>&amp;paths<sp/>)</highlight></codeline>
<codeline lineno="3649"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3650"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_ink_annotation" kindref="compound">InkAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3651"><highlight class="normal"></highlight></codeline>
<codeline lineno="3652"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="3653"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;inkPaths<sp/>=<sp/>paths;</highlight></codeline>
<codeline lineno="3655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3656"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3657"><highlight class="normal"></highlight></codeline>
<codeline lineno="3658"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_ink" kindref="compound">AnnotInk</ref><sp/>*<sp/>inkann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_ink" kindref="compound">AnnotInk</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="3659"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_path" kindref="compound">AnnotPath</ref><sp/>**annotpaths<sp/>=<sp/>d-&gt;toAnnotPaths(paths);</highlight></codeline>
<codeline lineno="3660"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pathsNumber<sp/>=<sp/>paths.size();</highlight></codeline>
<codeline lineno="3661"><highlight class="normal"><sp/><sp/><sp/><sp/>inkann-&gt;setInkList(annotpaths,<sp/>pathsNumber);</highlight></codeline>
<codeline lineno="3662"><highlight class="normal"></highlight></codeline>
<codeline lineno="3663"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pathsNumber;<sp/>++i)</highlight></codeline>
<codeline lineno="3664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>annotpaths[i];</highlight></codeline>
<codeline lineno="3665"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>annotpaths;</highlight></codeline>
<codeline lineno="3666"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3667"><highlight class="normal"></highlight></codeline>
<codeline lineno="3668"><highlight class="normal"></highlight></codeline>
<codeline lineno="3670" refid="class_poppler_1_1_link_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_link_annotation_private" kindref="compound">LinkAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="3671"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3672"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_annotation_private" kindref="compound">LinkAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="3674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>~<ref refid="class_poppler_1_1_link_annotation_private" kindref="compound">LinkAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="3675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="3676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="3677"><highlight class="normal"></highlight></codeline>
<codeline lineno="3678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link" kindref="compound">Link</ref><sp/>*<sp/>linkDestination;</highlight></codeline>
<codeline lineno="3680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LinkAnnotation::HighlightMode<sp/>linkHLMode;</highlight></codeline>
<codeline lineno="3681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QPointF<sp/>linkRegion[4];</highlight></codeline>
<codeline lineno="3682"><highlight class="normal">};</highlight></codeline>
<codeline lineno="3683"><highlight class="normal"></highlight></codeline>
<codeline lineno="3684"><highlight class="normal">LinkAnnotationPrivate::LinkAnnotationPrivate()</highlight></codeline>
<codeline lineno="3685"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>linkDestination(<sp/>0<sp/>),<sp/>linkHLMode(<sp/>LinkAnnotation::Invert<sp/>)</highlight></codeline>
<codeline lineno="3686"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3687"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3688"><highlight class="normal"></highlight></codeline>
<codeline lineno="3689"><highlight class="normal">LinkAnnotationPrivate::~LinkAnnotationPrivate()</highlight></codeline>
<codeline lineno="3690"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3691"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>linkDestination;</highlight></codeline>
<codeline lineno="3692"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3693"><highlight class="normal"></highlight></codeline>
<codeline lineno="3694"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>LinkAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="3695"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3696"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_annotation" kindref="compound">LinkAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3697"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3698"><highlight class="normal"></highlight></codeline>
<codeline lineno="3699"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>LinkAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="3700"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3701"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Not<sp/>implemented</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3702"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3703"><highlight class="normal"></highlight></codeline>
<codeline lineno="3704"><highlight class="normal">LinkAnnotation::LinkAnnotation()</highlight></codeline>
<codeline lineno="3705"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_annotation_private" kindref="compound">LinkAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="3706"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="3707"><highlight class="normal"></highlight></codeline>
<codeline lineno="3708"><highlight class="normal">LinkAnnotation::LinkAnnotation(<ref refid="class_poppler_1_1_link_annotation_private" kindref="compound">LinkAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="3709"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="3710"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="3711"><highlight class="normal"></highlight></codeline>
<codeline lineno="3712"><highlight class="normal">LinkAnnotation::LinkAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="3713"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_annotation_private" kindref="compound">LinkAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="3714"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3715"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;link&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3716"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="3717"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="3718"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="3720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="3721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;link&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3723"><highlight class="normal"></highlight></codeline>
<codeline lineno="3724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>the<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;hlmode&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="3726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinkHighlightMode((LinkAnnotation::HighlightMode)e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;hlmode&quot;</highlight><highlight class="normal">)<sp/>).toInt());</highlight></codeline>
<codeline lineno="3727"><highlight class="normal"></highlight></codeline>
<codeline lineno="3728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>all<sp/>&apos;quad&apos;<sp/>subnodes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomNode<sp/>quadNode<sp/>=<sp/>e.firstChild();</highlight></codeline>
<codeline lineno="3730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>;<sp/>quadNode.isElement();<sp/>quadNode<sp/>=<sp/>quadNode.nextSibling()<sp/>)</highlight></codeline>
<codeline lineno="3731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>qe<sp/>=<sp/>quadNode.toElement();</highlight></codeline>
<codeline lineno="3733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>qe.tagName()<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;quad&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinkRegionPoint(0,<sp/>QPointF(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ax&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble(),</highlight></codeline>
<codeline lineno="3736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ay&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble()));</highlight></codeline>
<codeline lineno="3737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinkRegionPoint(1,<sp/>QPointF(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;bx&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble(),</highlight></codeline>
<codeline lineno="3738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;by&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble()));</highlight></codeline>
<codeline lineno="3739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinkRegionPoint(2,<sp/>QPointF(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cx&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble(),</highlight></codeline>
<codeline lineno="3740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cy&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble()));</highlight></codeline>
<codeline lineno="3741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinkRegionPoint(3,<sp/>QPointF(qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;dx&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble(),</highlight></codeline>
<codeline lineno="3742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;dy&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;0.0&quot;</highlight><highlight class="normal">)<sp/>).toDouble()));</highlight></codeline>
<codeline lineno="3743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>qe.tagName()<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;link&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>type<sp/>=<sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>type<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;GoTo&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_goto" kindref="compound">Poppler::LinkGoto</ref><sp/>*<sp/>go<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_goto" kindref="compound">Poppler::LinkGoto</ref>(<sp/>QRect(),<sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;filename&quot;</highlight><highlight class="normal">)<sp/>),<sp/><ref refid="class_poppler_1_1_link_destination" kindref="compound">LinkDestination</ref>(<sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;destination&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinkDestination(go);</highlight></codeline>
<codeline lineno="3751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>type<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;Exec&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_execute" kindref="compound">Poppler::LinkExecute</ref><sp/>*<sp/>exec<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_execute" kindref="compound">Poppler::LinkExecute</ref>(<sp/>QRect(),<sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;filename&quot;</highlight><highlight class="normal">)<sp/>),<sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;parameters&quot;</highlight><highlight class="normal">)<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinkDestination(exec);</highlight></codeline>
<codeline lineno="3756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>type<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;Browse&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_browse" kindref="compound">Poppler::LinkBrowse</ref><sp/>*<sp/>browse<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_browse" kindref="compound">Poppler::LinkBrowse</ref>(<sp/>QRect(),<sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;url&quot;</highlight><highlight class="normal">)<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinkDestination(browse);</highlight></codeline>
<codeline lineno="3761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>type<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;Action&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_action_1af9c6ee08681c0993083a6f817f9d099c" kindref="member">Poppler::LinkAction::ActionType</ref><sp/>act;</highlight></codeline>
<codeline lineno="3765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>actString<sp/>=<sp/>qe.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>found<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;PageFirst&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::PageFirst;</highlight></codeline>
<codeline lineno="3769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;PagePrev&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::PagePrev;</highlight></codeline>
<codeline lineno="3771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;PageNext&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::PageNext;</highlight></codeline>
<codeline lineno="3773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;PageLast&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::PageLast;</highlight></codeline>
<codeline lineno="3775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;HistoryBack&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::HistoryBack;</highlight></codeline>
<codeline lineno="3777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;HistoryForward&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::HistoryForward;</highlight></codeline>
<codeline lineno="3779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;Quit&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::Quit;</highlight></codeline>
<codeline lineno="3781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;Presentation&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::Presentation;</highlight></codeline>
<codeline lineno="3783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;EndPresentation&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::EndPresentation;</highlight></codeline>
<codeline lineno="3785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;Find&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::Find;</highlight></codeline>
<codeline lineno="3787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;GoToPage&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::GoToPage;</highlight></codeline>
<codeline lineno="3789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;Close&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/>Poppler::LinkAction::Close;</highlight></codeline>
<codeline lineno="3791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>actString<sp/>==<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;Print&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="3792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>act<sp/>=<sp/><ref refid="class_poppler_1_1_link_action_1af9c6ee08681c0993083a6f817f9d099cade17a43b813a27e3363a3efca2e9a946" kindref="member">Poppler::LinkAction::Print</ref>;</highlight></codeline>
<codeline lineno="3793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>found<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(found)</highlight></codeline>
<codeline lineno="3796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_action" kindref="compound">Poppler::LinkAction</ref><sp/>*<sp/>action<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_action" kindref="compound">Poppler::LinkAction</ref>(<sp/>QRect(),<sp/>act<sp/>);</highlight></codeline>
<codeline lineno="3798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinkDestination(action);</highlight></codeline>
<codeline lineno="3799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3801"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>type<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;Movie&quot;</highlight><highlight class="normal"><sp/>)</highlight></codeline>
<codeline lineno="3803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_movie" kindref="compound">Poppler::LinkMovie</ref><sp/>*<sp/>movie<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_movie" kindref="compound">Poppler::LinkMovie</ref>(<sp/>QRect()<sp/>);</highlight></codeline>
<codeline lineno="3805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setLinkDestination(movie);</highlight></codeline>
<codeline lineno="3806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3807"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3810"><highlight class="normal"></highlight></codeline>
<codeline lineno="3811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3813"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3814"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3815"><highlight class="normal"></highlight></codeline>
<codeline lineno="3816"><highlight class="normal">LinkAnnotation::~LinkAnnotation()</highlight></codeline>
<codeline lineno="3817"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3818"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3819"><highlight class="normal"></highlight></codeline>
<codeline lineno="3820"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LinkAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3821"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3822"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3823"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="3824"><highlight class="normal"></highlight></codeline>
<codeline lineno="3825"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[hl]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3826"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>linkElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;link&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3827"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>linkElement<sp/>);</highlight></codeline>
<codeline lineno="3828"><highlight class="normal"></highlight></codeline>
<codeline lineno="3829"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>append<sp/>the<sp/>optional<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3830"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>linkHighlightMode()<sp/>!=<sp/>Invert<sp/>)</highlight></codeline>
<codeline lineno="3831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;hlmode&quot;</highlight><highlight class="normal">),<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)linkHighlightMode()<sp/>);</highlight></codeline>
<codeline lineno="3832"><highlight class="normal"></highlight></codeline>
<codeline lineno="3833"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>saving<sp/>region</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3834"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>quadElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;quad&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3835"><highlight class="normal"><sp/><sp/><sp/><sp/>linkElement.appendChild(<sp/>quadElement<sp/>);</highlight></codeline>
<codeline lineno="3836"><highlight class="normal"><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ax&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>linkRegionPoint(0).x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3837"><highlight class="normal"><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;ay&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>linkRegionPoint(0).y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3838"><highlight class="normal"><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;bx&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>linkRegionPoint(1).x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3839"><highlight class="normal"><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;by&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>linkRegionPoint(1).y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3840"><highlight class="normal"><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cx&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>linkRegionPoint(2).x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3841"><highlight class="normal"><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;cy&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>linkRegionPoint(2).y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3842"><highlight class="normal"><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;dx&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>linkRegionPoint(3).x()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3843"><highlight class="normal"><sp/><sp/><sp/><sp/>quadElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;dy&quot;</highlight><highlight class="normal">),<sp/>QString::number(<sp/>linkRegionPoint(3).y()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="3844"><highlight class="normal"></highlight></codeline>
<codeline lineno="3845"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>saving<sp/>link</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3846"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>hyperlinkElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;link&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3847"><highlight class="normal"><sp/><sp/><sp/><sp/>linkElement.appendChild(<sp/>hyperlinkElement<sp/>);</highlight></codeline>
<codeline lineno="3848"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>linkDestination()<sp/>)</highlight></codeline>
<codeline lineno="3849"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(<sp/>linkDestination()-&gt;linkType()<sp/>)</highlight></codeline>
<codeline lineno="3851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_1af0dacfa77a548bb043dbae4bb9dc6c1ea6afc2608d1f430835043bfe337f4622c" kindref="member">Poppler::Link::Goto</ref>:</highlight></codeline>
<codeline lineno="3853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_goto" kindref="compound">Poppler::LinkGoto</ref><sp/>*<sp/>go<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_goto" kindref="compound">Poppler::LinkGoto</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>linkDestination()<sp/>);</highlight></codeline>
<codeline lineno="3855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;GoTo&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;filename&quot;</highlight><highlight class="normal">),<sp/>go-&gt;<ref refid="class_poppler_1_1_link_goto_1a2ca06b1b69c22b92490750b6cf7487f8" kindref="member">fileName</ref>()<sp/>);</highlight></codeline>
<codeline lineno="3857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;destionation&quot;</highlight><highlight class="normal">),<sp/>go-&gt;<ref refid="class_poppler_1_1_link_goto_1aa09835c861c3c0ef32555c25f6325a22" kindref="member">destination</ref>().<ref refid="class_poppler_1_1_link_destination_1a66d3b538d8164c3ea923416fc07a0436" kindref="member">toString</ref>()<sp/>);<sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>remove<sp/>for<sp/>poppler<sp/>0.28</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;destination&quot;</highlight><highlight class="normal">),<sp/>go-&gt;<ref refid="class_poppler_1_1_link_goto_1aa09835c861c3c0ef32555c25f6325a22" kindref="member">destination</ref>().<ref refid="class_poppler_1_1_link_destination_1a66d3b538d8164c3ea923416fc07a0436" kindref="member">toString</ref>()<sp/>);</highlight></codeline>
<codeline lineno="3859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_1af0dacfa77a548bb043dbae4bb9dc6c1eaf8af25fd8fe70956b778c60bd76791d0" kindref="member">Poppler::Link::Execute</ref>:</highlight></codeline>
<codeline lineno="3862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_execute" kindref="compound">Poppler::LinkExecute</ref><sp/>*<sp/>exec<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_execute" kindref="compound">Poppler::LinkExecute</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>linkDestination()<sp/>);</highlight></codeline>
<codeline lineno="3864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Exec&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;filename&quot;</highlight><highlight class="normal">),<sp/>exec-&gt;<ref refid="class_poppler_1_1_link_execute_1a8943aa246d15145378f04f7e75f1fc02" kindref="member">fileName</ref>()<sp/>);</highlight></codeline>
<codeline lineno="3866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;parameters&quot;</highlight><highlight class="normal">),<sp/>exec-&gt;<ref refid="class_poppler_1_1_link_execute_1a1da68fd8e38290ab1a4d58a5358f3ecf" kindref="member">parameters</ref>()<sp/>);</highlight></codeline>
<codeline lineno="3867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_1af0dacfa77a548bb043dbae4bb9dc6c1ea04fb516504b7fee10e85e912ad135f8f" kindref="member">Poppler::Link::Browse</ref>:</highlight></codeline>
<codeline lineno="3870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_browse" kindref="compound">Poppler::LinkBrowse</ref><sp/>*<sp/>browse<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_browse" kindref="compound">Poppler::LinkBrowse</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>linkDestination()<sp/>);</highlight></codeline>
<codeline lineno="3872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Browse&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;url&quot;</highlight><highlight class="normal">),<sp/>browse-&gt;<ref refid="class_poppler_1_1_link_browse_1acc3885a70d0f74a34260da47a25fe6dc" kindref="member">url</ref>()<sp/>);</highlight></codeline>
<codeline lineno="3874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_1af0dacfa77a548bb043dbae4bb9dc6c1ea177c9a547cab92210d37c760adc15b4e" kindref="member">Poppler::Link::Action</ref>:</highlight></codeline>
<codeline lineno="3877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_action" kindref="compound">Poppler::LinkAction</ref><sp/>*<sp/>action<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_action" kindref="compound">Poppler::LinkAction</ref><sp/>*<sp/></highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>linkDestination()<sp/>);</highlight></codeline>
<codeline lineno="3879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Action&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>action-&gt;<ref refid="class_poppler_1_1_link_action_1aed2145fc91e2ff0a3339cb9c3cbb0d3b" kindref="member">actionType</ref>()<sp/>)</highlight></codeline>
<codeline lineno="3881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::PageFirst:</highlight></codeline>
<codeline lineno="3883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;PageFirst&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::PagePrev:</highlight></codeline>
<codeline lineno="3886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;PagePrev&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::PageNext:</highlight></codeline>
<codeline lineno="3889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;PageNext&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::PageLast:</highlight></codeline>
<codeline lineno="3892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;PageLast&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::HistoryBack:</highlight></codeline>
<codeline lineno="3895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;HistoryBack&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::HistoryForward:</highlight></codeline>
<codeline lineno="3898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;HistoryForward&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::Quit:</highlight></codeline>
<codeline lineno="3901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Quit&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::Presentation:</highlight></codeline>
<codeline lineno="3904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Presentation&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::EndPresentation:</highlight></codeline>
<codeline lineno="3907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;EndPresentation&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::Find:</highlight></codeline>
<codeline lineno="3910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Find&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::GoToPage:</highlight></codeline>
<codeline lineno="3913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;GoToPage&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Poppler::LinkAction::Close:</highlight></codeline>
<codeline lineno="3916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Close&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_action_1af9c6ee08681c0993083a6f817f9d099cade17a43b813a27e3363a3efca2e9a946" kindref="member">Poppler::LinkAction::Print</ref>:</highlight></codeline>
<codeline lineno="3919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;action&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Print&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_1af0dacfa77a548bb043dbae4bb9dc6c1eac35ddfea8c33eca84d927a2a5ed9b273" kindref="member">Poppler::Link::Movie</ref>:</highlight></codeline>
<codeline lineno="3925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Movie&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_1af0dacfa77a548bb043dbae4bb9dc6c1eaa12a9017df2c403a7c76b36e13afa5d7" kindref="member">Poppler::Link::Rendition</ref>:</highlight></codeline>
<codeline lineno="3930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hyperlinkElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;type&quot;</highlight><highlight class="normal">),<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Rendition&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="3932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_1af0dacfa77a548bb043dbae4bb9dc6c1eacca4941120e5828c81b00cc9ba0e79e7" kindref="member">Poppler::Link::Sound</ref>:</highlight></codeline>
<codeline lineno="3935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>FIXME:<sp/>implement<sp/>me</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_1af0dacfa77a548bb043dbae4bb9dc6c1ea390c5bdea33ed6a41df50fa3203982be" kindref="member">Poppler::Link::JavaScript</ref>:</highlight></codeline>
<codeline lineno="3940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>FIXME:<sp/>implement<sp/>me</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_1af0dacfa77a548bb043dbae4bb9dc6c1eacf75996fae8037e8f7471cb584fe5c9a" kindref="member">Poppler::Link::None</ref>:</highlight></codeline>
<codeline lineno="3945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3947"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3948"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3949"><highlight class="normal"></highlight></codeline>
<codeline lineno="3950" refid="class_poppler_1_1_link_annotation_1a05dbb8a3128989c44214ab9e3a1335dd" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_link_annotation_1a05dbb8a3128989c44214ab9e3a1335dd" kindref="member">LinkAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3951"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3952"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa9cf6f3b575b16e7f2bdc0133b87d7cd9" kindref="member">ALink</ref>;</highlight></codeline>
<codeline lineno="3953"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3954"><highlight class="normal"></highlight></codeline>
<codeline lineno="3955" refid="class_poppler_1_1_link_annotation_1a747e4bd67e218223cd66b0128c494194" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_link" kindref="compound">Link</ref>*<sp/><ref refid="class_poppler_1_1_link_annotation_1a747e4bd67e218223cd66b0128c494194" kindref="member">LinkAnnotation::linkDestination</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3956"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3957"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_annotation" kindref="compound">LinkAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3958"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;linkDestination;</highlight></codeline>
<codeline lineno="3959"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3960"><highlight class="normal"></highlight></codeline>
<codeline lineno="3961"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LinkAnnotation::setLinkDestination(<sp/><ref refid="class_poppler_1_1_link" kindref="compound">Link</ref><sp/>*link<sp/>)</highlight></codeline>
<codeline lineno="3962"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3963"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_link_annotation" kindref="compound">LinkAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3964"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>d-&gt;linkDestination;</highlight></codeline>
<codeline lineno="3965"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;linkDestination<sp/>=<sp/>link;</highlight></codeline>
<codeline lineno="3966"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3967"><highlight class="normal"></highlight></codeline>
<codeline lineno="3968"><highlight class="normal">LinkAnnotation::HighlightMode<sp/>LinkAnnotation::linkHighlightMode()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3969"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3970"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_annotation" kindref="compound">LinkAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3971"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;linkHLMode;</highlight></codeline>
<codeline lineno="3972"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3973"><highlight class="normal"></highlight></codeline>
<codeline lineno="3974"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LinkAnnotation::setLinkHighlightMode(<sp/>LinkAnnotation::HighlightMode<sp/>mode<sp/>)</highlight></codeline>
<codeline lineno="3975"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3976"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_link_annotation" kindref="compound">LinkAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3977"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;linkHLMode<sp/>=<sp/>mode;</highlight></codeline>
<codeline lineno="3978"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3979"><highlight class="normal"></highlight></codeline>
<codeline lineno="3980"><highlight class="normal">QPointF<sp/>LinkAnnotation::linkRegionPoint(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3981"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3982"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>id<sp/>&lt;<sp/>0<sp/>||<sp/>id<sp/>&gt;=<sp/>4<sp/>)</highlight></codeline>
<codeline lineno="3983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QPointF();</highlight></codeline>
<codeline lineno="3984"><highlight class="normal"></highlight></codeline>
<codeline lineno="3985"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_link_annotation" kindref="compound">LinkAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3986"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;linkRegion[id];</highlight></codeline>
<codeline lineno="3987"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3988"><highlight class="normal"></highlight></codeline>
<codeline lineno="3989"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LinkAnnotation::setLinkRegionPoint(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point<sp/>)</highlight></codeline>
<codeline lineno="3990"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>id<sp/>&lt;<sp/>0<sp/>||<sp/>id<sp/>&gt;=<sp/>4<sp/>)</highlight></codeline>
<codeline lineno="3992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3993"><highlight class="normal"></highlight></codeline>
<codeline lineno="3994"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_link_annotation" kindref="compound">LinkAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="3995"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;linkRegion[id]<sp/>=<sp/>point;</highlight></codeline>
<codeline lineno="3996"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3997"><highlight class="normal"></highlight></codeline>
<codeline lineno="3999" refid="class_poppler_1_1_caret_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_caret_annotation_private" kindref="compound">CaretAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="4000"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4001"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_caret_annotation_private" kindref="compound">CaretAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="4003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="4004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="4005"><highlight class="normal"></highlight></codeline>
<codeline lineno="4006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_caret_annotation_1a391714f3129aad14eb4c2e4094f6410a" kindref="member">CaretAnnotation::CaretSymbol</ref><sp/>symbol;</highlight></codeline>
<codeline lineno="4008"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4009"><highlight class="normal"></highlight></codeline>
<codeline lineno="4010"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>QString<sp/>caretSymbolToString(<sp/><ref refid="class_poppler_1_1_caret_annotation_1a391714f3129aad14eb4c2e4094f6410a" kindref="member">CaretAnnotation::CaretSymbol</ref><sp/>symbol<sp/>)</highlight></codeline>
<codeline lineno="4011"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4012"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>symbol<sp/>)</highlight></codeline>
<codeline lineno="4013"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>CaretAnnotation::None:</highlight></codeline>
<codeline lineno="4015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;None&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>CaretAnnotation::P:</highlight></codeline>
<codeline lineno="4017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;P&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4018"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4019"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QString();</highlight></codeline>
<codeline lineno="4020"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4021"><highlight class="normal"></highlight></codeline>
<codeline lineno="4022"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_caret_annotation_1a391714f3129aad14eb4c2e4094f6410a" kindref="member">CaretAnnotation::CaretSymbol</ref><sp/>caretSymbolFromString(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;symbol<sp/>)</highlight></codeline>
<codeline lineno="4023"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4024"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>symbol<sp/>==<sp/>QLatin1String(<sp/></highlight><highlight class="stringliteral">&quot;None&quot;</highlight><highlight class="normal"><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="4025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>CaretAnnotation::None;</highlight></codeline>
<codeline lineno="4026"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>symbol<sp/>==<sp/>QLatin1String(<sp/></highlight><highlight class="stringliteral">&quot;P&quot;</highlight><highlight class="normal"><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="4027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>CaretAnnotation::P;</highlight></codeline>
<codeline lineno="4028"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>CaretAnnotation::None;</highlight></codeline>
<codeline lineno="4029"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4030"><highlight class="normal"></highlight></codeline>
<codeline lineno="4031"><highlight class="normal">CaretAnnotationPrivate::CaretAnnotationPrivate()</highlight></codeline>
<codeline lineno="4032"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>symbol(<sp/>CaretAnnotation::None<sp/>)</highlight></codeline>
<codeline lineno="4033"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4034"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4035"><highlight class="normal"></highlight></codeline>
<codeline lineno="4036"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>CaretAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="4037"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4038"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_caret_annotation" kindref="compound">CaretAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4039"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4040"><highlight class="normal"></highlight></codeline>
<codeline lineno="4041"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>CaretAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="4042"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4043"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setters<sp/>are<sp/>defined<sp/>in<sp/>the<sp/>public<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4044"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_caret_annotation" kindref="compound">CaretAnnotation</ref><sp/>*q<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_poppler_1_1_caret_annotation" kindref="compound">CaretAnnotation</ref>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<sp/>makeAlias()<sp/>);</highlight></codeline>
<codeline lineno="4045"><highlight class="normal"></highlight></codeline>
<codeline lineno="4046"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>page<sp/>and<sp/>document</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4047"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfPage<sp/>=<sp/>destPage;</highlight></codeline>
<codeline lineno="4048"><highlight class="normal"><sp/><sp/><sp/><sp/>parentDoc<sp/>=<sp/>doc;</highlight></codeline>
<codeline lineno="4049"><highlight class="normal"></highlight></codeline>
<codeline lineno="4050"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>pdfAnnot</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4051"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_p_d_f_rectangle" kindref="compound">PDFRectangle</ref><sp/>rect<sp/>=<sp/>boundaryToPdfRectangle(<ref refid="class_poppler_1_1_annotation_1a659d9288f67ff988f75df0fa9d3ca2fb" kindref="member">boundary</ref>,<sp/>flags);</highlight></codeline>
<codeline lineno="4052"><highlight class="normal"><sp/><sp/><sp/><sp/>pdfAnnot<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_caret" kindref="compound">AnnotCaret</ref>(destPage-&gt;getDoc(),<sp/>&amp;rect);</highlight></codeline>
<codeline lineno="4053"><highlight class="normal"></highlight></codeline>
<codeline lineno="4054"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4055"><highlight class="normal"><sp/><sp/><sp/><sp/>flushBaseAnnotationProperties();</highlight></codeline>
<codeline lineno="4056"><highlight class="normal"><sp/><sp/><sp/><sp/>q-&gt;setCaretSymbol(symbol);</highlight></codeline>
<codeline lineno="4057"><highlight class="normal"></highlight></codeline>
<codeline lineno="4058"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>q;</highlight></codeline>
<codeline lineno="4059"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pdfAnnot;</highlight></codeline>
<codeline lineno="4060"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4061"><highlight class="normal"></highlight></codeline>
<codeline lineno="4062"><highlight class="normal">CaretAnnotation::CaretAnnotation()</highlight></codeline>
<codeline lineno="4063"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_caret_annotation_private" kindref="compound">CaretAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="4064"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4065"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4066"><highlight class="normal"></highlight></codeline>
<codeline lineno="4067"><highlight class="normal">CaretAnnotation::CaretAnnotation(<ref refid="class_poppler_1_1_caret_annotation_private" kindref="compound">CaretAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="4068"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="4069"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4070"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4071"><highlight class="normal"></highlight></codeline>
<codeline lineno="4072"><highlight class="normal">CaretAnnotation::CaretAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="4073"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_caret_annotation_private" kindref="compound">CaretAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="4074"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4075"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;caret&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4076"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="4077"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="4078"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="4080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="4081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;caret&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="4082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4083"><highlight class="normal"></highlight></codeline>
<codeline lineno="4084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parse<sp/>the<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.hasAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;symbol&quot;</highlight><highlight class="normal">)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="4086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setCaretSymbol(caretSymbolFromString(<sp/>e.attribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;symbol&quot;</highlight><highlight class="normal">)<sp/>)<sp/>));</highlight></codeline>
<codeline lineno="4087"><highlight class="normal"></highlight></codeline>
<codeline lineno="4088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4090"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4091"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4092"><highlight class="normal"></highlight></codeline>
<codeline lineno="4093"><highlight class="normal">CaretAnnotation::~CaretAnnotation()</highlight></codeline>
<codeline lineno="4094"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4095"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4096"><highlight class="normal"></highlight></codeline>
<codeline lineno="4097"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>CaretAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4098"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4099"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4100"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="4101"><highlight class="normal"></highlight></codeline>
<codeline lineno="4102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[caret]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4103"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>caretElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;caret&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="4104"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>caretElement<sp/>);</highlight></codeline>
<codeline lineno="4105"><highlight class="normal"></highlight></codeline>
<codeline lineno="4106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>append<sp/>the<sp/>optional<sp/>attributes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>caretSymbol()<sp/>!=<sp/>CaretAnnotation::None<sp/>)</highlight></codeline>
<codeline lineno="4108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caretElement.setAttribute(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;symbol&quot;</highlight><highlight class="normal">),<sp/>caretSymbolToString(<sp/>caretSymbol()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="4109"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4110"><highlight class="normal"></highlight></codeline>
<codeline lineno="4111" refid="class_poppler_1_1_caret_annotation_1a08a713ef697a4e318d20a1271d912b89" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_caret_annotation_1a08a713ef697a4e318d20a1271d912b89" kindref="member">CaretAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4112"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa32db0efab9343be54a9d18e52cd64f75" kindref="member">ACaret</ref>;</highlight></codeline>
<codeline lineno="4114"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4115"><highlight class="normal"></highlight></codeline>
<codeline lineno="4116"><highlight class="normal"><ref refid="class_poppler_1_1_caret_annotation_1a391714f3129aad14eb4c2e4094f6410a" kindref="member">CaretAnnotation::CaretSymbol</ref><sp/>CaretAnnotation::caretSymbol()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4117"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4118"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_caret_annotation" kindref="compound">CaretAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4119"><highlight class="normal"></highlight></codeline>
<codeline lineno="4120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="4121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;symbol;</highlight></codeline>
<codeline lineno="4122"><highlight class="normal"></highlight></codeline>
<codeline lineno="4123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_annot_caret" kindref="compound">AnnotCaret</ref><sp/>*<sp/>caretann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal"><ref refid="class_annot_caret" kindref="compound">AnnotCaret</ref><sp/>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="4124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="class_poppler_1_1_caret_annotation_1a391714f3129aad14eb4c2e4094f6410a" kindref="member">CaretAnnotation::CaretSymbol</ref>)caretann-&gt;getSymbol();</highlight></codeline>
<codeline lineno="4125"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4126"><highlight class="normal"></highlight></codeline>
<codeline lineno="4127"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>CaretAnnotation::setCaretSymbol(<sp/><ref refid="class_poppler_1_1_caret_annotation_1a391714f3129aad14eb4c2e4094f6410a" kindref="member">CaretAnnotation::CaretSymbol</ref><sp/>symbol<sp/>)</highlight></codeline>
<codeline lineno="4128"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4129"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_caret_annotation" kindref="compound">CaretAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4130"><highlight class="normal"></highlight></codeline>
<codeline lineno="4131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!d-&gt;pdfAnnot)</highlight></codeline>
<codeline lineno="4132"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;symbol<sp/>=<sp/>symbol;</highlight></codeline>
<codeline lineno="4134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4135"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4136"><highlight class="normal"></highlight></codeline>
<codeline lineno="4137"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_annot_caret" kindref="compound">AnnotCaret</ref><sp/>*<sp/>caretann<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="normal"><ref refid="class_annot_caret" kindref="compound">AnnotCaret</ref><sp/>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(d-&gt;pdfAnnot);</highlight></codeline>
<codeline lineno="4138"><highlight class="normal"><sp/><sp/><sp/><sp/>caretann-&gt;setSymbol((AnnotCaret::AnnotCaretSymbol)symbol);</highlight></codeline>
<codeline lineno="4139"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4140"><highlight class="normal"></highlight></codeline>
<codeline lineno="4142" refid="class_poppler_1_1_file_attachment_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_file_attachment_annotation_private" kindref="compound">FileAttachmentAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="4143"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_file_attachment_annotation_private" kindref="compound">FileAttachmentAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="4146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>~<ref refid="class_poppler_1_1_file_attachment_annotation_private" kindref="compound">FileAttachmentAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="4147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="4148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="4149"><highlight class="normal"></highlight></codeline>
<codeline lineno="4150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>icon;</highlight></codeline>
<codeline lineno="4152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_embedded_file" kindref="compound">EmbeddedFile</ref><sp/>*embfile;</highlight></codeline>
<codeline lineno="4153"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4154"><highlight class="normal"></highlight></codeline>
<codeline lineno="4155"><highlight class="normal">FileAttachmentAnnotationPrivate::FileAttachmentAnnotationPrivate()</highlight></codeline>
<codeline lineno="4156"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>icon(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;PushPin&quot;</highlight><highlight class="normal">)<sp/>),<sp/>embfile(<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="4157"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4158"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4159"><highlight class="normal"></highlight></codeline>
<codeline lineno="4160"><highlight class="normal">FileAttachmentAnnotationPrivate::~FileAttachmentAnnotationPrivate()</highlight></codeline>
<codeline lineno="4161"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>embfile;</highlight></codeline>
<codeline lineno="4163"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4164"><highlight class="normal"></highlight></codeline>
<codeline lineno="4165"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>FileAttachmentAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="4166"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_file_attachment_annotation" kindref="compound">FileAttachmentAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4168"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4169"><highlight class="normal"></highlight></codeline>
<codeline lineno="4170"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>FileAttachmentAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="4171"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Not<sp/>implemented</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4173"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4174"><highlight class="normal"></highlight></codeline>
<codeline lineno="4175"><highlight class="normal">FileAttachmentAnnotation::FileAttachmentAnnotation()</highlight></codeline>
<codeline lineno="4176"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_file_attachment_annotation_private" kindref="compound">FileAttachmentAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="4177"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4178"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4179"><highlight class="normal"></highlight></codeline>
<codeline lineno="4180"><highlight class="normal">FileAttachmentAnnotation::FileAttachmentAnnotation(<ref refid="class_poppler_1_1_file_attachment_annotation_private" kindref="compound">FileAttachmentAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="4181"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="4182"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4183"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4184"><highlight class="normal"></highlight></codeline>
<codeline lineno="4185"><highlight class="normal">FileAttachmentAnnotation::FileAttachmentAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="4186"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_file_attachment_annotation_private" kindref="compound">FileAttachmentAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="4187"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;fileattachment&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4189"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="4190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="4191"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="4193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="4194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;fileattachment&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="4195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4196"><highlight class="normal"></highlight></codeline>
<codeline lineno="4197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4199"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4200"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4201"><highlight class="normal"></highlight></codeline>
<codeline lineno="4202"><highlight class="normal">FileAttachmentAnnotation::~FileAttachmentAnnotation()</highlight></codeline>
<codeline lineno="4203"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4204"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4205"><highlight class="normal"></highlight></codeline>
<codeline lineno="4206"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>FileAttachmentAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4207"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4209"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="4210"><highlight class="normal"></highlight></codeline>
<codeline lineno="4211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[fileattachment]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4212"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>fileAttachmentElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;fileattachment&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="4213"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>fileAttachmentElement<sp/>);</highlight></codeline>
<codeline lineno="4214"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4215"><highlight class="normal"></highlight></codeline>
<codeline lineno="4216" refid="class_poppler_1_1_file_attachment_annotation_1a7c3d7b8924142ece38d3909af0cf1425" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_file_attachment_annotation_1a7c3d7b8924142ece38d3909af0cf1425" kindref="member">FileAttachmentAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4217"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa4ae26d75bb61ae5561233b3317057489" kindref="member">AFileAttachment</ref>;</highlight></codeline>
<codeline lineno="4219"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4220"><highlight class="normal"></highlight></codeline>
<codeline lineno="4221" refid="class_poppler_1_1_file_attachment_annotation_1a312ae35369786841422fa8b2ff7c5fd2" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_file_attachment_annotation_1a312ae35369786841422fa8b2ff7c5fd2" kindref="member">FileAttachmentAnnotation::fileIconName</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4222"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4223"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_file_attachment_annotation" kindref="compound">FileAttachmentAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;icon;</highlight></codeline>
<codeline lineno="4225"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4226"><highlight class="normal"></highlight></codeline>
<codeline lineno="4227" refid="class_poppler_1_1_file_attachment_annotation_1a09f0977d356503ab7e92bdf7fbf5d53e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_file_attachment_annotation_1a09f0977d356503ab7e92bdf7fbf5d53e" kindref="member">FileAttachmentAnnotation::setFileIconName</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;icon<sp/>)</highlight></codeline>
<codeline lineno="4228"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4229"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_file_attachment_annotation" kindref="compound">FileAttachmentAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4230"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;icon<sp/>=<sp/>icon;</highlight></codeline>
<codeline lineno="4231"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4232"><highlight class="normal"></highlight></codeline>
<codeline lineno="4233" refid="class_poppler_1_1_file_attachment_annotation_1a619d16ea3943127df658ae9f7233e06f" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_embedded_file" kindref="compound">EmbeddedFile</ref>*<sp/><ref refid="class_poppler_1_1_file_attachment_annotation_1a619d16ea3943127df658ae9f7233e06f" kindref="member">FileAttachmentAnnotation::embeddedFile</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4234"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4235"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_file_attachment_annotation" kindref="compound">FileAttachmentAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;embfile;</highlight></codeline>
<codeline lineno="4237"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4238"><highlight class="normal"></highlight></codeline>
<codeline lineno="4239" refid="class_poppler_1_1_file_attachment_annotation_1a324a0da1bfb565820f63276bf5b01f25" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_file_attachment_annotation_1a324a0da1bfb565820f63276bf5b01f25" kindref="member">FileAttachmentAnnotation::setEmbeddedFile</ref>(<sp/><ref refid="class_poppler_1_1_embedded_file" kindref="compound">EmbeddedFile</ref><sp/>*ef<sp/>)</highlight></codeline>
<codeline lineno="4240"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4241"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_file_attachment_annotation" kindref="compound">FileAttachmentAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4242"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;embfile<sp/>=<sp/>ef;</highlight></codeline>
<codeline lineno="4243"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4244"><highlight class="normal"></highlight></codeline>
<codeline lineno="4246" refid="class_poppler_1_1_sound_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_sound_annotation_private" kindref="compound">SoundAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="4247"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_sound_annotation_private" kindref="compound">SoundAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="4250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>~<ref refid="class_poppler_1_1_sound_annotation_private" kindref="compound">SoundAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="4251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="4252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="4253"><highlight class="normal"></highlight></codeline>
<codeline lineno="4254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>icon;</highlight></codeline>
<codeline lineno="4256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_sound_object" kindref="compound">SoundObject</ref><sp/>*sound;</highlight></codeline>
<codeline lineno="4257"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4258"><highlight class="normal"></highlight></codeline>
<codeline lineno="4259"><highlight class="normal">SoundAnnotationPrivate::SoundAnnotationPrivate()</highlight></codeline>
<codeline lineno="4260"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>icon(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;Speaker&quot;</highlight><highlight class="normal">)<sp/>),<sp/>sound(<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="4261"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4262"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4263"><highlight class="normal"></highlight></codeline>
<codeline lineno="4264"><highlight class="normal">SoundAnnotationPrivate::~SoundAnnotationPrivate()</highlight></codeline>
<codeline lineno="4265"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>sound;</highlight></codeline>
<codeline lineno="4267"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4268"><highlight class="normal"></highlight></codeline>
<codeline lineno="4269"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>SoundAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="4270"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4271"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_sound_annotation" kindref="compound">SoundAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4272"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4273"><highlight class="normal"></highlight></codeline>
<codeline lineno="4274"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>SoundAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="4275"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Not<sp/>implemented</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4277"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4278"><highlight class="normal"></highlight></codeline>
<codeline lineno="4279"><highlight class="normal">SoundAnnotation::SoundAnnotation()</highlight></codeline>
<codeline lineno="4280"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_sound_annotation_private" kindref="compound">SoundAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="4281"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4282"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4283"><highlight class="normal"></highlight></codeline>
<codeline lineno="4284"><highlight class="normal">SoundAnnotation::SoundAnnotation(<ref refid="class_poppler_1_1_sound_annotation_private" kindref="compound">SoundAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="4285"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="4286"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4287"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4288"><highlight class="normal"></highlight></codeline>
<codeline lineno="4289"><highlight class="normal">SoundAnnotation::SoundAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="4290"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_sound_annotation_private" kindref="compound">SoundAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="4291"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;sound&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4293"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="4294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="4295"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="4297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="4298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;sound&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="4299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4300"><highlight class="normal"></highlight></codeline>
<codeline lineno="4301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4303"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4304"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4305"><highlight class="normal"></highlight></codeline>
<codeline lineno="4306"><highlight class="normal">SoundAnnotation::~SoundAnnotation()</highlight></codeline>
<codeline lineno="4307"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4308"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4309"><highlight class="normal"></highlight></codeline>
<codeline lineno="4310"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>SoundAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4311"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4313"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="4314"><highlight class="normal"></highlight></codeline>
<codeline lineno="4315"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[sound]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4316"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>soundElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;sound&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="4317"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>soundElement<sp/>);</highlight></codeline>
<codeline lineno="4318"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4319"><highlight class="normal"></highlight></codeline>
<codeline lineno="4320" refid="class_poppler_1_1_sound_annotation_1af66d5ce084a1ac8ad21a2102942bf909" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_sound_annotation_1af66d5ce084a1ac8ad21a2102942bf909" kindref="member">SoundAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4321"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa4f378fc5e31f79f9b75009b492f505d2" kindref="member">ASound</ref>;</highlight></codeline>
<codeline lineno="4323"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4324"><highlight class="normal"></highlight></codeline>
<codeline lineno="4325" refid="class_poppler_1_1_sound_annotation_1a7d92e049c31d42255995411463bb0fb0" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_sound_annotation_1a7d92e049c31d42255995411463bb0fb0" kindref="member">SoundAnnotation::soundIconName</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4326"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4327"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_sound_annotation" kindref="compound">SoundAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;icon;</highlight></codeline>
<codeline lineno="4329"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4330"><highlight class="normal"></highlight></codeline>
<codeline lineno="4331" refid="class_poppler_1_1_sound_annotation_1a704b034328ff00f43f9f050ba1765f56" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_sound_annotation_1a704b034328ff00f43f9f050ba1765f56" kindref="member">SoundAnnotation::setSoundIconName</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;icon<sp/>)</highlight></codeline>
<codeline lineno="4332"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4333"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_sound_annotation" kindref="compound">SoundAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4334"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;icon<sp/>=<sp/>icon;</highlight></codeline>
<codeline lineno="4335"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4336"><highlight class="normal"></highlight></codeline>
<codeline lineno="4337" refid="class_poppler_1_1_sound_annotation_1a91dc567a9d1848f7c9cd0327c7f83fd9" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_sound_object" kindref="compound">SoundObject</ref>*<sp/><ref refid="class_poppler_1_1_sound_annotation_1a91dc567a9d1848f7c9cd0327c7f83fd9" kindref="member">SoundAnnotation::sound</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4338"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4339"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_sound_annotation" kindref="compound">SoundAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;sound;</highlight></codeline>
<codeline lineno="4341"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4342"><highlight class="normal"></highlight></codeline>
<codeline lineno="4343" refid="class_poppler_1_1_sound_annotation_1a2e2bd7ca5cd1713b3623682d1e884844" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_sound_annotation_1a2e2bd7ca5cd1713b3623682d1e884844" kindref="member">SoundAnnotation::setSound</ref>(<sp/><ref refid="class_poppler_1_1_sound_object" kindref="compound">SoundObject</ref><sp/>*s<sp/>)</highlight></codeline>
<codeline lineno="4344"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4345"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_sound_annotation" kindref="compound">SoundAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4346"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;sound<sp/>=<sp/>s;</highlight></codeline>
<codeline lineno="4347"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4348"><highlight class="normal"></highlight></codeline>
<codeline lineno="4350" refid="class_poppler_1_1_movie_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_movie_annotation_private" kindref="compound">MovieAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="4351"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4352"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_movie_annotation_private" kindref="compound">MovieAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="4354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>~<ref refid="class_poppler_1_1_movie_annotation_private" kindref="compound">MovieAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="4355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="4356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="4357"><highlight class="normal"></highlight></codeline>
<codeline lineno="4358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_movie_object" kindref="compound">MovieObject</ref><sp/>*movie;</highlight></codeline>
<codeline lineno="4360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>title;</highlight></codeline>
<codeline lineno="4361"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4362"><highlight class="normal"></highlight></codeline>
<codeline lineno="4363"><highlight class="normal">MovieAnnotationPrivate::MovieAnnotationPrivate()</highlight></codeline>
<codeline lineno="4364"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>movie(<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="4365"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4366"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4367"><highlight class="normal"></highlight></codeline>
<codeline lineno="4368"><highlight class="normal">MovieAnnotationPrivate::~MovieAnnotationPrivate()</highlight></codeline>
<codeline lineno="4369"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4370"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>movie;</highlight></codeline>
<codeline lineno="4371"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4372"><highlight class="normal"></highlight></codeline>
<codeline lineno="4373"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>MovieAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="4374"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4375"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_movie_annotation" kindref="compound">MovieAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4376"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4377"><highlight class="normal"></highlight></codeline>
<codeline lineno="4378"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>MovieAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="4379"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Not<sp/>implemented</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4381"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4382"><highlight class="normal"></highlight></codeline>
<codeline lineno="4383"><highlight class="normal">MovieAnnotation::MovieAnnotation()</highlight></codeline>
<codeline lineno="4384"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_movie_annotation_private" kindref="compound">MovieAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="4385"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4386"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4387"><highlight class="normal"></highlight></codeline>
<codeline lineno="4388"><highlight class="normal">MovieAnnotation::MovieAnnotation(<ref refid="class_poppler_1_1_movie_annotation_private" kindref="compound">MovieAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="4389"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="4390"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4391"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4392"><highlight class="normal"></highlight></codeline>
<codeline lineno="4393"><highlight class="normal">MovieAnnotation::MovieAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="4394"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_movie_annotation_private" kindref="compound">MovieAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="4395"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;movie&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4397"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="4398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="4399"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="4401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="4402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;movie&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="4403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4404"><highlight class="normal"></highlight></codeline>
<codeline lineno="4405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4407"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4408"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4409"><highlight class="normal"></highlight></codeline>
<codeline lineno="4410"><highlight class="normal">MovieAnnotation::~MovieAnnotation()</highlight></codeline>
<codeline lineno="4411"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4412"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4413"><highlight class="normal"></highlight></codeline>
<codeline lineno="4414"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>MovieAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4415"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4417"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="4418"><highlight class="normal"></highlight></codeline>
<codeline lineno="4419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[movie]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4420"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>movieElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;movie&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="4421"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>movieElement<sp/>);</highlight></codeline>
<codeline lineno="4422"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4423"><highlight class="normal"></highlight></codeline>
<codeline lineno="4424" refid="class_poppler_1_1_movie_annotation_1ab4443ef588d984f52fcb93669da3e88d" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_movie_annotation_1ab4443ef588d984f52fcb93669da3e88d" kindref="member">MovieAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4425"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa4bfc2a21c8bad606d508152c9d89ba78" kindref="member">AMovie</ref>;</highlight></codeline>
<codeline lineno="4427"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4428"><highlight class="normal"></highlight></codeline>
<codeline lineno="4429" refid="class_poppler_1_1_movie_annotation_1a52809d1fa36ab37fe44f51e55c1c06cf" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_movie_object" kindref="compound">MovieObject</ref>*<sp/><ref refid="class_poppler_1_1_movie_annotation_1a52809d1fa36ab37fe44f51e55c1c06cf" kindref="member">MovieAnnotation::movie</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4430"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4431"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_movie_annotation" kindref="compound">MovieAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;movie;</highlight></codeline>
<codeline lineno="4433"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4434"><highlight class="normal"></highlight></codeline>
<codeline lineno="4435" refid="class_poppler_1_1_movie_annotation_1a6f7d27ddbeaa1e55dd0b41c7ed4a0eed" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_movie_annotation_1a6f7d27ddbeaa1e55dd0b41c7ed4a0eed" kindref="member">MovieAnnotation::setMovie</ref>(<sp/><ref refid="class_poppler_1_1_movie_object" kindref="compound">MovieObject</ref><sp/>*movie<sp/>)</highlight></codeline>
<codeline lineno="4436"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4437"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_movie_annotation" kindref="compound">MovieAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4438"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;movie<sp/>=<sp/>movie;</highlight></codeline>
<codeline lineno="4439"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4440"><highlight class="normal"></highlight></codeline>
<codeline lineno="4441" refid="class_poppler_1_1_movie_annotation_1a89535a87130b5cfc16bd42106c79e005" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_movie_annotation_1a89535a87130b5cfc16bd42106c79e005" kindref="member">MovieAnnotation::movieTitle</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4442"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4443"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_movie_annotation" kindref="compound">MovieAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;title;</highlight></codeline>
<codeline lineno="4445"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4446"><highlight class="normal"></highlight></codeline>
<codeline lineno="4447" refid="class_poppler_1_1_movie_annotation_1a446aa7855bfe9e4bf75b795dd0dd0019" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_movie_annotation_1a446aa7855bfe9e4bf75b795dd0dd0019" kindref="member">MovieAnnotation::setMovieTitle</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;title<sp/>)</highlight></codeline>
<codeline lineno="4448"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4449"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_movie_annotation" kindref="compound">MovieAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4450"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;title<sp/>=<sp/>title;</highlight></codeline>
<codeline lineno="4451"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4452"><highlight class="normal"></highlight></codeline>
<codeline lineno="4454" refid="class_poppler_1_1_screen_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_screen_annotation_private" kindref="compound">ScreenAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="4455"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_screen_annotation_private" kindref="compound">ScreenAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="4458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>~<ref refid="class_poppler_1_1_screen_annotation_private" kindref="compound">ScreenAnnotationPrivate</ref>();</highlight></codeline>
<codeline lineno="4459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="4460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="4461"><highlight class="normal"></highlight></codeline>
<codeline lineno="4462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>data<sp/>fields</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_link_rendition" kindref="compound">LinkRendition</ref><sp/>*action;</highlight></codeline>
<codeline lineno="4464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>title;</highlight></codeline>
<codeline lineno="4465"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4466"><highlight class="normal"></highlight></codeline>
<codeline lineno="4467"><highlight class="normal">ScreenAnnotationPrivate::ScreenAnnotationPrivate()</highlight></codeline>
<codeline lineno="4468"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref>(),<sp/>action(<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="4469"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4470"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4471"><highlight class="normal"></highlight></codeline>
<codeline lineno="4472"><highlight class="normal">ScreenAnnotationPrivate::~ScreenAnnotationPrivate()</highlight></codeline>
<codeline lineno="4473"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>action;</highlight></codeline>
<codeline lineno="4475"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4476"><highlight class="normal"></highlight></codeline>
<codeline lineno="4477"><highlight class="normal">ScreenAnnotation::ScreenAnnotation(<ref refid="class_poppler_1_1_screen_annotation_private" kindref="compound">ScreenAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="4478"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="4479"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="4480"><highlight class="normal"></highlight></codeline>
<codeline lineno="4481"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>ScreenAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="4482"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4483"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_screen_annotation" kindref="compound">ScreenAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4484"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4485"><highlight class="normal"></highlight></codeline>
<codeline lineno="4486"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>ScreenAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="4487"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Not<sp/>implemented</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4489"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4490"><highlight class="normal"></highlight></codeline>
<codeline lineno="4491"><highlight class="normal">ScreenAnnotation::ScreenAnnotation()</highlight></codeline>
<codeline lineno="4492"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_screen_annotation_private" kindref="compound">ScreenAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="4493"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4494"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4495"><highlight class="normal"></highlight></codeline>
<codeline lineno="4496"><highlight class="normal">ScreenAnnotation::~ScreenAnnotation()</highlight></codeline>
<codeline lineno="4497"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4498"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4499"><highlight class="normal"></highlight></codeline>
<codeline lineno="4500"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ScreenAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4501"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4503"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="4504"><highlight class="normal"></highlight></codeline>
<codeline lineno="4505"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[screen]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4506"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>screenElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;screen&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="4507"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>screenElement<sp/>);</highlight></codeline>
<codeline lineno="4508"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4509"><highlight class="normal"></highlight></codeline>
<codeline lineno="4510" refid="class_poppler_1_1_screen_annotation_1a7a8076dfda640ecf040db9acdd8b3ecf" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_screen_annotation_1a7a8076dfda640ecf040db9acdd8b3ecf" kindref="member">ScreenAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4511"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4512"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fab7e5d7275ead1db82ecf0c2ac190accc" kindref="member">AScreen</ref>;</highlight></codeline>
<codeline lineno="4513"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4514"><highlight class="normal"></highlight></codeline>
<codeline lineno="4515" refid="class_poppler_1_1_screen_annotation_1a01cae5bce049e1a6c3956ca53491832c" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_link_rendition" kindref="compound">LinkRendition</ref>*<sp/><ref refid="class_poppler_1_1_screen_annotation_1a01cae5bce049e1a6c3956ca53491832c" kindref="member">ScreenAnnotation::action</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4516"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4517"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_screen_annotation" kindref="compound">ScreenAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;action;</highlight></codeline>
<codeline lineno="4519"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4520"><highlight class="normal"></highlight></codeline>
<codeline lineno="4521" refid="class_poppler_1_1_screen_annotation_1a1df5efe49b6f8f5333324cbef856519f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_screen_annotation_1a1df5efe49b6f8f5333324cbef856519f" kindref="member">ScreenAnnotation::setAction</ref>(<sp/><ref refid="class_poppler_1_1_link_rendition" kindref="compound">LinkRendition</ref><sp/>*action<sp/>)</highlight></codeline>
<codeline lineno="4522"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4523"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_screen_annotation" kindref="compound">ScreenAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4524"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;action<sp/>=<sp/>action;</highlight></codeline>
<codeline lineno="4525"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4526"><highlight class="normal"></highlight></codeline>
<codeline lineno="4527" refid="class_poppler_1_1_screen_annotation_1aefb1b8c92fa3c3ca3b2975282fd7cefa" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_screen_annotation_1aefb1b8c92fa3c3ca3b2975282fd7cefa" kindref="member">ScreenAnnotation::screenTitle</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4528"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4529"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_screen_annotation" kindref="compound">ScreenAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4530"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;title;</highlight></codeline>
<codeline lineno="4531"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4532"><highlight class="normal"></highlight></codeline>
<codeline lineno="4533" refid="class_poppler_1_1_screen_annotation_1aa9169592f12287f9c7242bef0d31ae87" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_screen_annotation_1aa9169592f12287f9c7242bef0d31ae87" kindref="member">ScreenAnnotation::setScreenTitle</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;title<sp/>)</highlight></codeline>
<codeline lineno="4534"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4535"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_screen_annotation" kindref="compound">ScreenAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4536"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;title<sp/>=<sp/>title;</highlight></codeline>
<codeline lineno="4537"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4538"><highlight class="normal"></highlight></codeline>
<codeline lineno="4539" refid="class_poppler_1_1_screen_annotation_1a55123502cb0672be387a6abeddf10b55" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_link" kindref="compound">Link</ref>*<sp/><ref refid="class_poppler_1_1_screen_annotation_1a55123502cb0672be387a6abeddf10b55" kindref="member">ScreenAnnotation::additionalAction</ref>(<sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97" kindref="member">AdditionalActionType</ref><sp/>type<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4540"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4541"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_screen_annotation" kindref="compound">ScreenAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4542"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;additionalAction(<sp/>type<sp/>);</highlight></codeline>
<codeline lineno="4543"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4544"><highlight class="normal"></highlight></codeline>
<codeline lineno="4546" refid="class_poppler_1_1_widget_annotation_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_widget_annotation_private" kindref="compound">WidgetAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="4547"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4548"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias();</highlight></codeline>
<codeline lineno="4550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc);</highlight></codeline>
<codeline lineno="4551"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4552"><highlight class="normal"></highlight></codeline>
<codeline lineno="4553"><highlight class="normal"><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>WidgetAnnotationPrivate::makeAlias()</highlight></codeline>
<codeline lineno="4554"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4555"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_widget_annotation" kindref="compound">WidgetAnnotation</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4556"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4557"><highlight class="normal"></highlight></codeline>
<codeline lineno="4558"><highlight class="normal"><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>WidgetAnnotationPrivate::createNativeAnnot(::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc)</highlight></codeline>
<codeline lineno="4559"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4560"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;<sp/></highlight><highlight class="comment">//<sp/>Not<sp/>implemented</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4561"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4562"><highlight class="normal"></highlight></codeline>
<codeline lineno="4563"><highlight class="normal">WidgetAnnotation::WidgetAnnotation(<ref refid="class_poppler_1_1_widget_annotation_private" kindref="compound">WidgetAnnotationPrivate</ref><sp/>&amp;dd)</highlight></codeline>
<codeline lineno="4564"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="4565"><highlight class="normal">{}</highlight></codeline>
<codeline lineno="4566"><highlight class="normal"></highlight></codeline>
<codeline lineno="4567"><highlight class="normal">WidgetAnnotation::WidgetAnnotation()</highlight></codeline>
<codeline lineno="4568"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_widget_annotation_private" kindref="compound">WidgetAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="4569"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4570"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4571"><highlight class="normal"></highlight></codeline>
<codeline lineno="4572"><highlight class="normal">WidgetAnnotation::~WidgetAnnotation()</highlight></codeline>
<codeline lineno="4573"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4574"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4575"><highlight class="normal"></highlight></codeline>
<codeline lineno="4576"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>WidgetAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4577"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4578"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4579"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="4580"><highlight class="normal"></highlight></codeline>
<codeline lineno="4581"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[widget]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4582"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>widgetElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;widget&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="4583"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>widgetElement<sp/>);</highlight></codeline>
<codeline lineno="4584"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4585"><highlight class="normal"></highlight></codeline>
<codeline lineno="4586" refid="class_poppler_1_1_widget_annotation_1a7ddc61e33e4418459f3a266ceea2b5a4" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_widget_annotation_1a7ddc61e33e4418459f3a266ceea2b5a4" kindref="member">WidgetAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4587"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4588"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa2ebaab2ce6030d1f99dc0596b71bdd8e" kindref="member">AWidget</ref>;</highlight></codeline>
<codeline lineno="4589"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4590"><highlight class="normal"></highlight></codeline>
<codeline lineno="4591" refid="class_poppler_1_1_widget_annotation_1aa0c058e4a88b0abf9d717fe7f688a548" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_link" kindref="compound">Link</ref>*<sp/><ref refid="class_poppler_1_1_widget_annotation_1aa0c058e4a88b0abf9d717fe7f688a548" kindref="member">WidgetAnnotation::additionalAction</ref>(<sp/><ref refid="class_poppler_1_1_annotation_1adab1fa85588b8f9fcdf20cdf37c1be97" kindref="member">AdditionalActionType</ref><sp/>type<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4592"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4593"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_widget_annotation" kindref="compound">WidgetAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="4594"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;additionalAction(<sp/>type<sp/>);</highlight></codeline>
<codeline lineno="4595"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4596"><highlight class="normal"></highlight></codeline>
<codeline lineno="4598" refid="class_poppler_1_1_rich_media_annotation_1_1_params_1_1_private" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_params_1_1_private" kindref="compound">RichMediaAnnotation::Params::Private</ref></highlight></codeline>
<codeline lineno="4599"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4600"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_params_1_1_private" kindref="compound">Private</ref>()<sp/>{}</highlight></codeline>
<codeline lineno="4602"><highlight class="normal"></highlight></codeline>
<codeline lineno="4603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>flashVars;</highlight></codeline>
<codeline lineno="4604"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4605"><highlight class="normal"></highlight></codeline>
<codeline lineno="4606"><highlight class="normal">RichMediaAnnotation::Params::Params()</highlight></codeline>
<codeline lineno="4607"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_params_1_1_private" kindref="compound">Private</ref><sp/>)</highlight></codeline>
<codeline lineno="4608"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4609"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4610"><highlight class="normal"></highlight></codeline>
<codeline lineno="4611"><highlight class="normal">RichMediaAnnotation::Params::~Params()</highlight></codeline>
<codeline lineno="4612"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4613"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4614"><highlight class="normal"></highlight></codeline>
<codeline lineno="4615"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Params::setFlashVars(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;flashVars<sp/>)</highlight></codeline>
<codeline lineno="4616"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4617"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;flashVars<sp/>=<sp/>flashVars;</highlight></codeline>
<codeline lineno="4618"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4619"><highlight class="normal"></highlight></codeline>
<codeline lineno="4620" refid="class_poppler_1_1_rich_media_annotation_1_1_params_1a9f8246894a1fe172f8bb546f7282167e" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_params_1a9f8246894a1fe172f8bb546f7282167e" kindref="member">RichMediaAnnotation::Params::flashVars</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4621"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4622"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;flashVars;</highlight></codeline>
<codeline lineno="4623"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4624"><highlight class="normal"></highlight></codeline>
<codeline lineno="4625"><highlight class="normal"></highlight></codeline>
<codeline lineno="4626" refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1_1_private" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1_1_private" kindref="compound">RichMediaAnnotation::Instance::Private</ref></highlight></codeline>
<codeline lineno="4627"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4628"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="4630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>params(<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="4631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4633"><highlight class="normal"></highlight></codeline>
<codeline lineno="4634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>~<ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="4635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>params;</highlight></codeline>
<codeline lineno="4637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4638"><highlight class="normal"></highlight></codeline>
<codeline lineno="4639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1ae1f530939f7bd947ac119b7315f5ec44" kindref="member">RichMediaAnnotation::Instance::Type</ref><sp/>type;</highlight></codeline>
<codeline lineno="4640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_params" kindref="compound">RichMediaAnnotation::Params</ref><sp/>*params;</highlight></codeline>
<codeline lineno="4641"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4642"><highlight class="normal"></highlight></codeline>
<codeline lineno="4643"><highlight class="normal">RichMediaAnnotation::Instance::Instance()</highlight></codeline>
<codeline lineno="4644"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1_1_private" kindref="compound">Private</ref><sp/>)</highlight></codeline>
<codeline lineno="4645"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4646"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4647"><highlight class="normal"></highlight></codeline>
<codeline lineno="4648"><highlight class="normal">RichMediaAnnotation::Instance::~Instance()</highlight></codeline>
<codeline lineno="4649"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4650"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4651"><highlight class="normal"></highlight></codeline>
<codeline lineno="4652"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Instance::setType(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1ae1f530939f7bd947ac119b7315f5ec44" kindref="member">Type</ref><sp/>type<sp/>)</highlight></codeline>
<codeline lineno="4653"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4654"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;type<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="4655"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4656"><highlight class="normal"></highlight></codeline>
<codeline lineno="4657" refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1aa6958f1d141612cf71cda12edbcf27b0" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1ae1f530939f7bd947ac119b7315f5ec44" kindref="member">RichMediaAnnotation::Instance::Type</ref><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1aa6958f1d141612cf71cda12edbcf27b0" kindref="member">RichMediaAnnotation::Instance::type</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4658"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4659"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;type;</highlight></codeline>
<codeline lineno="4660"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4661"><highlight class="normal"></highlight></codeline>
<codeline lineno="4662"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Instance::setParams(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_params" kindref="compound">RichMediaAnnotation::Params</ref><sp/>*params<sp/>)</highlight></codeline>
<codeline lineno="4663"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4664"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>d-&gt;params;</highlight></codeline>
<codeline lineno="4665"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;params<sp/>=<sp/>params;</highlight></codeline>
<codeline lineno="4666"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4667"><highlight class="normal"></highlight></codeline>
<codeline lineno="4668" refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1ada9518a7bc3d819c70e8739aa00b2922" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_params" kindref="compound">RichMediaAnnotation::Params</ref>*<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_instance_1ada9518a7bc3d819c70e8739aa00b2922" kindref="member">RichMediaAnnotation::Instance::params</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4669"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4670"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;params;</highlight></codeline>
<codeline lineno="4671"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4672"><highlight class="normal"></highlight></codeline>
<codeline lineno="4673"><highlight class="normal"></highlight></codeline>
<codeline lineno="4674" refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1_1_private" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1_1_private" kindref="compound">RichMediaAnnotation::Configuration::Private</ref></highlight></codeline>
<codeline lineno="4675"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4676"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1_1_private" kindref="compound">Private</ref>()<sp/>{}</highlight></codeline>
<codeline lineno="4678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>~<ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="4679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qDeleteAll(<sp/>instances<sp/>);</highlight></codeline>
<codeline lineno="4681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>instances.clear();</highlight></codeline>
<codeline lineno="4682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4683"><highlight class="normal"></highlight></codeline>
<codeline lineno="4684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1a1ea5d0aa668b750c50d3c9ae53f31e3b" kindref="member">RichMediaAnnotation::Configuration::Type</ref><sp/>type;</highlight></codeline>
<codeline lineno="4685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>name;</highlight></codeline>
<codeline lineno="4686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;<sp/>RichMediaAnnotation::Instance*<sp/>&gt;<sp/>instances;</highlight></codeline>
<codeline lineno="4687"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4688"><highlight class="normal"></highlight></codeline>
<codeline lineno="4689"><highlight class="normal">RichMediaAnnotation::Configuration::Configuration()</highlight></codeline>
<codeline lineno="4690"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1_1_private" kindref="compound">Private</ref><sp/>)</highlight></codeline>
<codeline lineno="4691"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4692"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4693"><highlight class="normal"></highlight></codeline>
<codeline lineno="4694"><highlight class="normal">RichMediaAnnotation::Configuration::~Configuration()</highlight></codeline>
<codeline lineno="4695"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4696"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4697"><highlight class="normal"></highlight></codeline>
<codeline lineno="4698"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Configuration::setType(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1a1ea5d0aa668b750c50d3c9ae53f31e3b" kindref="member">Type</ref><sp/>type<sp/>)</highlight></codeline>
<codeline lineno="4699"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4700"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;type<sp/>=<sp/>type;</highlight></codeline>
<codeline lineno="4701"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4702"><highlight class="normal"></highlight></codeline>
<codeline lineno="4703" refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1a70435cb349ad43b0a286d38ab152712a" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1a1ea5d0aa668b750c50d3c9ae53f31e3b" kindref="member">RichMediaAnnotation::Configuration::Type</ref><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1a70435cb349ad43b0a286d38ab152712a" kindref="member">RichMediaAnnotation::Configuration::type</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4704"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4705"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;type;</highlight></codeline>
<codeline lineno="4706"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4707"><highlight class="normal"></highlight></codeline>
<codeline lineno="4708"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Configuration::setName(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;name<sp/>)</highlight></codeline>
<codeline lineno="4709"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4710"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;name<sp/>=<sp/>name;</highlight></codeline>
<codeline lineno="4711"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4712"><highlight class="normal"></highlight></codeline>
<codeline lineno="4713" refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1afc69d02cfa4456428cc397280bdcc5c1" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1afc69d02cfa4456428cc397280bdcc5c1" kindref="member">RichMediaAnnotation::Configuration::name</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4714"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4715"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;name;</highlight></codeline>
<codeline lineno="4716"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4717"><highlight class="normal"></highlight></codeline>
<codeline lineno="4718"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Configuration::setInstances(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;<sp/>RichMediaAnnotation::Instance*<sp/>&gt;<sp/>&amp;instances<sp/>)</highlight></codeline>
<codeline lineno="4719"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4720"><highlight class="normal"><sp/><sp/><sp/><sp/>qDeleteAll(<sp/>d-&gt;instances<sp/>);</highlight></codeline>
<codeline lineno="4721"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;instances.clear();</highlight></codeline>
<codeline lineno="4722"><highlight class="normal"></highlight></codeline>
<codeline lineno="4723"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;instances<sp/>=<sp/>instances;</highlight></codeline>
<codeline lineno="4724"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4725"><highlight class="normal"></highlight></codeline>
<codeline lineno="4726" refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1ae062ca0d1f67e9a5e2b19c921c72551b" refkind="member"><highlight class="normal">QList&lt;<sp/>RichMediaAnnotation::Instance*<sp/>&gt;<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_configuration_1ae062ca0d1f67e9a5e2b19c921c72551b" kindref="member">RichMediaAnnotation::Configuration::instances</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4727"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4728"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;instances;</highlight></codeline>
<codeline lineno="4729"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4730"><highlight class="normal"></highlight></codeline>
<codeline lineno="4731"><highlight class="normal"></highlight></codeline>
<codeline lineno="4732" refid="class_poppler_1_1_rich_media_annotation_1_1_asset_1_1_private" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_asset_1_1_private" kindref="compound">RichMediaAnnotation::Asset::Private</ref></highlight></codeline>
<codeline lineno="4733"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4734"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_asset_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="4736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>embeddedFile(<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="4737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4739"><highlight class="normal"></highlight></codeline>
<codeline lineno="4740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>~<ref refid="class_poppler_1_1_rich_media_annotation_1_1_asset_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="4741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>embeddedFile;</highlight></codeline>
<codeline lineno="4743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4744"><highlight class="normal"></highlight></codeline>
<codeline lineno="4745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QString<sp/>name;</highlight></codeline>
<codeline lineno="4746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_embedded_file" kindref="compound">EmbeddedFile</ref><sp/>*embeddedFile;</highlight></codeline>
<codeline lineno="4747"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4748"><highlight class="normal"></highlight></codeline>
<codeline lineno="4749"><highlight class="normal">RichMediaAnnotation::Asset::Asset()</highlight></codeline>
<codeline lineno="4750"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_asset_1_1_private" kindref="compound">Private</ref><sp/>)</highlight></codeline>
<codeline lineno="4751"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4752"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4753"><highlight class="normal"></highlight></codeline>
<codeline lineno="4754"><highlight class="normal">RichMediaAnnotation::Asset::~Asset()</highlight></codeline>
<codeline lineno="4755"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4756"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4757"><highlight class="normal"></highlight></codeline>
<codeline lineno="4758"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Asset::setName(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;name<sp/>)</highlight></codeline>
<codeline lineno="4759"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4760"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;name<sp/>=<sp/>name;</highlight></codeline>
<codeline lineno="4761"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4762"><highlight class="normal"></highlight></codeline>
<codeline lineno="4763" refid="class_poppler_1_1_rich_media_annotation_1_1_asset_1adfda5df2f7cc6ec814d6bd7b4a12d9f3" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_asset_1adfda5df2f7cc6ec814d6bd7b4a12d9f3" kindref="member">RichMediaAnnotation::Asset::name</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4764"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4765"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;name;</highlight></codeline>
<codeline lineno="4766"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4767"><highlight class="normal"></highlight></codeline>
<codeline lineno="4768"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Asset::setEmbeddedFile(<sp/><ref refid="class_poppler_1_1_embedded_file" kindref="compound">EmbeddedFile</ref><sp/>*<sp/>embeddedFile<sp/>)</highlight></codeline>
<codeline lineno="4769"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4770"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>d-&gt;embeddedFile;</highlight></codeline>
<codeline lineno="4771"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;embeddedFile<sp/>=<sp/>embeddedFile;</highlight></codeline>
<codeline lineno="4772"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4773"><highlight class="normal"></highlight></codeline>
<codeline lineno="4774" refid="class_poppler_1_1_rich_media_annotation_1_1_asset_1acac8bbfce1f90da91f7655e5eb1799d8" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_embedded_file" kindref="compound">EmbeddedFile</ref>*<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_asset_1acac8bbfce1f90da91f7655e5eb1799d8" kindref="member">RichMediaAnnotation::Asset::embeddedFile</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4775"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4776"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;embeddedFile;</highlight></codeline>
<codeline lineno="4777"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4778"><highlight class="normal"></highlight></codeline>
<codeline lineno="4779"><highlight class="normal"></highlight></codeline>
<codeline lineno="4780" refid="class_poppler_1_1_rich_media_annotation_1_1_content_1_1_private" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_content_1_1_private" kindref="compound">RichMediaAnnotation::Content::Private</ref></highlight></codeline>
<codeline lineno="4781"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4782"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_content_1_1_private" kindref="compound">Private</ref>()<sp/>{}</highlight></codeline>
<codeline lineno="4784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>~<ref refid="class_poppler_1_1_rich_media_annotation_1_1_content_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="4785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qDeleteAll(<sp/>configurations<sp/>);</highlight></codeline>
<codeline lineno="4787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>configurations.clear();</highlight></codeline>
<codeline lineno="4788"><highlight class="normal"></highlight></codeline>
<codeline lineno="4789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qDeleteAll(<sp/>assets<sp/>);</highlight></codeline>
<codeline lineno="4790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>assets.clear();</highlight></codeline>
<codeline lineno="4791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4792"><highlight class="normal"></highlight></codeline>
<codeline lineno="4793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;<sp/>RichMediaAnnotation::Configuration*<sp/>&gt;<sp/>configurations;</highlight></codeline>
<codeline lineno="4794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QList&lt;<sp/>RichMediaAnnotation::Asset*<sp/>&gt;<sp/>assets;</highlight></codeline>
<codeline lineno="4795"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4796"><highlight class="normal"></highlight></codeline>
<codeline lineno="4797"><highlight class="normal">RichMediaAnnotation::Content::Content()</highlight></codeline>
<codeline lineno="4798"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_content_1_1_private" kindref="compound">Private</ref><sp/>)</highlight></codeline>
<codeline lineno="4799"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4800"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4801"><highlight class="normal"></highlight></codeline>
<codeline lineno="4802"><highlight class="normal">RichMediaAnnotation::Content::~Content()</highlight></codeline>
<codeline lineno="4803"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4804"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4805"><highlight class="normal"></highlight></codeline>
<codeline lineno="4806"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Content::setConfigurations(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;<sp/>RichMediaAnnotation::Configuration*<sp/>&gt;<sp/>&amp;configurations<sp/>)</highlight></codeline>
<codeline lineno="4807"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4808"><highlight class="normal"><sp/><sp/><sp/><sp/>qDeleteAll(<sp/>d-&gt;configurations<sp/>);</highlight></codeline>
<codeline lineno="4809"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;configurations.clear();</highlight></codeline>
<codeline lineno="4810"><highlight class="normal"></highlight></codeline>
<codeline lineno="4811"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;configurations<sp/>=<sp/>configurations;</highlight></codeline>
<codeline lineno="4812"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4813"><highlight class="normal"></highlight></codeline>
<codeline lineno="4814" refid="class_poppler_1_1_rich_media_annotation_1_1_content_1aa05b36aa207a96c00abb651c5df80282" refkind="member"><highlight class="normal">QList&lt;<sp/>RichMediaAnnotation::Configuration*<sp/>&gt;<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_content_1aa05b36aa207a96c00abb651c5df80282" kindref="member">RichMediaAnnotation::Content::configurations</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4815"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4816"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;configurations;</highlight></codeline>
<codeline lineno="4817"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4818"><highlight class="normal"></highlight></codeline>
<codeline lineno="4819"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Content::setAssets(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QList&lt;<sp/>RichMediaAnnotation::Asset*<sp/>&gt;<sp/>&amp;assets<sp/>)</highlight></codeline>
<codeline lineno="4820"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4821"><highlight class="normal"><sp/><sp/><sp/><sp/>qDeleteAll(<sp/>d-&gt;assets<sp/>);</highlight></codeline>
<codeline lineno="4822"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;assets.clear();</highlight></codeline>
<codeline lineno="4823"><highlight class="normal"></highlight></codeline>
<codeline lineno="4824"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;assets<sp/>=<sp/>assets;</highlight></codeline>
<codeline lineno="4825"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4826"><highlight class="normal"></highlight></codeline>
<codeline lineno="4827" refid="class_poppler_1_1_rich_media_annotation_1_1_content_1a64b6bd21fb70aeed088ac1e0ce94eea4" refkind="member"><highlight class="normal">QList&lt;<sp/>RichMediaAnnotation::Asset*<sp/>&gt;<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_content_1a64b6bd21fb70aeed088ac1e0ce94eea4" kindref="member">RichMediaAnnotation::Content::assets</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4828"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4829"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;assets;</highlight></codeline>
<codeline lineno="4830"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4831"><highlight class="normal"></highlight></codeline>
<codeline lineno="4832"><highlight class="normal"></highlight></codeline>
<codeline lineno="4833" refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1_1_private" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1_1_private" kindref="compound">RichMediaAnnotation::Activation::Private</ref></highlight></codeline>
<codeline lineno="4834"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4835"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="4837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>condition(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1a6bd1a04f2b4b84df639ba04ea08b5f85aeb73eaacfd8116b861c7fd62f812bdac" kindref="member">RichMediaAnnotation::Activation::UserAction</ref><sp/>)</highlight></codeline>
<codeline lineno="4838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4840"><highlight class="normal"></highlight></codeline>
<codeline lineno="4841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1a6bd1a04f2b4b84df639ba04ea08b5f85" kindref="member">RichMediaAnnotation::Activation::Condition</ref><sp/>condition;</highlight></codeline>
<codeline lineno="4842"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4843"><highlight class="normal"></highlight></codeline>
<codeline lineno="4844"><highlight class="normal">RichMediaAnnotation::Activation::Activation()</highlight></codeline>
<codeline lineno="4845"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1_1_private" kindref="compound">Private</ref><sp/>)</highlight></codeline>
<codeline lineno="4846"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4847"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4848"><highlight class="normal"></highlight></codeline>
<codeline lineno="4849"><highlight class="normal">RichMediaAnnotation::Activation::~Activation()</highlight></codeline>
<codeline lineno="4850"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4851"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4852"><highlight class="normal"></highlight></codeline>
<codeline lineno="4853"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Activation::setCondition(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1a6bd1a04f2b4b84df639ba04ea08b5f85" kindref="member">Condition</ref><sp/>condition<sp/>)</highlight></codeline>
<codeline lineno="4854"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4855"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;condition<sp/>=<sp/>condition;</highlight></codeline>
<codeline lineno="4856"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4857"><highlight class="normal"></highlight></codeline>
<codeline lineno="4858" refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1aa783ac044437a650e664eebf391af1ae" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1a6bd1a04f2b4b84df639ba04ea08b5f85" kindref="member">RichMediaAnnotation::Activation::Condition</ref><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation_1aa783ac044437a650e664eebf391af1ae" kindref="member">RichMediaAnnotation::Activation::condition</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4859"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4860"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;condition;</highlight></codeline>
<codeline lineno="4861"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4862"><highlight class="normal"></highlight></codeline>
<codeline lineno="4863"><highlight class="normal"></highlight></codeline>
<codeline lineno="4864" refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1_1_private" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1_1_private" kindref="compound">RichMediaAnnotation::Deactivation::Private</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>QSharedData</highlight></codeline>
<codeline lineno="4865"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4866"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="4868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>condition(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1a54ffabfb7c1f3ad2ea052ba6689468d3a3cecd04e1b3de1873ae045959d549994" kindref="member">RichMediaAnnotation::Deactivation::UserAction</ref><sp/>)</highlight></codeline>
<codeline lineno="4869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4871"><highlight class="normal"></highlight></codeline>
<codeline lineno="4872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1a54ffabfb7c1f3ad2ea052ba6689468d3" kindref="member">RichMediaAnnotation::Deactivation::Condition</ref><sp/>condition;</highlight></codeline>
<codeline lineno="4873"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4874"><highlight class="normal"></highlight></codeline>
<codeline lineno="4875"><highlight class="normal">RichMediaAnnotation::Deactivation::Deactivation()</highlight></codeline>
<codeline lineno="4876"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1_1_private" kindref="compound">Private</ref><sp/>)</highlight></codeline>
<codeline lineno="4877"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4878"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4879"><highlight class="normal"></highlight></codeline>
<codeline lineno="4880"><highlight class="normal">RichMediaAnnotation::Deactivation::~Deactivation()</highlight></codeline>
<codeline lineno="4881"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4882"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4883"><highlight class="normal"></highlight></codeline>
<codeline lineno="4884"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Deactivation::setCondition(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1a54ffabfb7c1f3ad2ea052ba6689468d3" kindref="member">Condition</ref><sp/>condition<sp/>)</highlight></codeline>
<codeline lineno="4885"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4886"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;condition<sp/>=<sp/>condition;</highlight></codeline>
<codeline lineno="4887"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4888"><highlight class="normal"></highlight></codeline>
<codeline lineno="4889" refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1afd8f14b9dc45f7392b9a41ed4e2f768b" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1a54ffabfb7c1f3ad2ea052ba6689468d3" kindref="member">RichMediaAnnotation::Deactivation::Condition</ref><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation_1afd8f14b9dc45f7392b9a41ed4e2f768b" kindref="member">RichMediaAnnotation::Deactivation::condition</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4890"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4891"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;condition;</highlight></codeline>
<codeline lineno="4892"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4893"><highlight class="normal"></highlight></codeline>
<codeline lineno="4894"><highlight class="normal"></highlight></codeline>
<codeline lineno="4895" refid="class_poppler_1_1_rich_media_annotation_1_1_settings_1_1_private" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_settings_1_1_private" kindref="compound">RichMediaAnnotation::Settings::Private</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>QSharedData</highlight></codeline>
<codeline lineno="4896"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4897"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_settings_1_1_private" kindref="compound">Private</ref>()</highlight></codeline>
<codeline lineno="4899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>activation(<sp/>0<sp/>),<sp/>deactivation(<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="4900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4902"><highlight class="normal"></highlight></codeline>
<codeline lineno="4903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation" kindref="compound">RichMediaAnnotation::Activation</ref><sp/>*activation;</highlight></codeline>
<codeline lineno="4904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation" kindref="compound">RichMediaAnnotation::Deactivation</ref><sp/>*deactivation;</highlight></codeline>
<codeline lineno="4905"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4906"><highlight class="normal"></highlight></codeline>
<codeline lineno="4907"><highlight class="normal">RichMediaAnnotation::Settings::Settings()</highlight></codeline>
<codeline lineno="4908"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/>d(<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_settings_1_1_private" kindref="compound">Private</ref><sp/>)</highlight></codeline>
<codeline lineno="4909"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4910"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4911"><highlight class="normal"></highlight></codeline>
<codeline lineno="4912"><highlight class="normal">RichMediaAnnotation::Settings::~Settings()</highlight></codeline>
<codeline lineno="4913"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4914"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4915"><highlight class="normal"></highlight></codeline>
<codeline lineno="4916"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Settings::setActivation(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation" kindref="compound">RichMediaAnnotation::Activation</ref><sp/>*activation<sp/>)</highlight></codeline>
<codeline lineno="4917"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4918"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>d-&gt;activation;</highlight></codeline>
<codeline lineno="4919"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;activation<sp/>=<sp/>activation;</highlight></codeline>
<codeline lineno="4920"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4921"><highlight class="normal"></highlight></codeline>
<codeline lineno="4922" refid="class_poppler_1_1_rich_media_annotation_1_1_settings_1a728542a659141af0cf7a721561b20bf4" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_activation" kindref="compound">RichMediaAnnotation::Activation</ref>*<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_settings_1a728542a659141af0cf7a721561b20bf4" kindref="member">RichMediaAnnotation::Settings::activation</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4923"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4924"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;activation;</highlight></codeline>
<codeline lineno="4925"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4926"><highlight class="normal"></highlight></codeline>
<codeline lineno="4927"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::Settings::setDeactivation(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation" kindref="compound">RichMediaAnnotation::Deactivation</ref><sp/>*deactivation<sp/>)</highlight></codeline>
<codeline lineno="4928"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4929"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>d-&gt;deactivation;</highlight></codeline>
<codeline lineno="4930"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;deactivation<sp/>=<sp/>deactivation;</highlight></codeline>
<codeline lineno="4931"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4932"><highlight class="normal"></highlight></codeline>
<codeline lineno="4933" refid="class_poppler_1_1_rich_media_annotation_1_1_settings_1ad82cea32021c702293df20ec644caf16" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_deactivation" kindref="compound">RichMediaAnnotation::Deactivation</ref>*<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_settings_1ad82cea32021c702293df20ec644caf16" kindref="member">RichMediaAnnotation::Settings::deactivation</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4934"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4935"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;deactivation;</highlight></codeline>
<codeline lineno="4936"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4937"><highlight class="normal"></highlight></codeline>
<codeline lineno="4938"><highlight class="normal"></highlight></codeline>
<codeline lineno="4939" refid="class_poppler_1_1_rich_media_annotation_private" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_private" kindref="compound">RichMediaAnnotationPrivate</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_private" kindref="compound">AnnotationPrivate</ref></highlight></codeline>
<codeline lineno="4940"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4941"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_private" kindref="compound">RichMediaAnnotationPrivate</ref>()</highlight></codeline>
<codeline lineno="4943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>settings(<sp/>0<sp/>),<sp/><ref refid="namespacecontent" kindref="compound">content</ref>(<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="4944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4946"><highlight class="normal"></highlight></codeline>
<codeline lineno="4947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>~<ref refid="class_poppler_1_1_rich_media_annotation_private" kindref="compound">RichMediaAnnotationPrivate</ref>()</highlight></codeline>
<codeline lineno="4948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>settings;</highlight></codeline>
<codeline lineno="4950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="namespacecontent" kindref="compound">content</ref>;</highlight></codeline>
<codeline lineno="4951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4952"><highlight class="normal"></highlight></codeline>
<codeline lineno="4953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref><sp/>*<sp/>makeAlias()</highlight></codeline>
<codeline lineno="4954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation" kindref="compound">RichMediaAnnotation</ref>(<sp/>*</highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="4956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4957"><highlight class="normal"></highlight></codeline>
<codeline lineno="4958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_annot" kindref="compound">Annot</ref>*<sp/>createNativeAnnot(<sp/>::<ref refid="class_poppler_1_1_page" kindref="compound">Page</ref><sp/>*destPage,<sp/><ref refid="class_poppler_1_1_document_data" kindref="compound">DocumentData</ref><sp/>*doc<sp/>)</highlight></codeline>
<codeline lineno="4959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_UNUSED(<sp/>destPage<sp/>);</highlight></codeline>
<codeline lineno="4961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_UNUSED(<sp/>doc<sp/>);</highlight></codeline>
<codeline lineno="4962"><highlight class="normal"></highlight></codeline>
<codeline lineno="4963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="4964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4965"><highlight class="normal"></highlight></codeline>
<codeline lineno="4966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_settings" kindref="compound">RichMediaAnnotation::Settings</ref><sp/>*settings;</highlight></codeline>
<codeline lineno="4967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_content" kindref="compound">RichMediaAnnotation::Content</ref><sp/>*<ref refid="namespacecontent" kindref="compound">content</ref>;</highlight></codeline>
<codeline lineno="4968"><highlight class="normal">};</highlight></codeline>
<codeline lineno="4969"><highlight class="normal"></highlight></codeline>
<codeline lineno="4970"><highlight class="normal">RichMediaAnnotation::RichMediaAnnotation()</highlight></codeline>
<codeline lineno="4971"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_private" kindref="compound">RichMediaAnnotationPrivate</ref>()<sp/>)</highlight></codeline>
<codeline lineno="4972"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4973"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4974"><highlight class="normal"></highlight></codeline>
<codeline lineno="4975"><highlight class="normal">RichMediaAnnotation::RichMediaAnnotation(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_private" kindref="compound">RichMediaAnnotationPrivate</ref><sp/>&amp;dd<sp/>)</highlight></codeline>
<codeline lineno="4976"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>dd<sp/>)</highlight></codeline>
<codeline lineno="4977"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4978"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4979"><highlight class="normal"></highlight></codeline>
<codeline lineno="4980"><highlight class="normal">RichMediaAnnotation::RichMediaAnnotation(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QDomNode<sp/>&amp;<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="4981"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_poppler_1_1_annotation" kindref="compound">Annotation</ref>(<sp/>*</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation_private" kindref="compound">RichMediaAnnotationPrivate</ref>(),<sp/>node<sp/>)</highlight></codeline>
<codeline lineno="4982"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4983"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loop<sp/>through<sp/>the<sp/>whole<sp/>children<sp/>looking<sp/>for<sp/>a<sp/>&apos;richMedia&apos;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4984"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomNode<sp/>subNode<sp/>=<sp/>node.firstChild();</highlight></codeline>
<codeline lineno="4985"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>subNode.isElement()<sp/>)</highlight></codeline>
<codeline lineno="4986"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QDomElement<sp/>e<sp/>=<sp/>subNode.toElement();</highlight></codeline>
<codeline lineno="4988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>subNode<sp/>=<sp/>subNode.nextSibling();</highlight></codeline>
<codeline lineno="4989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>e.tagName()<sp/>!=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;richMedia&quot;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="4990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4991"><highlight class="normal"></highlight></codeline>
<codeline lineno="4992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>loading<sp/>complete</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4994"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4995"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4996"><highlight class="normal"></highlight></codeline>
<codeline lineno="4997"><highlight class="normal">RichMediaAnnotation::~RichMediaAnnotation()</highlight></codeline>
<codeline lineno="4998"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4999"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5000"><highlight class="normal"></highlight></codeline>
<codeline lineno="5001"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::store(<sp/>QDomNode<sp/>&amp;<sp/>node,<sp/>QDomDocument<sp/>&amp;<sp/>document<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="5002"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="5003"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>base<sp/>annotation<sp/>properties</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5004"><highlight class="normal"><sp/><sp/><sp/><sp/>storeBaseAnnotationProperties(<sp/>node,<sp/>document<sp/>);</highlight></codeline>
<codeline lineno="5005"><highlight class="normal"></highlight></codeline>
<codeline lineno="5006"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>[richMedia]<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5007"><highlight class="normal"><sp/><sp/><sp/><sp/>QDomElement<sp/>richMediaElement<sp/>=<sp/>document.createElement(<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;richMedia&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="5008"><highlight class="normal"><sp/><sp/><sp/><sp/>node.appendChild(<sp/>richMediaElement<sp/>);</highlight></codeline>
<codeline lineno="5009"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5010"><highlight class="normal"></highlight></codeline>
<codeline lineno="5011" refid="class_poppler_1_1_rich_media_annotation_1ae853275d25fdd1e415ce28045dbc857f" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113f" kindref="member">Annotation::SubType</ref><sp/><ref refid="class_poppler_1_1_rich_media_annotation_1ae853275d25fdd1e415ce28045dbc857f" kindref="member">RichMediaAnnotation::subType</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="5012"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="5013"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_annotation_1a2d592999c330949d64679cfa9e81113fa5847a71be848b7516dee43d8ccd3d927" kindref="member">ARichMedia</ref>;</highlight></codeline>
<codeline lineno="5014"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5015"><highlight class="normal"></highlight></codeline>
<codeline lineno="5016"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::setSettings(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_settings" kindref="compound">RichMediaAnnotation::Settings</ref><sp/>*settings<sp/>)</highlight></codeline>
<codeline lineno="5017"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5018"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_rich_media_annotation" kindref="compound">RichMediaAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="5019"><highlight class="normal"></highlight></codeline>
<codeline lineno="5020"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>d-&gt;settings;</highlight></codeline>
<codeline lineno="5021"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;settings<sp/>=<sp/>settings;</highlight></codeline>
<codeline lineno="5022"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5023"><highlight class="normal"></highlight></codeline>
<codeline lineno="5024" refid="class_poppler_1_1_rich_media_annotation_1ad80e513295b78d1d38d89a360a624649" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_settings" kindref="compound">RichMediaAnnotation::Settings</ref>*<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1ad80e513295b78d1d38d89a360a624649" kindref="member">RichMediaAnnotation::settings</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="5025"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="5026"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation" kindref="compound">RichMediaAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="5027"><highlight class="normal"></highlight></codeline>
<codeline lineno="5028"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;settings;</highlight></codeline>
<codeline lineno="5029"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5030"><highlight class="normal"></highlight></codeline>
<codeline lineno="5031"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>RichMediaAnnotation::setContent(<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1_1_content" kindref="compound">RichMediaAnnotation::Content</ref><sp/>*<ref refid="namespacecontent" kindref="compound">content</ref><sp/>)</highlight></codeline>
<codeline lineno="5032"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5033"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/><ref refid="class_poppler_1_1_rich_media_annotation" kindref="compound">RichMediaAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="5034"><highlight class="normal"></highlight></codeline>
<codeline lineno="5035"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>d-&gt;content;</highlight></codeline>
<codeline lineno="5036"><highlight class="normal"><sp/><sp/><sp/><sp/>d-&gt;content<sp/>=<sp/>content;</highlight></codeline>
<codeline lineno="5037"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5038"><highlight class="normal"></highlight></codeline>
<codeline lineno="5039" refid="class_poppler_1_1_rich_media_annotation_1af648b2e0f5c00ab7bc01d0bb1ae5681f" refkind="member"><highlight class="normal"><ref refid="class_poppler_1_1_rich_media_annotation_1_1_content" kindref="compound">RichMediaAnnotation::Content</ref>*<sp/><ref refid="class_poppler_1_1_rich_media_annotation_1af648b2e0f5c00ab7bc01d0bb1ae5681f" kindref="member">RichMediaAnnotation::content</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="5040"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="5041"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_D(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_poppler_1_1_rich_media_annotation" kindref="compound">RichMediaAnnotation</ref><sp/>);</highlight></codeline>
<codeline lineno="5042"><highlight class="normal"></highlight></codeline>
<codeline lineno="5043"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>d-&gt;content;</highlight></codeline>
<codeline lineno="5044"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5045"><highlight class="normal"></highlight></codeline>
<codeline lineno="5046"><highlight class="normal"></highlight></codeline>
<codeline lineno="5047"><highlight class="normal"></highlight><highlight class="comment">//BEGIN<sp/>utility<sp/>annotation<sp/>functions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5048"><highlight class="normal">QColor<sp/>convertAnnotColor(<sp/><ref refid="class_annot_color" kindref="compound">AnnotColor</ref><sp/>*color<sp/>)</highlight></codeline>
<codeline lineno="5049"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5050"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!color<sp/>)</highlight></codeline>
<codeline lineno="5051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QColor();</highlight></codeline>
<codeline lineno="5052"><highlight class="normal"></highlight></codeline>
<codeline lineno="5053"><highlight class="normal"><sp/><sp/><sp/><sp/>QColor<sp/>newcolor;</highlight></codeline>
<codeline lineno="5054"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*color_data<sp/>=<sp/>color-&gt;getValues();</highlight></codeline>
<codeline lineno="5055"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>color-&gt;getSpace()<sp/>)</highlight></codeline>
<codeline lineno="5056"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotColor::colorTransparent:<sp/></highlight><highlight class="comment">//<sp/>=<sp/>0,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newcolor<sp/>=<sp/>Qt::transparent;</highlight></codeline>
<codeline lineno="5059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotColor::colorGray:<sp/></highlight><highlight class="comment">//<sp/>=<sp/>1,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newcolor.setRgbF(<sp/>color_data[0],<sp/>color_data[0],<sp/>color_data[0]<sp/>);</highlight></codeline>
<codeline lineno="5062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotColor::colorRGB:<sp/></highlight><highlight class="comment">//<sp/>=<sp/>3,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newcolor.setRgbF(<sp/>color_data[0],<sp/>color_data[1],<sp/>color_data[2]<sp/>);</highlight></codeline>
<codeline lineno="5065"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>AnnotColor::colorCMYK:<sp/></highlight><highlight class="comment">//<sp/>=<sp/>4</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newcolor.setCmykF(<sp/>color_data[0],<sp/>color_data[1],<sp/>color_data[2],<sp/>color_data[3]<sp/>);</highlight></codeline>
<codeline lineno="5068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5069"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5070"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>newcolor;</highlight></codeline>
<codeline lineno="5071"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5072"><highlight class="normal"></highlight></codeline>
<codeline lineno="5073"><highlight class="normal"><ref refid="class_annot_color" kindref="compound">AnnotColor</ref>*<sp/>convertQColor(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QColor<sp/>&amp;c<sp/>)</highlight></codeline>
<codeline lineno="5074"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5075"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!c.isValid()<sp/>||<sp/>c.alpha()<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="5076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_color" kindref="compound">AnnotColor</ref>();<sp/></highlight><highlight class="comment">//<sp/>Transparent</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5077"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_annot_color" kindref="compound">AnnotColor</ref>(c.redF(),<sp/>c.greenF(),<sp/>c.blueF());</highlight></codeline>
<codeline lineno="5079"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5080"><highlight class="normal"></highlight><highlight class="comment">//END<sp/>utility<sp/>annotation<sp/>functions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5081"><highlight class="normal"></highlight></codeline>
<codeline lineno="5082"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="thirdparty/poppler/qt5/poppler-annotation.cc"/>
  </compounddef>
</doxygen>
